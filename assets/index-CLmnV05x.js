var CN=Object.defineProperty;var xN=(n,e,t)=>e in n?CN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ld=(n,e,t)=>xN(n,typeof e!="symbol"?e+"":e,t);function AN(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function a0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var gv={exports:{}},ud={},yv={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NS;function PN(){if(NS)return et;NS=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,C={};function x(q,Z,_e){this.props=q,this.context=Z,this.refs=C,this.updater=_e||I}x.prototype.isReactComponent={},x.prototype.setState=function(q,Z){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Z,"setState")},x.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function D(){}D.prototype=x.prototype;function U(q,Z,_e){this.props=q,this.context=Z,this.refs=C,this.updater=_e||I}var M=U.prototype=new D;M.constructor=U,b(M,x.prototype),M.isPureReactComponent=!0;var j=Array.isArray,A=Object.prototype.hasOwnProperty,z={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function k(q,Z,_e){var be,Se={},Re=null,Te=null;if(Z!=null)for(be in Z.ref!==void 0&&(Te=Z.ref),Z.key!==void 0&&(Re=""+Z.key),Z)A.call(Z,be)&&!O.hasOwnProperty(be)&&(Se[be]=Z[be]);var Ne=arguments.length-2;if(Ne===1)Se.children=_e;else if(1<Ne){for(var we=Array(Ne),G=0;G<Ne;G++)we[G]=arguments[G+2];Se.children=we}if(q&&q.defaultProps)for(be in Ne=q.defaultProps,Ne)Se[be]===void 0&&(Se[be]=Ne[be]);return{$$typeof:n,type:q,key:Re,ref:Te,props:Se,_owner:z.current}}function L(q,Z){return{$$typeof:n,type:q.type,key:Z,ref:q.ref,props:q.props,_owner:q._owner}}function E(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function N(q){var Z={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(_e){return Z[_e]})}var B=/\/+/g;function F(q,Z){return typeof q=="object"&&q!==null&&q.key!=null?N(""+q.key):Z.toString(36)}function ae(q,Z,_e,be,Se){var Re=typeof q;(Re==="undefined"||Re==="boolean")&&(q=null);var Te=!1;if(q===null)Te=!0;else switch(Re){case"string":case"number":Te=!0;break;case"object":switch(q.$$typeof){case n:case e:Te=!0}}if(Te)return Te=q,Se=Se(Te),q=be===""?"."+F(Te,0):be,j(Se)?(_e="",q!=null&&(_e=q.replace(B,"$&/")+"/"),ae(Se,Z,_e,"",function(G){return G})):Se!=null&&(E(Se)&&(Se=L(Se,_e+(!Se.key||Te&&Te.key===Se.key?"":(""+Se.key).replace(B,"$&/")+"/")+q)),Z.push(Se)),1;if(Te=0,be=be===""?".":be+":",j(q))for(var Ne=0;Ne<q.length;Ne++){Re=q[Ne];var we=be+F(Re,Ne);Te+=ae(Re,Z,_e,we,Se)}else if(we=v(q),typeof we=="function")for(q=we.call(q),Ne=0;!(Re=q.next()).done;)Re=Re.value,we=be+F(Re,Ne++),Te+=ae(Re,Z,_e,we,Se);else if(Re==="object")throw Z=String(q),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Te}function le(q,Z,_e){if(q==null)return q;var be=[],Se=0;return ae(q,be,"","",function(Re){return Z.call(_e,Re,Se++)}),be}function fe(q){if(q._status===-1){var Z=q._result;Z=Z(),Z.then(function(_e){(q._status===0||q._status===-1)&&(q._status=1,q._result=_e)},function(_e){(q._status===0||q._status===-1)&&(q._status=2,q._result=_e)}),q._status===-1&&(q._status=0,q._result=Z)}if(q._status===1)return q._result.default;throw q._result}var Ee={current:null},ie={transition:null},se={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:ie,ReactCurrentOwner:z};function ge(){throw Error("act(...) is not supported in production builds of React.")}return et.Children={map:le,forEach:function(q,Z,_e){le(q,function(){Z.apply(this,arguments)},_e)},count:function(q){var Z=0;return le(q,function(){Z++}),Z},toArray:function(q){return le(q,function(Z){return Z})||[]},only:function(q){if(!E(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},et.Component=x,et.Fragment=t,et.Profiler=i,et.PureComponent=U,et.StrictMode=r,et.Suspense=d,et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,et.act=ge,et.cloneElement=function(q,Z,_e){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var be=b({},q.props),Se=q.key,Re=q.ref,Te=q._owner;if(Z!=null){if(Z.ref!==void 0&&(Re=Z.ref,Te=z.current),Z.key!==void 0&&(Se=""+Z.key),q.type&&q.type.defaultProps)var Ne=q.type.defaultProps;for(we in Z)A.call(Z,we)&&!O.hasOwnProperty(we)&&(be[we]=Z[we]===void 0&&Ne!==void 0?Ne[we]:Z[we])}var we=arguments.length-2;if(we===1)be.children=_e;else if(1<we){Ne=Array(we);for(var G=0;G<we;G++)Ne[G]=arguments[G+2];be.children=Ne}return{$$typeof:n,type:q.type,key:Se,ref:Re,props:be,_owner:Te}},et.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:s,_context:q},q.Consumer=q},et.createElement=k,et.createFactory=function(q){var Z=k.bind(null,q);return Z.type=q,Z},et.createRef=function(){return{current:null}},et.forwardRef=function(q){return{$$typeof:u,render:q}},et.isValidElement=E,et.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:fe}},et.memo=function(q,Z){return{$$typeof:f,type:q,compare:Z===void 0?null:Z}},et.startTransition=function(q){var Z=ie.transition;ie.transition={};try{q()}finally{ie.transition=Z}},et.unstable_act=ge,et.useCallback=function(q,Z){return Ee.current.useCallback(q,Z)},et.useContext=function(q){return Ee.current.useContext(q)},et.useDebugValue=function(){},et.useDeferredValue=function(q){return Ee.current.useDeferredValue(q)},et.useEffect=function(q,Z){return Ee.current.useEffect(q,Z)},et.useId=function(){return Ee.current.useId()},et.useImperativeHandle=function(q,Z,_e){return Ee.current.useImperativeHandle(q,Z,_e)},et.useInsertionEffect=function(q,Z){return Ee.current.useInsertionEffect(q,Z)},et.useLayoutEffect=function(q,Z){return Ee.current.useLayoutEffect(q,Z)},et.useMemo=function(q,Z){return Ee.current.useMemo(q,Z)},et.useReducer=function(q,Z,_e){return Ee.current.useReducer(q,Z,_e)},et.useRef=function(q){return Ee.current.useRef(q)},et.useState=function(q){return Ee.current.useState(q)},et.useSyncExternalStore=function(q,Z,_e){return Ee.current.useSyncExternalStore(q,Z,_e)},et.useTransition=function(){return Ee.current.useTransition()},et.version="18.3.1",et}var DS;function l0(){return DS||(DS=1,yv.exports=PN()),yv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OS;function kN(){if(OS)return ud;OS=1;var n=l0(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var m,g={},v=null,I=null;f!==void 0&&(v=""+f),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(I=d.ref);for(m in d)r.call(d,m)&&!s.hasOwnProperty(m)&&(g[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)g[m]===void 0&&(g[m]=d[m]);return{$$typeof:e,type:u,key:v,ref:I,props:g,_owner:i.current}}return ud.Fragment=t,ud.jsx=l,ud.jsxs=l,ud}var MS;function NN(){return MS||(MS=1,gv.exports=kN()),gv.exports}var S=NN(),R=l0();const Rn=a0(R),i_=AN({__proto__:null,default:Rn},[R]);var cd={},LS;function DN(){if(LS)return cd;LS=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.parse=l,cd.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function l(v,I){const b=new s,C=v.length;if(C<2)return b;const x=(I==null?void 0:I.decode)||m;let D=0;do{const U=v.indexOf("=",D);if(U===-1)break;const M=v.indexOf(";",D),j=M===-1?C:M;if(U>j){D=v.lastIndexOf(";",U-1)+1;continue}const A=u(v,D,U),z=d(v,U,A),O=v.slice(A,z);if(b[O]===void 0){let k=u(v,U+1,j),L=d(v,j,k);const E=x(v.slice(k,L));b[O]=E}D=j+1}while(D<C);return b}function u(v,I,b){do{const C=v.charCodeAt(I);if(C!==32&&C!==9)return I}while(++I<b);return b}function d(v,I,b){for(;I>b;){const C=v.charCodeAt(--I);if(C!==32&&C!==9)return I+1}return b}function f(v,I,b){const C=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const x=C(I);if(!e.test(x))throw new TypeError(`argument val is invalid: ${I}`);let D=v+"="+x;if(!b)return D;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);D+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);D+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);D+="; Path="+b.path}if(b.expires){if(!g(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);D+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(D+="; HttpOnly"),b.secure&&(D+="; Secure"),b.partitioned&&(D+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return D}function m(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function g(v){return i.call(v)==="[object Date]"}return cd}DN();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var VS="popstate";function ON(n={}){function e(i,s){let{pathname:l="/",search:u="",hash:d=""}=fl(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),s_("",{pathname:l,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let d=i.location.href,f=d.indexOf("#");u=f===-1?d:d.slice(0,f)}return u+"#"+(typeof s=="string"?s:eh(s))}function r(i,s){ki(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return LN(e,t,r,n)}function Wt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ki(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MN(){return Math.random().toString(36).substring(2,10)}function FS(n,e){return{usr:n.state,key:n.key,idx:e}}function s_(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?fl(e):e,state:t,key:e&&e.key||r||MN()}}function eh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function fl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function LN(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,u="POP",d=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function g(){u="POP";let x=m(),D=x==null?null:x-f;f=x,d&&d({action:u,location:C.location,delta:D})}function v(x,D){u="PUSH";let U=s_(C.location,x,D);t(U,x),f=m()+1;let M=FS(U,f),j=C.createHref(U);try{l.pushState(M,"",j)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(j)}s&&d&&d({action:u,location:C.location,delta:1})}function I(x,D){u="REPLACE";let U=s_(C.location,x,D);t(U,x),f=m();let M=FS(U,f),j=C.createHref(U);l.replaceState(M,"",j),s&&d&&d({action:u,location:C.location,delta:0})}function b(x){let D=i.location.origin!=="null"?i.location.origin:i.location.href,U=typeof x=="string"?x:eh(x);return U=U.replace(/ $/,"%20"),Wt(D,`No window.location.(origin|href) available to create URL for href: ${U}`),new URL(U,D)}let C={get action(){return u},get location(){return n(i,l)},listen(x){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(VS,g),d=x,()=>{i.removeEventListener(VS,g),d=null}},createHref(x){return e(i,x)},createURL:b,encodeLocation(x){let D=b(x);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:v,replace:I,go(x){return l.go(x)}};return C}function W1(n,e,t="/"){return VN(n,e,t,!1)}function VN(n,e,t,r){let i=typeof e=="string"?fl(e):e,s=zo(i.pathname||"/",t);if(s==null)return null;let l=q1(n);FN(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=G1(s);u=GN(l[d],f,r)}return u}function q1(n,e=[],t=[],r=""){let i=(s,l,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};d.relativePath.startsWith("/")&&(Wt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let f=js([r,d.relativePath]),m=t.concat(d);s.children&&s.children.length>0&&(Wt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),q1(s.children,e,m,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:qN(f,s.index),routesMeta:m})};return n.forEach((s,l)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,l);else for(let d of H1(s.path))i(s,l,d)}),e}function H1(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=H1(r.join("/")),u=[];return u.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function FN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:HN(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var jN=/^:[\w-]+$/,UN=3,BN=2,$N=1,zN=10,WN=-2,jS=n=>n==="*";function qN(n,e){let t=n.split("/"),r=t.length;return t.some(jS)&&(r+=WN),e&&(r+=BN),t.filter(i=>!jS(i)).reduce((i,s)=>i+(jN.test(s)?UN:s===""?$N:zN),r)}function HN(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function GN(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",g=th({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),v=d.route;if(!g&&f&&t&&!r[r.length-1].route.index&&(g=th({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:js([s,g.pathname]),pathnameBase:XN(js([s,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(s=js([s,g.pathnameBase]))}return l}function th(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=KN(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:g},v)=>{if(m==="*"){let b=u[v]||"";l=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const I=u[v];return g&&!I?f[m]=void 0:f[m]=(I||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:n}}function KN(n,e=!1,t=!0){ki(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function G1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ki(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function zo(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function QN(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?fl(n):n;return{pathname:t?t.startsWith("/")?t:JN(t,e):e,search:ZN(r),hash:eD(i)}}function JN(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function vv(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function K1(n){let e=YN(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Q1(n,e,t,r=!1){let i;typeof n=="string"?i=fl(n):(i={...n},Wt(!i.pathname||!i.pathname.includes("?"),vv("?","pathname","search",i)),Wt(!i.pathname||!i.pathname.includes("#"),vv("#","pathname","hash",i)),Wt(!i.search||!i.search.includes("#"),vv("#","search","hash",i)));let s=n===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=t;else{let g=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}u=g>=0?e[g]:"/"}let d=QN(i,u),f=l&&l!=="/"&&l.endsWith("/"),m=(s||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var js=n=>n.join("/").replace(/\/\/+/g,"/"),XN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ZN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,eD=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function tD(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var J1=["POST","PUT","PATCH","DELETE"];new Set(J1);var nD=["GET",...J1];new Set(nD);var rc=R.createContext(null);rc.displayName="DataRouter";var Fm=R.createContext(null);Fm.displayName="DataRouterState";var Y1=R.createContext({isTransitioning:!1});Y1.displayName="ViewTransition";var rD=R.createContext(new Map);rD.displayName="Fetchers";var iD=R.createContext(null);iD.displayName="Await";var gs=R.createContext(null);gs.displayName="Navigation";var Ch=R.createContext(null);Ch.displayName="Location";var Js=R.createContext({outlet:null,matches:[],isDataRoute:!1});Js.displayName="Route";var u0=R.createContext(null);u0.displayName="RouteError";function sD(n,{relative:e}={}){Wt(ic(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=R.useContext(gs),{hash:i,pathname:s,search:l}=sc(n,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:js([t,s])),r.createHref({pathname:u,search:l,hash:i})}function ic(){return R.useContext(Ch)!=null}function ia(){return Wt(ic(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Ch).location}function oD(n){Wt(ic(),"useMatch() may be used only in the context of a <Router> component.");let{pathname:e}=ia();return R.useMemo(()=>th(n,G1(e)),[e,n])}var X1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Z1(n){R.useContext(gs).static||R.useLayoutEffect(n)}function pl(){let{isDataRoute:n}=R.useContext(Js);return n?_D():aD()}function aD(){Wt(ic(),"useNavigate() may be used only in the context of a <Router> component.");let n=R.useContext(rc),{basename:e,navigator:t}=R.useContext(gs),{matches:r}=R.useContext(Js),{pathname:i}=ia(),s=JSON.stringify(K1(r)),l=R.useRef(!1);return Z1(()=>{l.current=!0}),R.useCallback((d,f={})=>{if(ki(l.current,X1),!l.current)return;if(typeof d=="number"){t.go(d);return}let m=Q1(d,JSON.parse(s),i,f.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:js([e,m.pathname])),(f.replace?t.replace:t.push)(m,f.state,f)},[e,t,s,i,n])}R.createContext(null);function sc(n,{relative:e}={}){let{matches:t}=R.useContext(Js),{pathname:r}=ia(),i=JSON.stringify(K1(t));return R.useMemo(()=>Q1(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function lD(n,e){return eR(n,e)}function eR(n,e,t,r){var D;Wt(ic(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=R.useContext(gs),{matches:s}=R.useContext(Js),l=s[s.length-1],u=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let U=m&&m.path||"";tR(d,!m||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let g=ia(),v;if(e){let U=typeof e=="string"?fl(e):e;Wt(f==="/"||((D=U.pathname)==null?void 0:D.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${U.pathname}" was given in the \`location\` prop.`),v=U}else v=g;let I=v.pathname||"/",b=I;if(f!=="/"){let U=f.replace(/^\//,"").split("/");b="/"+I.replace(/^\//,"").split("/").slice(U.length).join("/")}let C=W1(n,{pathname:b});ki(m||C!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ki(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=fD(C&&C.map(U=>Object.assign({},U,{params:Object.assign({},u,U.params),pathname:js([f,i.encodeLocation?i.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?f:js([f,i.encodeLocation?i.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),s,t,r);return e&&x?R.createElement(Ch.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},x):x}function uD(){let n=vD(),e=tD(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=R.createElement(R.Fragment,null,R.createElement("p",null,"💿 Hey developer 👋"),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:s},"ErrorBoundary")," or"," ",R.createElement("code",{style:s},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),t?R.createElement("pre",{style:i},t):null,l)}var cD=R.createElement(uD,null),dD=class extends R.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?R.createElement(Js.Provider,{value:this.props.routeContext},R.createElement(u0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hD({routeContext:n,match:e,children:t}){let r=R.useContext(rc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Js.Provider,{value:n},t)}function fD(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let d=i.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);Wt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(t)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:g}=t,v=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let g,v=!1,I=null,b=null;t&&(g=s&&f.route.id?s[f.route.id]:void 0,I=f.route.errorElement||cD,l&&(u<0&&m===0?(tR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,b=null):u===m&&(v=!0,b=f.route.hydrateFallbackElement||null)));let C=e.concat(i.slice(0,m+1)),x=()=>{let D;return g?D=I:v?D=b:f.route.Component?D=R.createElement(f.route.Component,null):f.route.element?D=f.route.element:D=d,R.createElement(hD,{match:f,routeContext:{outlet:d,matches:C,isDataRoute:t!=null},children:D})};return t&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?R.createElement(dD,{location:t.location,revalidation:t.revalidation,component:I,error:g,children:x(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):x()},null)}function c0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pD(n){let e=R.useContext(rc);return Wt(e,c0(n)),e}function mD(n){let e=R.useContext(Fm);return Wt(e,c0(n)),e}function gD(n){let e=R.useContext(Js);return Wt(e,c0(n)),e}function d0(n){let e=gD(n),t=e.matches[e.matches.length-1];return Wt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function yD(){return d0("useRouteId")}function vD(){var r;let n=R.useContext(u0),e=mD("useRouteError"),t=d0("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function _D(){let{router:n}=pD("useNavigate"),e=d0("useNavigate"),t=R.useRef(!1);return Z1(()=>{t.current=!0}),R.useCallback(async(i,s={})=>{ki(t.current,X1),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var US={};function tR(n,e,t){!e&&!US[n]&&(US[n]=!0,ki(!1,t))}R.memo(wD);function wD({routes:n,future:e,state:t}){return eR(n,void 0,t,e)}function gn(n){Wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ED({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){Wt(!ic(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=R.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof t=="string"&&(t=fl(t));let{pathname:d="/",search:f="",hash:m="",state:g=null,key:v="default"}=t,I=R.useMemo(()=>{let b=zo(d,l);return b==null?null:{location:{pathname:b,search:f,hash:m,state:g,key:v},navigationType:r}},[l,d,f,m,g,v,r]);return ki(I!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:R.createElement(gs.Provider,{value:u},R.createElement(Ch.Provider,{children:e,value:I}))}function ID({children:n,location:e}){return lD(o_(n),e)}function o_(n,e=[]){let t=[];return R.Children.forEach(n,(r,i)=>{if(!R.isValidElement(r))return;let s=[...e,i];if(r.type===R.Fragment){t.push.apply(t,o_(r.props.children,s));return}Wt(r.type===gn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=o_(r.props.children,s)),t.push(l)}),t}var jp="get",Up="application/x-www-form-urlencoded";function jm(n){return n!=null&&typeof n.tagName=="string"}function SD(n){return jm(n)&&n.tagName.toLowerCase()==="button"}function TD(n){return jm(n)&&n.tagName.toLowerCase()==="form"}function bD(n){return jm(n)&&n.tagName.toLowerCase()==="input"}function RD(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function CD(n,e){return n.button===0&&(!e||e==="_self")&&!RD(n)}var yp=null;function xD(){if(yp===null)try{new FormData(document.createElement("form"),0),yp=!1}catch{yp=!0}return yp}var AD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _v(n){return n!=null&&!AD.has(n)?(ki(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Up}"`),null):n}function PD(n,e){let t,r,i,s,l;if(TD(n)){let u=n.getAttribute("action");r=u?zo(u,e):null,t=n.getAttribute("method")||jp,i=_v(n.getAttribute("enctype"))||Up,s=new FormData(n)}else if(SD(n)||bD(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(r=d?zo(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||jp,i=_v(n.getAttribute("formenctype"))||_v(u.getAttribute("enctype"))||Up,s=new FormData(u,n),!xD()){let{name:f,type:m,value:g}=n;if(m==="image"){let v=f?`${f}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else f&&s.append(f,g)}}else{if(jm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=jp,r=null,i=Up,l=n}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:l}}function h0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function kD(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ND(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function DD(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await kD(s,t);return l.links?l.links():[]}return[]}));return VD(r.flat(1).filter(ND).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function BS(n,e,t,r,i,s){let l=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,u=(d,f)=>{var m;return t[f].pathname!==d.pathname||((m=t[f].route.path)==null?void 0:m.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return s==="assets"?e.filter((d,f)=>l(d,f)||u(d,f)):s==="data"?e.filter((d,f)=>{var g;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function OD(n,e){return MD(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function MD(n){return[...new Set(n)]}function LD(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function VD(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(LD(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function FD(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function jD(){let n=R.useContext(rc);return h0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function UD(){let n=R.useContext(Fm);return h0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var f0=R.createContext(void 0);f0.displayName="FrameworkContext";function nR(){let n=R.useContext(f0);return h0(n,"You must render this element inside a <HydratedRouter> element"),n}function BD(n,e){let t=R.useContext(f0),[r,i]=R.useState(!1),[s,l]=R.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:g}=e,v=R.useRef(null);R.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let C=D=>{D.forEach(U=>{l(U.isIntersecting)})},x=new IntersectionObserver(C,{threshold:.5});return v.current&&x.observe(v.current),()=>{x.disconnect()}}},[n]),R.useEffect(()=>{if(r){let C=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(C)}}},[r]);let I=()=>{i(!0)},b=()=>{i(!1),l(!1)};return t?n!=="intent"?[s,v,{}]:[s,v,{onFocus:dd(u,I),onBlur:dd(d,b),onMouseEnter:dd(f,I),onMouseLeave:dd(m,b),onTouchStart:dd(g,I)}]:[!1,v,{}]}function dd(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function $D({page:n,...e}){let{router:t}=jD(),r=R.useMemo(()=>W1(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?R.createElement(WD,{page:n,matches:r,...e}):null}function zD(n){let{manifest:e,routeModules:t}=nR(),[r,i]=R.useState([]);return R.useEffect(()=>{let s=!1;return DD(n,e,t).then(l=>{s||i(l)}),()=>{s=!0}},[n,e,t]),r}function WD({page:n,matches:e,...t}){let r=ia(),{manifest:i,routeModules:s}=nR(),{loaderData:l,matches:u}=UD(),d=R.useMemo(()=>BS(n,e,u,i,r,"data"),[n,e,u,i,r]),f=R.useMemo(()=>BS(n,e,u,i,r,"assets"),[n,e,u,i,r]),m=R.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let I=new Set,b=!1;if(e.forEach(x=>{var U;let D=i.routes[x.route.id];!D||!D.hasLoader||(!d.some(M=>M.route.id===x.route.id)&&x.route.id in l&&((U=s[x.route.id])!=null&&U.shouldRevalidate)||D.hasClientLoader?b=!0:I.add(x.route.id))}),I.size===0)return[];let C=FD(n);return b&&I.size>0&&C.searchParams.set("_routes",e.filter(x=>I.has(x.route.id)).map(x=>x.route.id).join(",")),[C.pathname+C.search]},[l,r,i,d,e,n,s]),g=R.useMemo(()=>OD(f,i),[f,i]),v=zD(f);return R.createElement(R.Fragment,null,m.map(I=>R.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),g.map(I=>R.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),v.map(({key:I,link:b})=>R.createElement("link",{key:I,...b})))}function qD(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var rR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rR&&(window.__reactRouterVersion="7.1.1")}catch{}function HD({basename:n,children:e,window:t}){let r=R.useRef();r.current==null&&(r.current=ON({window:t,v5Compat:!0}));let i=r.current,[s,l]=R.useState({action:i.action,location:i.location}),u=R.useCallback(d=>{R.startTransition(()=>l(d))},[l]);return R.useLayoutEffect(()=>i.listen(u),[i,u]),R.createElement(ED,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var iR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dt=R.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:u,target:d,to:f,preventScrollReset:m,viewTransition:g,...v},I){let{basename:b}=R.useContext(gs),C=typeof f=="string"&&iR.test(f),x,D=!1;if(typeof f=="string"&&C&&(x=f,rR))try{let L=new URL(window.location.href),E=f.startsWith("//")?new URL(L.protocol+f):new URL(f),N=zo(E.pathname,b);E.origin===L.origin&&N!=null?f=N+E.search+E.hash:D=!0}catch{ki(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=sD(f,{relative:i}),[M,j,A]=BD(r,v),z=JD(f,{replace:l,state:u,target:d,preventScrollReset:m,relative:i,viewTransition:g});function O(L){e&&e(L),L.defaultPrevented||z(L)}let k=R.createElement("a",{...v,...A,href:x||U,onClick:D||s?e:O,ref:qD(I,j),target:d,"data-discover":!C&&t==="render"?"true":void 0});return M&&!C?R.createElement(R.Fragment,null,k,R.createElement($D,{page:U})):k});dt.displayName="Link";var GD=R.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:u,children:d,...f},m){let g=sc(l,{relative:f.relative}),v=ia(),I=R.useContext(Fm),{navigator:b,basename:C}=R.useContext(gs),x=I!=null&&tO(g)&&u===!0,D=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,U=v.pathname,M=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(U=U.toLowerCase(),M=M?M.toLowerCase():null,D=D.toLowerCase()),M&&C&&(M=zo(M,C)||M);const j=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let A=U===D||!i&&U.startsWith(D)&&U.charAt(j)==="/",z=M!=null&&(M===D||!i&&M.startsWith(D)&&M.charAt(D.length)==="/"),O={isActive:A,isPending:z,isTransitioning:x},k=A?e:void 0,L;typeof r=="function"?L=r(O):L=[r,A?"active":null,z?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let E=typeof s=="function"?s(O):s;return R.createElement(dt,{...f,"aria-current":k,className:L,ref:m,style:E,to:l,viewTransition:u},typeof d=="function"?d(O):d)});GD.displayName="NavLink";var KD=R.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:l=jp,action:u,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:g,...v},I)=>{let b=ZD(),C=eO(u,{relative:f}),x=l.toLowerCase()==="get"?"get":"post",D=typeof u=="string"&&iR.test(u),U=M=>{if(d&&d(M),M.defaultPrevented)return;M.preventDefault();let j=M.nativeEvent.submitter,A=(j==null?void 0:j.getAttribute("formmethod"))||l;b(j||M.currentTarget,{fetcherKey:e,method:A,navigate:t,replace:i,state:s,relative:f,preventScrollReset:m,viewTransition:g})};return R.createElement("form",{ref:I,method:x,action:C,onSubmit:r?d:U,...v,"data-discover":!D&&n==="render"?"true":void 0})});KD.displayName="Form";function QD(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sR(n){let e=R.useContext(rc);return Wt(e,QD(n)),e}function JD(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let u=pl(),d=ia(),f=sc(n,{relative:s});return R.useCallback(m=>{if(CD(m,e)){m.preventDefault();let g=t!==void 0?t:eh(d)===eh(f);u(n,{replace:g,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[d,u,f,t,r,e,n,i,s,l])}var YD=0,XD=()=>`__${String(++YD)}__`;function ZD(){let{router:n}=sR("useSubmit"),{basename:e}=R.useContext(gs),t=yD();return R.useCallback(async(r,i={})=>{let{action:s,method:l,encType:u,formData:d,body:f}=PD(r,e);if(i.navigate===!1){let m=i.fetcherKey||XD();await n.fetch(m,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function eO(n,{relative:e}={}){let{basename:t}=R.useContext(gs),r=R.useContext(Js);Wt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...sc(n||".",{relative:e})},l=ia();if(n==null){s.search=l.search;let u=new URLSearchParams(s.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();s.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:js([t,s.pathname])),eh(s)}function tO(n,e={}){let t=R.useContext(Y1);Wt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=sR("useViewTransitionState"),i=sc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=zo(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=zo(t.nextLocation.pathname,r)||t.nextLocation.pathname;return th(i.pathname,l)!=null||th(i.pathname,s)!=null}new TextEncoder;var wv={exports:{}},Cr={},Ev={exports:{}},Iv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $S;function nO(){return $S||($S=1,function(n){function e(ie,se){var ge=ie.length;ie.push(se);e:for(;0<ge;){var q=ge-1>>>1,Z=ie[q];if(0<i(Z,se))ie[q]=se,ie[ge]=Z,ge=q;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var se=ie[0],ge=ie.pop();if(ge!==se){ie[0]=ge;e:for(var q=0,Z=ie.length,_e=Z>>>1;q<_e;){var be=2*(q+1)-1,Se=ie[be],Re=be+1,Te=ie[Re];if(0>i(Se,ge))Re<Z&&0>i(Te,Se)?(ie[q]=Te,ie[Re]=ge,q=Re):(ie[q]=Se,ie[be]=ge,q=be);else if(Re<Z&&0>i(Te,ge))ie[q]=Te,ie[Re]=ge,q=Re;else break e}}return se}function i(ie,se){var ge=ie.sortIndex-se.sortIndex;return ge!==0?ge:ie.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],f=[],m=1,g=null,v=3,I=!1,b=!1,C=!1,x=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(ie){for(var se=t(f);se!==null;){if(se.callback===null)r(f);else if(se.startTime<=ie)r(f),se.sortIndex=se.expirationTime,e(d,se);else break;se=t(f)}}function j(ie){if(C=!1,M(ie),!b)if(t(d)!==null)b=!0,fe(A);else{var se=t(f);se!==null&&Ee(j,se.startTime-ie)}}function A(ie,se){b=!1,C&&(C=!1,D(k),k=-1),I=!0;var ge=v;try{for(M(se),g=t(d);g!==null&&(!(g.expirationTime>se)||ie&&!N());){var q=g.callback;if(typeof q=="function"){g.callback=null,v=g.priorityLevel;var Z=q(g.expirationTime<=se);se=n.unstable_now(),typeof Z=="function"?g.callback=Z:g===t(d)&&r(d),M(se)}else r(d);g=t(d)}if(g!==null)var _e=!0;else{var be=t(f);be!==null&&Ee(j,be.startTime-se),_e=!1}return _e}finally{g=null,v=ge,I=!1}}var z=!1,O=null,k=-1,L=5,E=-1;function N(){return!(n.unstable_now()-E<L)}function B(){if(O!==null){var ie=n.unstable_now();E=ie;var se=!0;try{se=O(!0,ie)}finally{se?F():(z=!1,O=null)}}else z=!1}var F;if(typeof U=="function")F=function(){U(B)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,le=ae.port2;ae.port1.onmessage=B,F=function(){le.postMessage(null)}}else F=function(){x(B,0)};function fe(ie){O=ie,z||(z=!0,F())}function Ee(ie,se){k=x(function(){ie(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){b||I||(b=!0,fe(A))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(ie){switch(v){case 1:case 2:case 3:var se=3;break;default:se=v}var ge=v;v=se;try{return ie()}finally{v=ge}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,se){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ge=v;v=ie;try{return se()}finally{v=ge}},n.unstable_scheduleCallback=function(ie,se,ge){var q=n.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?q+ge:q):ge=q,ie){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ge+Z,ie={id:m++,callback:se,priorityLevel:ie,startTime:ge,expirationTime:Z,sortIndex:-1},ge>q?(ie.sortIndex=ge,e(f,ie),t(d)===null&&ie===t(f)&&(C?(D(k),k=-1):C=!0,Ee(j,ge-q))):(ie.sortIndex=Z,e(d,ie),b||I||(b=!0,fe(A))),ie},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(ie){var se=v;return function(){var ge=v;v=se;try{return ie.apply(this,arguments)}finally{v=ge}}}}(Iv)),Iv}var zS;function rO(){return zS||(zS=1,Ev.exports=nO()),Ev.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WS;function iO(){if(WS)return Cr;WS=1;var n=l0(),e=rO();function t(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,a){l(o,a),l(o+"Capture",a)}function l(o,a){for(i[o]=a,o=0;o<a.length;o++)r.add(a[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function v(o){return d.call(g,o)?!0:d.call(m,o)?!1:f.test(o)?g[o]=!0:(m[o]=!0,!1)}function I(o,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function b(o,a,c,p){if(a===null||typeof a>"u"||I(o,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function C(o,a,c,p,y,w,P){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=o,this.type=a,this.sanitizeURL=w,this.removeEmptyString=P}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){x[o]=new C(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];x[a]=new C(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){x[o]=new C(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){x[o]=new C(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){x[o]=new C(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){x[o]=new C(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){x[o]=new C(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){x[o]=new C(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){x[o]=new C(o,5,!1,o.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function U(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(D,U);x[a]=new C(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(D,U);x[a]=new C(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(D,U);x[a]=new C(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){x[o]=new C(o,1,!1,o.toLowerCase(),null,!1,!1)}),x.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){x[o]=new C(o,1,!1,o.toLowerCase(),null,!0,!0)});function M(o,a,c,p){var y=x.hasOwnProperty(a)?x[a]:null;(y!==null?y.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(b(a,c,y,p)&&(c=null),p||y===null?v(a)&&(c===null?o.removeAttribute(a):o.setAttribute(a,""+c)):y.mustUseProperty?o[y.propertyName]=c===null?y.type===3?!1:"":c:(a=y.attributeName,p=y.attributeNamespace,c===null?o.removeAttribute(a):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,p?o.setAttributeNS(p,a,c):o.setAttribute(a,c))))}var j=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),z=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),N=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),ie=Symbol.iterator;function se(o){return o===null||typeof o!="object"?null:(o=ie&&o[ie]||o["@@iterator"],typeof o=="function"?o:null)}var ge=Object.assign,q;function Z(o){if(q===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);q=a&&a[1]||""}return`
`+q+o}var _e=!1;function be(o,a){if(!o||_e)return"";_e=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(X){var p=X}Reflect.construct(o,[],a)}else{try{a.call()}catch(X){p=X}o.call(a.prototype)}else{try{throw Error()}catch(X){p=X}o()}}catch(X){if(X&&p&&typeof X.stack=="string"){for(var y=X.stack.split(`
`),w=p.stack.split(`
`),P=y.length-1,$=w.length-1;1<=P&&0<=$&&y[P]!==w[$];)$--;for(;1<=P&&0<=$;P--,$--)if(y[P]!==w[$]){if(P!==1||$!==1)do if(P--,$--,0>$||y[P]!==w[$]){var W=`
`+y[P].replace(" at new "," at ");return o.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",o.displayName)),W}while(1<=P&&0<=$);break}}}finally{_e=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?Z(o):""}function Se(o){switch(o.tag){case 5:return Z(o.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return o=be(o.type,!1),o;case 11:return o=be(o.type.render,!1),o;case 1:return o=be(o.type,!0),o;default:return""}}function Re(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case O:return"Fragment";case z:return"Portal";case L:return"Profiler";case k:return"StrictMode";case F:return"Suspense";case ae:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case N:return(o.displayName||"Context")+".Consumer";case E:return(o._context.displayName||"Context")+".Provider";case B:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case le:return a=o.displayName||null,a!==null?a:Re(o.type)||"Memo";case fe:a=o._payload,o=o._init;try{return Re(o(a))}catch{}}return null}function Te(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(a);case 8:return a===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ne(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function we(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function G(o){var a=we(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),p=""+o[a];if(!o.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,w=c.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return y.call(this)},set:function(P){p=""+P,w.call(this,P)}}),Object.defineProperty(o,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(P){p=""+P},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function ue(o){o._valueTracker||(o._valueTracker=G(o))}function re(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return o&&(p=we(o)?o.checked?"true":"false":o.value),o=p,o!==c?(a.setValue(o),!0):!1}function oe(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function me(o,a){var c=a.checked;return ge({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function ze(o,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=Ne(a.value!=null?a.value:c),o._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Ke(o,a){a=a.checked,a!=null&&M(o,"checked",a,!1)}function rt(o,a){Ke(o,a);var c=Ne(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(p==="submit"||p==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?gt(o,a.type,c):a.hasOwnProperty("defaultValue")&&gt(o,a.type,Ne(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function at(o,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,c||a===o.value||(o.value=a),o.defaultValue=a}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function gt(o,a,c){(a!=="number"||oe(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}var bt=Array.isArray;function Et(o,a,c,p){if(o=o.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<o.length;c++)y=a.hasOwnProperty("$"+o[c].value),o[c].selected!==y&&(o[c].selected=y),y&&p&&(o[c].defaultSelected=!0)}else{for(c=""+Ne(c),a=null,y=0;y<o.length;y++){if(o[y].value===c){o[y].selected=!0,p&&(o[y].defaultSelected=!0);return}a!==null||o[y].disabled||(a=o[y])}a!==null&&(a.selected=!0)}}function $e(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return ge({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Or(o,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(bt(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}o._wrapperState={initialValue:Ne(c)}}function fn(o,a){var c=Ne(a.value),p=Ne(a.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),a.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),p!=null&&(o.defaultValue=""+p)}function Kr(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function Dt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ot(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?Dt(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Jn,Qr=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,y){MSApp.execUnsafeLocalFunction(function(){return o(a,c,p,y)})}:o}(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(Jn=Jn||document.createElement("div"),Jn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Jn.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function Yn(o,a){if(a){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=a;return}}o.textContent=a}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vr=["Webkit","ms","Moz","O"];Object.keys(ft).forEach(function(o){vr.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),ft[a]=ft[o]})});function hi(o,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||ft.hasOwnProperty(o)&&ft[o]?(""+a).trim():a+"px"}function so(o,a){o=o.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,y=hi(c,a[c],p);c==="float"&&(c="cssFloat"),p?o.setProperty(c,y):o[c]=y}}var We=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yt(o,a){if(a){if(We[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Gt(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _r=null;function vs(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Il=null,Jr=null,Li=null;function Sl(o){if(o=Gc(o)){if(typeof Il!="function")throw Error(t(280));var a=o.stateNode;a&&(a=Nf(a),Il(o.stateNode,o.type,a))}}function Vi(o){Jr?Li?Li.push(o):Li=[o]:Jr=o}function Tc(){if(Jr){var o=Jr,a=Li;if(Li=Jr=null,Sl(o),a)for(o=0;o<a.length;o++)Sl(a[o])}}function ca(o,a){return o(a)}function bc(){}var _s=!1;function Rc(o,a,c){if(_s)return o(a,c);_s=!0;try{return ca(o,a,c)}finally{_s=!1,(Jr!==null||Li!==null)&&(bc(),Tc())}}function pn(o,a){var c=o.stateNode;if(c===null)return null;var p=Nf(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var Tl=!1;if(u)try{var fi={};Object.defineProperty(fi,"passive",{get:function(){Tl=!0}}),window.addEventListener("test",fi,fi),window.removeEventListener("test",fi,fi)}catch{Tl=!1}function da(o,a,c,p,y,w,P,$,W){var X=Array.prototype.slice.call(arguments,3);try{a.apply(c,X)}catch(pe){this.onError(pe)}}var ha=!1,bl=null,pi=!1,Cc=null,Wg={onError:function(o){ha=!0,bl=o}};function Rl(o,a,c,p,y,w,P,$,W){ha=!1,bl=null,da.apply(Wg,arguments)}function nf(o,a,c,p,y,w,P,$,W){if(Rl.apply(this,arguments),ha){if(ha){var X=bl;ha=!1,bl=null}else throw Error(t(198));pi||(pi=!0,Cc=X)}}function mi(o){var a=o,c=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,a.flags&4098&&(c=a.return),o=a.return;while(o)}return a.tag===3?c:null}function fa(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function gi(o){if(mi(o)!==o)throw Error(t(188))}function rf(o){var a=o.alternate;if(!a){if(a=mi(o),a===null)throw Error(t(188));return a!==o?null:o}for(var c=o,p=a;;){var y=c.return;if(y===null)break;var w=y.alternate;if(w===null){if(p=y.return,p!==null){c=p;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===c)return gi(y),o;if(w===p)return gi(y),a;w=w.sibling}throw Error(t(188))}if(c.return!==p.return)c=y,p=w;else{for(var P=!1,$=y.child;$;){if($===c){P=!0,c=y,p=w;break}if($===p){P=!0,p=y,c=w;break}$=$.sibling}if(!P){for($=w.child;$;){if($===c){P=!0,c=w,p=y;break}if($===p){P=!0,p=w,c=y;break}$=$.sibling}if(!P)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?o:a}function xc(o){return o=rf(o),o!==null?Cl(o):null}function Cl(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=Cl(o);if(a!==null)return a;o=o.sibling}return null}var xl=e.unstable_scheduleCallback,Ac=e.unstable_cancelCallback,sf=e.unstable_shouldYield,qg=e.unstable_requestPaint,Pt=e.unstable_now,of=e.unstable_getCurrentPriorityLevel,pa=e.unstable_ImmediatePriority,oo=e.unstable_UserBlockingPriority,Yr=e.unstable_NormalPriority,Pc=e.unstable_LowPriority,af=e.unstable_IdlePriority,ma=null,Mr=null;function lf(o){if(Mr&&typeof Mr.onCommitFiberRoot=="function")try{Mr.onCommitFiberRoot(ma,o,void 0,(o.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:cf,kc=Math.log,uf=Math.LN2;function cf(o){return o>>>=0,o===0?32:31-(kc(o)/uf|0)|0}var Al=64,Pl=4194304;function ao(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function ga(o,a){var c=o.pendingLanes;if(c===0)return 0;var p=0,y=o.suspendedLanes,w=o.pingedLanes,P=c&268435455;if(P!==0){var $=P&~y;$!==0?p=ao($):(w&=P,w!==0&&(p=ao(w)))}else P=c&~y,P!==0?p=ao(P):w!==0&&(p=ao(w));if(p===0)return 0;if(a!==0&&a!==p&&!(a&y)&&(y=p&-p,w=a&-a,y>=w||y===16&&(w&4194240)!==0))return a;if(p&4&&(p|=c&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=p;0<a;)c=31-ur(a),y=1<<c,p|=o[c],a&=~y;return p}function Hg(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ws(o,a){for(var c=o.suspendedLanes,p=o.pingedLanes,y=o.expirationTimes,w=o.pendingLanes;0<w;){var P=31-ur(w),$=1<<P,W=y[P];W===-1?(!($&c)||$&p)&&(y[P]=Hg($,a)):W<=a&&(o.expiredLanes|=$),w&=~$}}function Lr(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function ya(){var o=Al;return Al<<=1,!(Al&4194240)&&(Al=64),o}function lo(o){for(var a=[],c=0;31>c;c++)a.push(o);return a}function uo(o,a,c){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-ur(a),o[a]=c}function Ct(o,a){var c=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var p=o.eventTimes;for(o=o.expirationTimes;0<c;){var y=31-ur(c),w=1<<y;a[y]=0,p[y]=-1,o[y]=-1,c&=~w}}function co(o,a){var c=o.entangledLanes|=a;for(o=o.entanglements;c;){var p=31-ur(c),y=1<<p;y&a|o[p]&a&&(o[p]|=a),c&=~y}}var lt=0;function ho(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var df,kl,hf,ff,pf,Nc=!1,Fi=[],Bn=null,yi=null,vi=null,fo=new Map,Xr=new Map,ji=[],Gg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mf(o,a){switch(o){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":fo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xr.delete(a.pointerId)}}function wr(o,a,c,p,y,w){return o===null||o.nativeEvent!==w?(o={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:w,targetContainers:[y]},a!==null&&(a=Gc(a),a!==null&&kl(a)),o):(o.eventSystemFlags|=p,a=o.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),o)}function Kg(o,a,c,p,y){switch(a){case"focusin":return Bn=wr(Bn,o,a,c,p,y),!0;case"dragenter":return yi=wr(yi,o,a,c,p,y),!0;case"mouseover":return vi=wr(vi,o,a,c,p,y),!0;case"pointerover":var w=y.pointerId;return fo.set(w,wr(fo.get(w)||null,o,a,c,p,y)),!0;case"gotpointercapture":return w=y.pointerId,Xr.set(w,wr(Xr.get(w)||null,o,a,c,p,y)),!0}return!1}function gf(o){var a=Ia(o.target);if(a!==null){var c=mi(a);if(c!==null){if(a=c.tag,a===13){if(a=fa(c),a!==null){o.blockedOn=a,pf(o.priority,function(){hf(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Es(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var c=Nl(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(c===null){c=o.nativeEvent;var p=new c.constructor(c.type,c);_r=p,c.target.dispatchEvent(p),_r=null}else return a=Gc(c),a!==null&&kl(a),o.blockedOn=c,!1;a.shift()}return!0}function va(o,a,c){Es(o)&&c.delete(a)}function yf(){Nc=!1,Bn!==null&&Es(Bn)&&(Bn=null),yi!==null&&Es(yi)&&(yi=null),vi!==null&&Es(vi)&&(vi=null),fo.forEach(va),Xr.forEach(va)}function _i(o,a){o.blockedOn===a&&(o.blockedOn=null,Nc||(Nc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,yf)))}function wi(o){function a(y){return _i(y,o)}if(0<Fi.length){_i(Fi[0],o);for(var c=1;c<Fi.length;c++){var p=Fi[c];p.blockedOn===o&&(p.blockedOn=null)}}for(Bn!==null&&_i(Bn,o),yi!==null&&_i(yi,o),vi!==null&&_i(vi,o),fo.forEach(a),Xr.forEach(a),c=0;c<ji.length;c++)p=ji[c],p.blockedOn===o&&(p.blockedOn=null);for(;0<ji.length&&(c=ji[0],c.blockedOn===null);)gf(c),c.blockedOn===null&&ji.shift()}var Is=j.ReactCurrentBatchConfig,po=!0;function Ft(o,a,c,p){var y=lt,w=Is.transition;Is.transition=null;try{lt=1,Dc(o,a,c,p)}finally{lt=y,Is.transition=w}}function Qg(o,a,c,p){var y=lt,w=Is.transition;Is.transition=null;try{lt=4,Dc(o,a,c,p)}finally{lt=y,Is.transition=w}}function Dc(o,a,c,p){if(po){var y=Nl(o,a,c,p);if(y===null)oy(o,a,p,_a,c),mf(o,p);else if(Kg(y,o,a,c,p))p.stopPropagation();else if(mf(o,p),a&4&&-1<Gg.indexOf(o)){for(;y!==null;){var w=Gc(y);if(w!==null&&df(w),w=Nl(o,a,c,p),w===null&&oy(o,a,p,_a,c),w===y)break;y=w}y!==null&&p.stopPropagation()}else oy(o,a,p,null,c)}}var _a=null;function Nl(o,a,c,p){if(_a=null,o=vs(p),o=Ia(o),o!==null)if(a=mi(o),a===null)o=null;else if(c=a.tag,c===13){if(o=fa(a),o!==null)return o;o=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return _a=o,null}function Oc(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(of()){case pa:return 1;case oo:return 4;case Yr:case Pc:return 16;case af:return 536870912;default:return 16}default:return 16}}var Vr=null,Dl=null,Er=null;function Mc(){if(Er)return Er;var o,a=Dl,c=a.length,p,y="value"in Vr?Vr.value:Vr.textContent,w=y.length;for(o=0;o<c&&a[o]===y[o];o++);var P=c-o;for(p=1;p<=P&&a[c-p]===y[w-p];p++);return Er=y.slice(o,1<p?1-p:void 0)}function Ol(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function Ui(){return!0}function Lc(){return!1}function $n(o){function a(c,p,y,w,P){this._reactName=c,this._targetInst=y,this.type=p,this.nativeEvent=w,this.target=P,this.currentTarget=null;for(var $ in o)o.hasOwnProperty($)&&(c=o[$],this[$]=c?c(w):w[$]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Ui:Lc,this.isPropagationStopped=Lc,this}return ge(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),a}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ml=$n(Ei),Bi=ge({},Ei,{view:0,detail:0}),Jg=$n(Bi),Ll,Ss,mo,wa=ge({},Bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$i,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==mo&&(mo&&o.type==="mousemove"?(Ll=o.screenX-mo.screenX,Ss=o.screenY-mo.screenY):Ss=Ll=0,mo=o),Ll)},movementY:function(o){return"movementY"in o?o.movementY:Ss}}),Vl=$n(wa),Vc=ge({},wa,{dataTransfer:0}),vf=$n(Vc),Fl=ge({},Bi,{relatedTarget:0}),jl=$n(Fl),_f=ge({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),Ts=$n(_f),wf=ge({},Ei,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Ef=$n(wf),If=ge({},Ei,{data:0}),Fc=$n(If),Ul={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tf(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=Sf[o])?!!a[o]:!1}function $i(){return Tf}var h=ge({},Bi,{key:function(o){if(o.key){var a=Ul[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=Ol(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?cr[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$i,charCode:function(o){return o.type==="keypress"?Ol(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ol(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),_=$n(h),T=ge({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V=$n(T),Q=ge({},Bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$i}),te=$n(Q),Ce=ge({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),It=$n(Ce),xn=ge({},wa,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),ut=$n(xn),Dn=[9,13,27,32],En=u&&"CompositionEvent"in window,Zr=null;u&&"documentMode"in document&&(Zr=document.documentMode);var Fr=u&&"TextEvent"in window&&!Zr,Ea=u&&(!En||Zr&&8<Zr&&11>=Zr),Bl=" ",RE=!1;function CE(o,a){switch(o){case"keyup":return Dn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xE(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var $l=!1;function bk(o,a){switch(o){case"compositionend":return xE(a);case"keypress":return a.which!==32?null:(RE=!0,Bl);case"textInput":return o=a.data,o===Bl&&RE?null:o;default:return null}}function Rk(o,a){if($l)return o==="compositionend"||!En&&CE(o,a)?(o=Mc(),Er=Dl=Vr=null,$l=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ea&&a.locale!=="ko"?null:a.data;default:return null}}var Ck={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AE(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!Ck[o.type]:a==="textarea"}function PE(o,a,c,p){Vi(p),a=Af(a,"onChange"),0<a.length&&(c=new Ml("onChange","change",null,c,p),o.push({event:c,listeners:a}))}var jc=null,Uc=null;function xk(o){KE(o,0)}function bf(o){var a=Gl(o);if(re(a))return o}function Ak(o,a){if(o==="change")return a}var kE=!1;if(u){var Yg;if(u){var Xg="oninput"in document;if(!Xg){var NE=document.createElement("div");NE.setAttribute("oninput","return;"),Xg=typeof NE.oninput=="function"}Yg=Xg}else Yg=!1;kE=Yg&&(!document.documentMode||9<document.documentMode)}function DE(){jc&&(jc.detachEvent("onpropertychange",OE),Uc=jc=null)}function OE(o){if(o.propertyName==="value"&&bf(Uc)){var a=[];PE(a,Uc,o,vs(o)),Rc(xk,a)}}function Pk(o,a,c){o==="focusin"?(DE(),jc=a,Uc=c,jc.attachEvent("onpropertychange",OE)):o==="focusout"&&DE()}function kk(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return bf(Uc)}function Nk(o,a){if(o==="click")return bf(a)}function Dk(o,a){if(o==="input"||o==="change")return bf(a)}function Ok(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var Ii=typeof Object.is=="function"?Object.is:Ok;function Bc(o,a){if(Ii(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var c=Object.keys(o),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var y=c[p];if(!d.call(a,y)||!Ii(o[y],a[y]))return!1}return!0}function ME(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function LE(o,a){var c=ME(o);o=0;for(var p;c;){if(c.nodeType===3){if(p=o+c.textContent.length,o<=a&&p>=a)return{node:c,offset:a-o};o=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=ME(c)}}function VE(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?VE(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function FE(){for(var o=window,a=oe();a instanceof o.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)o=a.contentWindow;else break;a=oe(o.document)}return a}function Zg(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function Mk(o){var a=FE(),c=o.focusedElem,p=o.selectionRange;if(a!==c&&c&&c.ownerDocument&&VE(c.ownerDocument.documentElement,c)){if(p!==null&&Zg(c)){if(a=p.start,o=p.end,o===void 0&&(o=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(o,c.value.length);else if(o=(a=c.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var y=c.textContent.length,w=Math.min(p.start,y);p=p.end===void 0?w:Math.min(p.end,y),!o.extend&&w>p&&(y=p,p=w,w=y),y=LE(c,w);var P=LE(c,p);y&&P&&(o.rangeCount!==1||o.anchorNode!==y.node||o.anchorOffset!==y.offset||o.focusNode!==P.node||o.focusOffset!==P.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),o.removeAllRanges(),w>p?(o.addRange(a),o.extend(P.node,P.offset)):(a.setEnd(P.node,P.offset),o.addRange(a)))}}for(a=[],o=c;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)o=a[c],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Lk=u&&"documentMode"in document&&11>=document.documentMode,zl=null,ey=null,$c=null,ty=!1;function jE(o,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ty||zl==null||zl!==oe(p)||(p=zl,"selectionStart"in p&&Zg(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),$c&&Bc($c,p)||($c=p,p=Af(ey,"onSelect"),0<p.length&&(a=new Ml("onSelect","select",null,a,c),o.push({event:a,listeners:p}),a.target=zl)))}function Rf(o,a){var c={};return c[o.toLowerCase()]=a.toLowerCase(),c["Webkit"+o]="webkit"+a,c["Moz"+o]="moz"+a,c}var Wl={animationend:Rf("Animation","AnimationEnd"),animationiteration:Rf("Animation","AnimationIteration"),animationstart:Rf("Animation","AnimationStart"),transitionend:Rf("Transition","TransitionEnd")},ny={},UE={};u&&(UE=document.createElement("div").style,"AnimationEvent"in window||(delete Wl.animationend.animation,delete Wl.animationiteration.animation,delete Wl.animationstart.animation),"TransitionEvent"in window||delete Wl.transitionend.transition);function Cf(o){if(ny[o])return ny[o];if(!Wl[o])return o;var a=Wl[o],c;for(c in a)if(a.hasOwnProperty(c)&&c in UE)return ny[o]=a[c];return o}var BE=Cf("animationend"),$E=Cf("animationiteration"),zE=Cf("animationstart"),WE=Cf("transitionend"),qE=new Map,HE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function go(o,a){qE.set(o,a),s(a,[o])}for(var ry=0;ry<HE.length;ry++){var iy=HE[ry],Vk=iy.toLowerCase(),Fk=iy[0].toUpperCase()+iy.slice(1);go(Vk,"on"+Fk)}go(BE,"onAnimationEnd"),go($E,"onAnimationIteration"),go(zE,"onAnimationStart"),go("dblclick","onDoubleClick"),go("focusin","onFocus"),go("focusout","onBlur"),go(WE,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jk=new Set("cancel close invalid load scroll toggle".split(" ").concat(zc));function GE(o,a,c){var p=o.type||"unknown-event";o.currentTarget=c,nf(p,a,void 0,o),o.currentTarget=null}function KE(o,a){a=(a&4)!==0;for(var c=0;c<o.length;c++){var p=o[c],y=p.event;p=p.listeners;e:{var w=void 0;if(a)for(var P=p.length-1;0<=P;P--){var $=p[P],W=$.instance,X=$.currentTarget;if($=$.listener,W!==w&&y.isPropagationStopped())break e;GE(y,$,X),w=W}else for(P=0;P<p.length;P++){if($=p[P],W=$.instance,X=$.currentTarget,$=$.listener,W!==w&&y.isPropagationStopped())break e;GE(y,$,X),w=W}}}if(pi)throw o=Cc,pi=!1,Cc=null,o}function Mt(o,a){var c=a[hy];c===void 0&&(c=a[hy]=new Set);var p=o+"__bubble";c.has(p)||(QE(a,o,2,!1),c.add(p))}function sy(o,a,c){var p=0;a&&(p|=4),QE(c,o,p,a)}var xf="_reactListening"+Math.random().toString(36).slice(2);function Wc(o){if(!o[xf]){o[xf]=!0,r.forEach(function(c){c!=="selectionchange"&&(jk.has(c)||sy(c,!1,o),sy(c,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[xf]||(a[xf]=!0,sy("selectionchange",!1,a))}}function QE(o,a,c,p){switch(Oc(a)){case 1:var y=Ft;break;case 4:y=Qg;break;default:y=Dc}c=y.bind(null,a,c,o),y=void 0,!Tl||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),p?y!==void 0?o.addEventListener(a,c,{capture:!0,passive:y}):o.addEventListener(a,c,!0):y!==void 0?o.addEventListener(a,c,{passive:y}):o.addEventListener(a,c,!1)}function oy(o,a,c,p,y){var w=p;if(!(a&1)&&!(a&2)&&p!==null)e:for(;;){if(p===null)return;var P=p.tag;if(P===3||P===4){var $=p.stateNode.containerInfo;if($===y||$.nodeType===8&&$.parentNode===y)break;if(P===4)for(P=p.return;P!==null;){var W=P.tag;if((W===3||W===4)&&(W=P.stateNode.containerInfo,W===y||W.nodeType===8&&W.parentNode===y))return;P=P.return}for(;$!==null;){if(P=Ia($),P===null)return;if(W=P.tag,W===5||W===6){p=w=P;continue e}$=$.parentNode}}p=p.return}Rc(function(){var X=w,pe=vs(c),ye=[];e:{var de=qE.get(o);if(de!==void 0){var Pe=Ml,Oe=o;switch(o){case"keypress":if(Ol(c)===0)break e;case"keydown":case"keyup":Pe=_;break;case"focusin":Oe="focus",Pe=jl;break;case"focusout":Oe="blur",Pe=jl;break;case"beforeblur":case"afterblur":Pe=jl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=Vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=te;break;case BE:case $E:case zE:Pe=Ts;break;case WE:Pe=It;break;case"scroll":Pe=Jg;break;case"wheel":Pe=ut;break;case"copy":case"cut":case"paste":Pe=Ef;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=V}var Le=(a&4)!==0,mn=!Le&&o==="scroll",J=Le?de!==null?de+"Capture":null:de;Le=[];for(var H=X,Y;H!==null;){Y=H;var Ie=Y.stateNode;if(Y.tag===5&&Ie!==null&&(Y=Ie,J!==null&&(Ie=pn(H,J),Ie!=null&&Le.push(qc(H,Ie,Y)))),mn)break;H=H.return}0<Le.length&&(de=new Pe(de,Oe,null,c,pe),ye.push({event:de,listeners:Le}))}}if(!(a&7)){e:{if(de=o==="mouseover"||o==="pointerover",Pe=o==="mouseout"||o==="pointerout",de&&c!==_r&&(Oe=c.relatedTarget||c.fromElement)&&(Ia(Oe)||Oe[bs]))break e;if((Pe||de)&&(de=pe.window===pe?pe:(de=pe.ownerDocument)?de.defaultView||de.parentWindow:window,Pe?(Oe=c.relatedTarget||c.toElement,Pe=X,Oe=Oe?Ia(Oe):null,Oe!==null&&(mn=mi(Oe),Oe!==mn||Oe.tag!==5&&Oe.tag!==6)&&(Oe=null)):(Pe=null,Oe=X),Pe!==Oe)){if(Le=Vl,Ie="onMouseLeave",J="onMouseEnter",H="mouse",(o==="pointerout"||o==="pointerover")&&(Le=V,Ie="onPointerLeave",J="onPointerEnter",H="pointer"),mn=Pe==null?de:Gl(Pe),Y=Oe==null?de:Gl(Oe),de=new Le(Ie,H+"leave",Pe,c,pe),de.target=mn,de.relatedTarget=Y,Ie=null,Ia(pe)===X&&(Le=new Le(J,H+"enter",Oe,c,pe),Le.target=Y,Le.relatedTarget=mn,Ie=Le),mn=Ie,Pe&&Oe)t:{for(Le=Pe,J=Oe,H=0,Y=Le;Y;Y=ql(Y))H++;for(Y=0,Ie=J;Ie;Ie=ql(Ie))Y++;for(;0<H-Y;)Le=ql(Le),H--;for(;0<Y-H;)J=ql(J),Y--;for(;H--;){if(Le===J||J!==null&&Le===J.alternate)break t;Le=ql(Le),J=ql(J)}Le=null}else Le=null;Pe!==null&&JE(ye,de,Pe,Le,!1),Oe!==null&&mn!==null&&JE(ye,mn,Oe,Le,!0)}}e:{if(de=X?Gl(X):window,Pe=de.nodeName&&de.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&de.type==="file")var je=Ak;else if(AE(de))if(kE)je=Dk;else{je=kk;var qe=Pk}else(Pe=de.nodeName)&&Pe.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(je=Nk);if(je&&(je=je(o,X))){PE(ye,je,c,pe);break e}qe&&qe(o,de,X),o==="focusout"&&(qe=de._wrapperState)&&qe.controlled&&de.type==="number"&&gt(de,"number",de.value)}switch(qe=X?Gl(X):window,o){case"focusin":(AE(qe)||qe.contentEditable==="true")&&(zl=qe,ey=X,$c=null);break;case"focusout":$c=ey=zl=null;break;case"mousedown":ty=!0;break;case"contextmenu":case"mouseup":case"dragend":ty=!1,jE(ye,c,pe);break;case"selectionchange":if(Lk)break;case"keydown":case"keyup":jE(ye,c,pe)}var He;if(En)e:{switch(o){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else $l?CE(o,c)&&(Qe="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(Qe="onCompositionStart");Qe&&(Ea&&c.locale!=="ko"&&($l||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&$l&&(He=Mc()):(Vr=pe,Dl="value"in Vr?Vr.value:Vr.textContent,$l=!0)),qe=Af(X,Qe),0<qe.length&&(Qe=new Fc(Qe,o,null,c,pe),ye.push({event:Qe,listeners:qe}),He?Qe.data=He:(He=xE(c),He!==null&&(Qe.data=He)))),(He=Fr?bk(o,c):Rk(o,c))&&(X=Af(X,"onBeforeInput"),0<X.length&&(pe=new Fc("onBeforeInput","beforeinput",null,c,pe),ye.push({event:pe,listeners:X}),pe.data=He))}KE(ye,a)})}function qc(o,a,c){return{instance:o,listener:a,currentTarget:c}}function Af(o,a){for(var c=a+"Capture",p=[];o!==null;){var y=o,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=pn(o,c),w!=null&&p.unshift(qc(o,w,y)),w=pn(o,a),w!=null&&p.push(qc(o,w,y))),o=o.return}return p}function ql(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function JE(o,a,c,p,y){for(var w=a._reactName,P=[];c!==null&&c!==p;){var $=c,W=$.alternate,X=$.stateNode;if(W!==null&&W===p)break;$.tag===5&&X!==null&&($=X,y?(W=pn(c,w),W!=null&&P.unshift(qc(c,W,$))):y||(W=pn(c,w),W!=null&&P.push(qc(c,W,$)))),c=c.return}P.length!==0&&o.push({event:a,listeners:P})}var Uk=/\r\n?/g,Bk=/\u0000|\uFFFD/g;function YE(o){return(typeof o=="string"?o:""+o).replace(Uk,`
`).replace(Bk,"")}function Pf(o,a,c){if(a=YE(a),YE(o)!==a&&c)throw Error(t(425))}function kf(){}var ay=null,ly=null;function uy(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var cy=typeof setTimeout=="function"?setTimeout:void 0,$k=typeof clearTimeout=="function"?clearTimeout:void 0,XE=typeof Promise=="function"?Promise:void 0,zk=typeof queueMicrotask=="function"?queueMicrotask:typeof XE<"u"?function(o){return XE.resolve(null).then(o).catch(Wk)}:cy;function Wk(o){setTimeout(function(){throw o})}function dy(o,a){var c=a,p=0;do{var y=c.nextSibling;if(o.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(p===0){o.removeChild(y),wi(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=y}while(c);wi(a)}function yo(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function ZE(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return o;a--}else c==="/$"&&a++}o=o.previousSibling}return null}var Hl=Math.random().toString(36).slice(2),zi="__reactFiber$"+Hl,Hc="__reactProps$"+Hl,bs="__reactContainer$"+Hl,hy="__reactEvents$"+Hl,qk="__reactListeners$"+Hl,Hk="__reactHandles$"+Hl;function Ia(o){var a=o[zi];if(a)return a;for(var c=o.parentNode;c;){if(a=c[bs]||c[zi]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(o=ZE(o);o!==null;){if(c=o[zi])return c;o=ZE(o)}return a}o=c,c=o.parentNode}return null}function Gc(o){return o=o[zi]||o[bs],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Gl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function Nf(o){return o[Hc]||null}var fy=[],Kl=-1;function vo(o){return{current:o}}function Lt(o){0>Kl||(o.current=fy[Kl],fy[Kl]=null,Kl--)}function kt(o,a){Kl++,fy[Kl]=o.current,o.current=a}var _o={},Xn=vo(_o),Ir=vo(!1),Sa=_o;function Ql(o,a){var c=o.type.contextTypes;if(!c)return _o;var p=o.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in c)y[w]=a[w];return p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=y),y}function Sr(o){return o=o.childContextTypes,o!=null}function Df(){Lt(Ir),Lt(Xn)}function eI(o,a,c){if(Xn.current!==_o)throw Error(t(168));kt(Xn,a),kt(Ir,c)}function tI(o,a,c){var p=o.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var y in p)if(!(y in a))throw Error(t(108,Te(o)||"Unknown",y));return ge({},c,p)}function Of(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||_o,Sa=Xn.current,kt(Xn,o),kt(Ir,Ir.current),!0}function nI(o,a,c){var p=o.stateNode;if(!p)throw Error(t(169));c?(o=tI(o,a,Sa),p.__reactInternalMemoizedMergedChildContext=o,Lt(Ir),Lt(Xn),kt(Xn,o)):Lt(Ir),kt(Ir,c)}var Rs=null,Mf=!1,py=!1;function rI(o){Rs===null?Rs=[o]:Rs.push(o)}function Gk(o){Mf=!0,rI(o)}function wo(){if(!py&&Rs!==null){py=!0;var o=0,a=lt;try{var c=Rs;for(lt=1;o<c.length;o++){var p=c[o];do p=p(!0);while(p!==null)}Rs=null,Mf=!1}catch(y){throw Rs!==null&&(Rs=Rs.slice(o+1)),xl(pa,wo),y}finally{lt=a,py=!1}}return null}var Jl=[],Yl=0,Lf=null,Vf=0,ei=[],ti=0,Ta=null,Cs=1,xs="";function ba(o,a){Jl[Yl++]=Vf,Jl[Yl++]=Lf,Lf=o,Vf=a}function iI(o,a,c){ei[ti++]=Cs,ei[ti++]=xs,ei[ti++]=Ta,Ta=o;var p=Cs;o=xs;var y=32-ur(p)-1;p&=~(1<<y),c+=1;var w=32-ur(a)+y;if(30<w){var P=y-y%5;w=(p&(1<<P)-1).toString(32),p>>=P,y-=P,Cs=1<<32-ur(a)+y|c<<y|p,xs=w+o}else Cs=1<<w|c<<y|p,xs=o}function my(o){o.return!==null&&(ba(o,1),iI(o,1,0))}function gy(o){for(;o===Lf;)Lf=Jl[--Yl],Jl[Yl]=null,Vf=Jl[--Yl],Jl[Yl]=null;for(;o===Ta;)Ta=ei[--ti],ei[ti]=null,xs=ei[--ti],ei[ti]=null,Cs=ei[--ti],ei[ti]=null}var jr=null,Ur=null,jt=!1,Si=null;function sI(o,a){var c=si(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=o,a=o.deletions,a===null?(o.deletions=[c],o.flags|=16):a.push(c)}function oI(o,a){switch(o.tag){case 5:var c=o.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,jr=o,Ur=yo(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,jr=o,Ur=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Ta!==null?{id:Cs,overflow:xs}:null,o.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=si(18,null,null,0),c.stateNode=a,c.return=o,o.child=c,jr=o,Ur=null,!0):!1;default:return!1}}function yy(o){return(o.mode&1)!==0&&(o.flags&128)===0}function vy(o){if(jt){var a=Ur;if(a){var c=a;if(!oI(o,a)){if(yy(o))throw Error(t(418));a=yo(c.nextSibling);var p=jr;a&&oI(o,a)?sI(p,c):(o.flags=o.flags&-4097|2,jt=!1,jr=o)}}else{if(yy(o))throw Error(t(418));o.flags=o.flags&-4097|2,jt=!1,jr=o}}}function aI(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;jr=o}function Ff(o){if(o!==jr)return!1;if(!jt)return aI(o),jt=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!uy(o.type,o.memoizedProps)),a&&(a=Ur)){if(yy(o))throw lI(),Error(t(418));for(;a;)sI(o,a),a=yo(a.nextSibling)}if(aI(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"){if(a===0){Ur=yo(o.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}o=o.nextSibling}Ur=null}}else Ur=jr?yo(o.stateNode.nextSibling):null;return!0}function lI(){for(var o=Ur;o;)o=yo(o.nextSibling)}function Xl(){Ur=jr=null,jt=!1}function _y(o){Si===null?Si=[o]:Si.push(o)}var Kk=j.ReactCurrentBatchConfig;function Kc(o,a,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,o));var y=p,w=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(P){var $=y.refs;P===null?delete $[w]:$[w]=P},a._stringRef=w,a)}if(typeof o!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,o))}return o}function jf(o,a){throw o=Object.prototype.toString.call(a),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function uI(o){var a=o._init;return a(o._payload)}function cI(o){function a(J,H){if(o){var Y=J.deletions;Y===null?(J.deletions=[H],J.flags|=16):Y.push(H)}}function c(J,H){if(!o)return null;for(;H!==null;)a(J,H),H=H.sibling;return null}function p(J,H){for(J=new Map;H!==null;)H.key!==null?J.set(H.key,H):J.set(H.index,H),H=H.sibling;return J}function y(J,H){return J=xo(J,H),J.index=0,J.sibling=null,J}function w(J,H,Y){return J.index=Y,o?(Y=J.alternate,Y!==null?(Y=Y.index,Y<H?(J.flags|=2,H):Y):(J.flags|=2,H)):(J.flags|=1048576,H)}function P(J){return o&&J.alternate===null&&(J.flags|=2),J}function $(J,H,Y,Ie){return H===null||H.tag!==6?(H=cv(Y,J.mode,Ie),H.return=J,H):(H=y(H,Y),H.return=J,H)}function W(J,H,Y,Ie){var je=Y.type;return je===O?pe(J,H,Y.props.children,Ie,Y.key):H!==null&&(H.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===fe&&uI(je)===H.type)?(Ie=y(H,Y.props),Ie.ref=Kc(J,H,Y),Ie.return=J,Ie):(Ie=up(Y.type,Y.key,Y.props,null,J.mode,Ie),Ie.ref=Kc(J,H,Y),Ie.return=J,Ie)}function X(J,H,Y,Ie){return H===null||H.tag!==4||H.stateNode.containerInfo!==Y.containerInfo||H.stateNode.implementation!==Y.implementation?(H=dv(Y,J.mode,Ie),H.return=J,H):(H=y(H,Y.children||[]),H.return=J,H)}function pe(J,H,Y,Ie,je){return H===null||H.tag!==7?(H=Da(Y,J.mode,Ie,je),H.return=J,H):(H=y(H,Y),H.return=J,H)}function ye(J,H,Y){if(typeof H=="string"&&H!==""||typeof H=="number")return H=cv(""+H,J.mode,Y),H.return=J,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case A:return Y=up(H.type,H.key,H.props,null,J.mode,Y),Y.ref=Kc(J,null,H),Y.return=J,Y;case z:return H=dv(H,J.mode,Y),H.return=J,H;case fe:var Ie=H._init;return ye(J,Ie(H._payload),Y)}if(bt(H)||se(H))return H=Da(H,J.mode,Y,null),H.return=J,H;jf(J,H)}return null}function de(J,H,Y,Ie){var je=H!==null?H.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return je!==null?null:$(J,H,""+Y,Ie);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case A:return Y.key===je?W(J,H,Y,Ie):null;case z:return Y.key===je?X(J,H,Y,Ie):null;case fe:return je=Y._init,de(J,H,je(Y._payload),Ie)}if(bt(Y)||se(Y))return je!==null?null:pe(J,H,Y,Ie,null);jf(J,Y)}return null}function Pe(J,H,Y,Ie,je){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return J=J.get(Y)||null,$(H,J,""+Ie,je);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case A:return J=J.get(Ie.key===null?Y:Ie.key)||null,W(H,J,Ie,je);case z:return J=J.get(Ie.key===null?Y:Ie.key)||null,X(H,J,Ie,je);case fe:var qe=Ie._init;return Pe(J,H,Y,qe(Ie._payload),je)}if(bt(Ie)||se(Ie))return J=J.get(Y)||null,pe(H,J,Ie,je,null);jf(H,Ie)}return null}function Oe(J,H,Y,Ie){for(var je=null,qe=null,He=H,Qe=H=0,Ln=null;He!==null&&Qe<Y.length;Qe++){He.index>Qe?(Ln=He,He=null):Ln=He.sibling;var pt=de(J,He,Y[Qe],Ie);if(pt===null){He===null&&(He=Ln);break}o&&He&&pt.alternate===null&&a(J,He),H=w(pt,H,Qe),qe===null?je=pt:qe.sibling=pt,qe=pt,He=Ln}if(Qe===Y.length)return c(J,He),jt&&ba(J,Qe),je;if(He===null){for(;Qe<Y.length;Qe++)He=ye(J,Y[Qe],Ie),He!==null&&(H=w(He,H,Qe),qe===null?je=He:qe.sibling=He,qe=He);return jt&&ba(J,Qe),je}for(He=p(J,He);Qe<Y.length;Qe++)Ln=Pe(He,J,Qe,Y[Qe],Ie),Ln!==null&&(o&&Ln.alternate!==null&&He.delete(Ln.key===null?Qe:Ln.key),H=w(Ln,H,Qe),qe===null?je=Ln:qe.sibling=Ln,qe=Ln);return o&&He.forEach(function(Ao){return a(J,Ao)}),jt&&ba(J,Qe),je}function Le(J,H,Y,Ie){var je=se(Y);if(typeof je!="function")throw Error(t(150));if(Y=je.call(Y),Y==null)throw Error(t(151));for(var qe=je=null,He=H,Qe=H=0,Ln=null,pt=Y.next();He!==null&&!pt.done;Qe++,pt=Y.next()){He.index>Qe?(Ln=He,He=null):Ln=He.sibling;var Ao=de(J,He,pt.value,Ie);if(Ao===null){He===null&&(He=Ln);break}o&&He&&Ao.alternate===null&&a(J,He),H=w(Ao,H,Qe),qe===null?je=Ao:qe.sibling=Ao,qe=Ao,He=Ln}if(pt.done)return c(J,He),jt&&ba(J,Qe),je;if(He===null){for(;!pt.done;Qe++,pt=Y.next())pt=ye(J,pt.value,Ie),pt!==null&&(H=w(pt,H,Qe),qe===null?je=pt:qe.sibling=pt,qe=pt);return jt&&ba(J,Qe),je}for(He=p(J,He);!pt.done;Qe++,pt=Y.next())pt=Pe(He,J,Qe,pt.value,Ie),pt!==null&&(o&&pt.alternate!==null&&He.delete(pt.key===null?Qe:pt.key),H=w(pt,H,Qe),qe===null?je=pt:qe.sibling=pt,qe=pt);return o&&He.forEach(function(RN){return a(J,RN)}),jt&&ba(J,Qe),je}function mn(J,H,Y,Ie){if(typeof Y=="object"&&Y!==null&&Y.type===O&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case A:e:{for(var je=Y.key,qe=H;qe!==null;){if(qe.key===je){if(je=Y.type,je===O){if(qe.tag===7){c(J,qe.sibling),H=y(qe,Y.props.children),H.return=J,J=H;break e}}else if(qe.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===fe&&uI(je)===qe.type){c(J,qe.sibling),H=y(qe,Y.props),H.ref=Kc(J,qe,Y),H.return=J,J=H;break e}c(J,qe);break}else a(J,qe);qe=qe.sibling}Y.type===O?(H=Da(Y.props.children,J.mode,Ie,Y.key),H.return=J,J=H):(Ie=up(Y.type,Y.key,Y.props,null,J.mode,Ie),Ie.ref=Kc(J,H,Y),Ie.return=J,J=Ie)}return P(J);case z:e:{for(qe=Y.key;H!==null;){if(H.key===qe)if(H.tag===4&&H.stateNode.containerInfo===Y.containerInfo&&H.stateNode.implementation===Y.implementation){c(J,H.sibling),H=y(H,Y.children||[]),H.return=J,J=H;break e}else{c(J,H);break}else a(J,H);H=H.sibling}H=dv(Y,J.mode,Ie),H.return=J,J=H}return P(J);case fe:return qe=Y._init,mn(J,H,qe(Y._payload),Ie)}if(bt(Y))return Oe(J,H,Y,Ie);if(se(Y))return Le(J,H,Y,Ie);jf(J,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,H!==null&&H.tag===6?(c(J,H.sibling),H=y(H,Y),H.return=J,J=H):(c(J,H),H=cv(Y,J.mode,Ie),H.return=J,J=H),P(J)):c(J,H)}return mn}var Zl=cI(!0),dI=cI(!1),Uf=vo(null),Bf=null,eu=null,wy=null;function Ey(){wy=eu=Bf=null}function Iy(o){var a=Uf.current;Lt(Uf),o._currentValue=a}function Sy(o,a,c){for(;o!==null;){var p=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),o===c)break;o=o.return}}function tu(o,a){Bf=o,wy=eu=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&a&&(Tr=!0),o.firstContext=null)}function ni(o){var a=o._currentValue;if(wy!==o)if(o={context:o,memoizedValue:a,next:null},eu===null){if(Bf===null)throw Error(t(308));eu=o,Bf.dependencies={lanes:0,firstContext:o}}else eu=eu.next=o;return a}var Ra=null;function Ty(o){Ra===null?Ra=[o]:Ra.push(o)}function hI(o,a,c,p){var y=a.interleaved;return y===null?(c.next=c,Ty(a)):(c.next=y.next,y.next=c),a.interleaved=c,As(o,p)}function As(o,a){o.lanes|=a;var c=o.alternate;for(c!==null&&(c.lanes|=a),c=o,o=o.return;o!==null;)o.childLanes|=a,c=o.alternate,c!==null&&(c.childLanes|=a),c=o,o=o.return;return c.tag===3?c.stateNode:null}var Eo=!1;function by(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fI(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ps(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function Io(o,a,c){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,ht&2){var y=p.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),p.pending=a,As(o,c)}return y=p.interleaved,y===null?(a.next=a,Ty(p)):(a.next=y.next,y.next=a),p.interleaved=a,As(o,c)}function $f(o,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=o.pendingLanes,c|=p,a.lanes=c,co(o,c)}}function pI(o,a){var c=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var y=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var P={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?y=w=P:w=w.next=P,c=c.next}while(c!==null);w===null?y=w=a:w=w.next=a}else y=w=a;c={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:p.shared,effects:p.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=a:o.next=a,c.lastBaseUpdate=a}function zf(o,a,c,p){var y=o.updateQueue;Eo=!1;var w=y.firstBaseUpdate,P=y.lastBaseUpdate,$=y.shared.pending;if($!==null){y.shared.pending=null;var W=$,X=W.next;W.next=null,P===null?w=X:P.next=X,P=W;var pe=o.alternate;pe!==null&&(pe=pe.updateQueue,$=pe.lastBaseUpdate,$!==P&&($===null?pe.firstBaseUpdate=X:$.next=X,pe.lastBaseUpdate=W))}if(w!==null){var ye=y.baseState;P=0,pe=X=W=null,$=w;do{var de=$.lane,Pe=$.eventTime;if((p&de)===de){pe!==null&&(pe=pe.next={eventTime:Pe,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var Oe=o,Le=$;switch(de=a,Pe=c,Le.tag){case 1:if(Oe=Le.payload,typeof Oe=="function"){ye=Oe.call(Pe,ye,de);break e}ye=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Le.payload,de=typeof Oe=="function"?Oe.call(Pe,ye,de):Oe,de==null)break e;ye=ge({},ye,de);break e;case 2:Eo=!0}}$.callback!==null&&$.lane!==0&&(o.flags|=64,de=y.effects,de===null?y.effects=[$]:de.push($))}else Pe={eventTime:Pe,lane:de,tag:$.tag,payload:$.payload,callback:$.callback,next:null},pe===null?(X=pe=Pe,W=ye):pe=pe.next=Pe,P|=de;if($=$.next,$===null){if($=y.shared.pending,$===null)break;de=$,$=de.next,de.next=null,y.lastBaseUpdate=de,y.shared.pending=null}}while(!0);if(pe===null&&(W=ye),y.baseState=W,y.firstBaseUpdate=X,y.lastBaseUpdate=pe,a=y.shared.interleaved,a!==null){y=a;do P|=y.lane,y=y.next;while(y!==a)}else w===null&&(y.shared.lanes=0);Aa|=P,o.lanes=P,o.memoizedState=ye}}function mI(o,a,c){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var p=o[a],y=p.callback;if(y!==null){if(p.callback=null,p=c,typeof y!="function")throw Error(t(191,y));y.call(p)}}}var Qc={},Wi=vo(Qc),Jc=vo(Qc),Yc=vo(Qc);function Ca(o){if(o===Qc)throw Error(t(174));return o}function Ry(o,a){switch(kt(Yc,a),kt(Jc,o),kt(Wi,Qc),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Ot(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=Ot(a,o)}Lt(Wi),kt(Wi,a)}function nu(){Lt(Wi),Lt(Jc),Lt(Yc)}function gI(o){Ca(Yc.current);var a=Ca(Wi.current),c=Ot(a,o.type);a!==c&&(kt(Jc,o),kt(Wi,c))}function Cy(o){Jc.current===o&&(Lt(Wi),Lt(Jc))}var Kt=vo(0);function Wf(o){for(var a=o;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var xy=[];function Ay(){for(var o=0;o<xy.length;o++)xy[o]._workInProgressVersionPrimary=null;xy.length=0}var qf=j.ReactCurrentDispatcher,Py=j.ReactCurrentBatchConfig,xa=0,Qt=null,An=null,On=null,Hf=!1,Xc=!1,Zc=0,Qk=0;function Zn(){throw Error(t(321))}function ky(o,a){if(a===null)return!1;for(var c=0;c<a.length&&c<o.length;c++)if(!Ii(o[c],a[c]))return!1;return!0}function Ny(o,a,c,p,y,w){if(xa=w,Qt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,qf.current=o===null||o.memoizedState===null?Zk:eN,o=c(p,y),Xc){w=0;do{if(Xc=!1,Zc=0,25<=w)throw Error(t(301));w+=1,On=An=null,a.updateQueue=null,qf.current=tN,o=c(p,y)}while(Xc)}if(qf.current=Qf,a=An!==null&&An.next!==null,xa=0,On=An=Qt=null,Hf=!1,a)throw Error(t(300));return o}function Dy(){var o=Zc!==0;return Zc=0,o}function qi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?Qt.memoizedState=On=o:On=On.next=o,On}function ri(){if(An===null){var o=Qt.alternate;o=o!==null?o.memoizedState:null}else o=An.next;var a=On===null?Qt.memoizedState:On.next;if(a!==null)On=a,An=o;else{if(o===null)throw Error(t(310));An=o,o={memoizedState:An.memoizedState,baseState:An.baseState,baseQueue:An.baseQueue,queue:An.queue,next:null},On===null?Qt.memoizedState=On=o:On=On.next=o}return On}function ed(o,a){return typeof a=="function"?a(o):a}function Oy(o){var a=ri(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var p=An,y=p.baseQueue,w=c.pending;if(w!==null){if(y!==null){var P=y.next;y.next=w.next,w.next=P}p.baseQueue=y=w,c.pending=null}if(y!==null){w=y.next,p=p.baseState;var $=P=null,W=null,X=w;do{var pe=X.lane;if((xa&pe)===pe)W!==null&&(W=W.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),p=X.hasEagerState?X.eagerState:o(p,X.action);else{var ye={lane:pe,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};W===null?($=W=ye,P=p):W=W.next=ye,Qt.lanes|=pe,Aa|=pe}X=X.next}while(X!==null&&X!==w);W===null?P=p:W.next=$,Ii(p,a.memoizedState)||(Tr=!0),a.memoizedState=p,a.baseState=P,a.baseQueue=W,c.lastRenderedState=p}if(o=c.interleaved,o!==null){y=o;do w=y.lane,Qt.lanes|=w,Aa|=w,y=y.next;while(y!==o)}else y===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function My(o){var a=ri(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var p=c.dispatch,y=c.pending,w=a.memoizedState;if(y!==null){c.pending=null;var P=y=y.next;do w=o(w,P.action),P=P.next;while(P!==y);Ii(w,a.memoizedState)||(Tr=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),c.lastRenderedState=w}return[w,p]}function yI(){}function vI(o,a){var c=Qt,p=ri(),y=a(),w=!Ii(p.memoizedState,y);if(w&&(p.memoizedState=y,Tr=!0),p=p.queue,Ly(EI.bind(null,c,p,o),[o]),p.getSnapshot!==a||w||On!==null&&On.memoizedState.tag&1){if(c.flags|=2048,td(9,wI.bind(null,c,p,y,a),void 0,null),Mn===null)throw Error(t(349));xa&30||_I(c,a,y)}return y}function _I(o,a,c){o.flags|=16384,o={getSnapshot:a,value:c},a=Qt.updateQueue,a===null?(a={lastEffect:null,stores:null},Qt.updateQueue=a,a.stores=[o]):(c=a.stores,c===null?a.stores=[o]:c.push(o))}function wI(o,a,c,p){a.value=c,a.getSnapshot=p,II(a)&&SI(o)}function EI(o,a,c){return c(function(){II(a)&&SI(o)})}function II(o){var a=o.getSnapshot;o=o.value;try{var c=a();return!Ii(o,c)}catch{return!0}}function SI(o){var a=As(o,1);a!==null&&Ci(a,o,1,-1)}function TI(o){var a=qi();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ed,lastRenderedState:o},a.queue=o,o=o.dispatch=Xk.bind(null,Qt,o),[a.memoizedState,o]}function td(o,a,c,p){return o={tag:o,create:a,destroy:c,deps:p,next:null},a=Qt.updateQueue,a===null?(a={lastEffect:null,stores:null},Qt.updateQueue=a,a.lastEffect=o.next=o):(c=a.lastEffect,c===null?a.lastEffect=o.next=o:(p=c.next,c.next=o,o.next=p,a.lastEffect=o)),o}function bI(){return ri().memoizedState}function Gf(o,a,c,p){var y=qi();Qt.flags|=o,y.memoizedState=td(1|a,c,void 0,p===void 0?null:p)}function Kf(o,a,c,p){var y=ri();p=p===void 0?null:p;var w=void 0;if(An!==null){var P=An.memoizedState;if(w=P.destroy,p!==null&&ky(p,P.deps)){y.memoizedState=td(a,c,w,p);return}}Qt.flags|=o,y.memoizedState=td(1|a,c,w,p)}function RI(o,a){return Gf(8390656,8,o,a)}function Ly(o,a){return Kf(2048,8,o,a)}function CI(o,a){return Kf(4,2,o,a)}function xI(o,a){return Kf(4,4,o,a)}function AI(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function PI(o,a,c){return c=c!=null?c.concat([o]):null,Kf(4,4,AI.bind(null,a,o),c)}function Vy(){}function kI(o,a){var c=ri();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&ky(a,p[1])?p[0]:(c.memoizedState=[o,a],o)}function NI(o,a){var c=ri();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&ky(a,p[1])?p[0]:(o=o(),c.memoizedState=[o,a],o)}function DI(o,a,c){return xa&21?(Ii(c,a)||(c=ya(),Qt.lanes|=c,Aa|=c,o.baseState=!0),a):(o.baseState&&(o.baseState=!1,Tr=!0),o.memoizedState=c)}function Jk(o,a){var c=lt;lt=c!==0&&4>c?c:4,o(!0);var p=Py.transition;Py.transition={};try{o(!1),a()}finally{lt=c,Py.transition=p}}function OI(){return ri().memoizedState}function Yk(o,a,c){var p=Ro(o);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},MI(o))LI(a,c);else if(c=hI(o,a,c,p),c!==null){var y=hr();Ci(c,o,p,y),VI(c,a,p)}}function Xk(o,a,c){var p=Ro(o),y={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(MI(o))LI(a,y);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var P=a.lastRenderedState,$=w(P,c);if(y.hasEagerState=!0,y.eagerState=$,Ii($,P)){var W=a.interleaved;W===null?(y.next=y,Ty(a)):(y.next=W.next,W.next=y),a.interleaved=y;return}}catch{}finally{}c=hI(o,a,y,p),c!==null&&(y=hr(),Ci(c,o,p,y),VI(c,a,p))}}function MI(o){var a=o.alternate;return o===Qt||a!==null&&a===Qt}function LI(o,a){Xc=Hf=!0;var c=o.pending;c===null?a.next=a:(a.next=c.next,c.next=a),o.pending=a}function VI(o,a,c){if(c&4194240){var p=a.lanes;p&=o.pendingLanes,c|=p,a.lanes=c,co(o,c)}}var Qf={readContext:ni,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useInsertionEffect:Zn,useLayoutEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useMutableSource:Zn,useSyncExternalStore:Zn,useId:Zn,unstable_isNewReconciler:!1},Zk={readContext:ni,useCallback:function(o,a){return qi().memoizedState=[o,a===void 0?null:a],o},useContext:ni,useEffect:RI,useImperativeHandle:function(o,a,c){return c=c!=null?c.concat([o]):null,Gf(4194308,4,AI.bind(null,a,o),c)},useLayoutEffect:function(o,a){return Gf(4194308,4,o,a)},useInsertionEffect:function(o,a){return Gf(4,2,o,a)},useMemo:function(o,a){var c=qi();return a=a===void 0?null:a,o=o(),c.memoizedState=[o,a],o},useReducer:function(o,a,c){var p=qi();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},p.queue=o,o=o.dispatch=Yk.bind(null,Qt,o),[p.memoizedState,o]},useRef:function(o){var a=qi();return o={current:o},a.memoizedState=o},useState:TI,useDebugValue:Vy,useDeferredValue:function(o){return qi().memoizedState=o},useTransition:function(){var o=TI(!1),a=o[0];return o=Jk.bind(null,o[1]),qi().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,c){var p=Qt,y=qi();if(jt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),Mn===null)throw Error(t(349));xa&30||_I(p,a,c)}y.memoizedState=c;var w={value:c,getSnapshot:a};return y.queue=w,RI(EI.bind(null,p,w,o),[o]),p.flags|=2048,td(9,wI.bind(null,p,w,c,a),void 0,null),c},useId:function(){var o=qi(),a=Mn.identifierPrefix;if(jt){var c=xs,p=Cs;c=(p&~(1<<32-ur(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=Zc++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=Qk++,a=":"+a+"r"+c.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},eN={readContext:ni,useCallback:kI,useContext:ni,useEffect:Ly,useImperativeHandle:PI,useInsertionEffect:CI,useLayoutEffect:xI,useMemo:NI,useReducer:Oy,useRef:bI,useState:function(){return Oy(ed)},useDebugValue:Vy,useDeferredValue:function(o){var a=ri();return DI(a,An.memoizedState,o)},useTransition:function(){var o=Oy(ed)[0],a=ri().memoizedState;return[o,a]},useMutableSource:yI,useSyncExternalStore:vI,useId:OI,unstable_isNewReconciler:!1},tN={readContext:ni,useCallback:kI,useContext:ni,useEffect:Ly,useImperativeHandle:PI,useInsertionEffect:CI,useLayoutEffect:xI,useMemo:NI,useReducer:My,useRef:bI,useState:function(){return My(ed)},useDebugValue:Vy,useDeferredValue:function(o){var a=ri();return An===null?a.memoizedState=o:DI(a,An.memoizedState,o)},useTransition:function(){var o=My(ed)[0],a=ri().memoizedState;return[o,a]},useMutableSource:yI,useSyncExternalStore:vI,useId:OI,unstable_isNewReconciler:!1};function Ti(o,a){if(o&&o.defaultProps){a=ge({},a),o=o.defaultProps;for(var c in o)a[c]===void 0&&(a[c]=o[c]);return a}return a}function Fy(o,a,c,p){a=o.memoizedState,c=c(p,a),c=c==null?a:ge({},a,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var Jf={isMounted:function(o){return(o=o._reactInternals)?mi(o)===o:!1},enqueueSetState:function(o,a,c){o=o._reactInternals;var p=hr(),y=Ro(o),w=Ps(p,y);w.payload=a,c!=null&&(w.callback=c),a=Io(o,w,y),a!==null&&(Ci(a,o,y,p),$f(a,o,y))},enqueueReplaceState:function(o,a,c){o=o._reactInternals;var p=hr(),y=Ro(o),w=Ps(p,y);w.tag=1,w.payload=a,c!=null&&(w.callback=c),a=Io(o,w,y),a!==null&&(Ci(a,o,y,p),$f(a,o,y))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var c=hr(),p=Ro(o),y=Ps(c,p);y.tag=2,a!=null&&(y.callback=a),a=Io(o,y,p),a!==null&&(Ci(a,o,p,c),$f(a,o,p))}};function FI(o,a,c,p,y,w,P){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,w,P):a.prototype&&a.prototype.isPureReactComponent?!Bc(c,p)||!Bc(y,w):!0}function jI(o,a,c){var p=!1,y=_o,w=a.contextType;return typeof w=="object"&&w!==null?w=ni(w):(y=Sr(a)?Sa:Xn.current,p=a.contextTypes,w=(p=p!=null)?Ql(o,y):_o),a=new a(c,w),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Jf,o.stateNode=a,a._reactInternals=o,p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=y,o.__reactInternalMemoizedMaskedChildContext=w),a}function UI(o,a,c,p){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==o&&Jf.enqueueReplaceState(a,a.state,null)}function jy(o,a,c,p){var y=o.stateNode;y.props=c,y.state=o.memoizedState,y.refs={},by(o);var w=a.contextType;typeof w=="object"&&w!==null?y.context=ni(w):(w=Sr(a)?Sa:Xn.current,y.context=Ql(o,w)),y.state=o.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(Fy(o,a,w,c),y.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&Jf.enqueueReplaceState(y,y.state,null),zf(o,c,y,p),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308)}function ru(o,a){try{var c="",p=a;do c+=Se(p),p=p.return;while(p);var y=c}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:o,source:a,stack:y,digest:null}}function Uy(o,a,c){return{value:o,source:null,stack:c??null,digest:a??null}}function By(o,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var nN=typeof WeakMap=="function"?WeakMap:Map;function BI(o,a,c){c=Ps(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){rp||(rp=!0,nv=p),By(o,a)},c}function $I(o,a,c){c=Ps(-1,c),c.tag=3;var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=a.value;c.payload=function(){return p(y)},c.callback=function(){By(o,a)}}var w=o.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){By(o,a),typeof p!="function"&&(To===null?To=new Set([this]):To.add(this));var P=a.stack;this.componentDidCatch(a.value,{componentStack:P!==null?P:""})}),c}function zI(o,a,c){var p=o.pingCache;if(p===null){p=o.pingCache=new nN;var y=new Set;p.set(a,y)}else y=p.get(a),y===void 0&&(y=new Set,p.set(a,y));y.has(c)||(y.add(c),o=gN.bind(null,o,a,c),a.then(o,o))}function WI(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function qI(o,a,c,p,y){return o.mode&1?(o.flags|=65536,o.lanes=y,o):(o===a?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Ps(-1,1),a.tag=2,Io(c,a,1))),c.lanes|=1),o)}var rN=j.ReactCurrentOwner,Tr=!1;function dr(o,a,c,p){a.child=o===null?dI(a,null,c,p):Zl(a,o.child,c,p)}function HI(o,a,c,p,y){c=c.render;var w=a.ref;return tu(a,y),p=Ny(o,a,c,p,w,y),c=Dy(),o!==null&&!Tr?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,ks(o,a,y)):(jt&&c&&my(a),a.flags|=1,dr(o,a,p,y),a.child)}function GI(o,a,c,p,y){if(o===null){var w=c.type;return typeof w=="function"&&!uv(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=w,KI(o,a,w,p,y)):(o=up(c.type,null,p,a,a.mode,y),o.ref=a.ref,o.return=a,a.child=o)}if(w=o.child,!(o.lanes&y)){var P=w.memoizedProps;if(c=c.compare,c=c!==null?c:Bc,c(P,p)&&o.ref===a.ref)return ks(o,a,y)}return a.flags|=1,o=xo(w,p),o.ref=a.ref,o.return=a,a.child=o}function KI(o,a,c,p,y){if(o!==null){var w=o.memoizedProps;if(Bc(w,p)&&o.ref===a.ref)if(Tr=!1,a.pendingProps=p=w,(o.lanes&y)!==0)o.flags&131072&&(Tr=!0);else return a.lanes=o.lanes,ks(o,a,y)}return $y(o,a,c,p,y)}function QI(o,a,c){var p=a.pendingProps,y=p.children,w=o!==null?o.memoizedState:null;if(p.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(su,Br),Br|=c;else{if(!(c&1073741824))return o=w!==null?w.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,kt(su,Br),Br|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:c,kt(su,Br),Br|=p}else w!==null?(p=w.baseLanes|c,a.memoizedState=null):p=c,kt(su,Br),Br|=p;return dr(o,a,y,c),a.child}function JI(o,a){var c=a.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function $y(o,a,c,p,y){var w=Sr(c)?Sa:Xn.current;return w=Ql(a,w),tu(a,y),c=Ny(o,a,c,p,w,y),p=Dy(),o!==null&&!Tr?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,ks(o,a,y)):(jt&&p&&my(a),a.flags|=1,dr(o,a,c,y),a.child)}function YI(o,a,c,p,y){if(Sr(c)){var w=!0;Of(a)}else w=!1;if(tu(a,y),a.stateNode===null)Xf(o,a),jI(a,c,p),jy(a,c,p,y),p=!0;else if(o===null){var P=a.stateNode,$=a.memoizedProps;P.props=$;var W=P.context,X=c.contextType;typeof X=="object"&&X!==null?X=ni(X):(X=Sr(c)?Sa:Xn.current,X=Ql(a,X));var pe=c.getDerivedStateFromProps,ye=typeof pe=="function"||typeof P.getSnapshotBeforeUpdate=="function";ye||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||($!==p||W!==X)&&UI(a,P,p,X),Eo=!1;var de=a.memoizedState;P.state=de,zf(a,p,P,y),W=a.memoizedState,$!==p||de!==W||Ir.current||Eo?(typeof pe=="function"&&(Fy(a,c,pe,p),W=a.memoizedState),($=Eo||FI(a,c,$,p,de,W,X))?(ye||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(a.flags|=4194308)):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=W),P.props=p,P.state=W,P.context=X,p=$):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{P=a.stateNode,fI(o,a),$=a.memoizedProps,X=a.type===a.elementType?$:Ti(a.type,$),P.props=X,ye=a.pendingProps,de=P.context,W=c.contextType,typeof W=="object"&&W!==null?W=ni(W):(W=Sr(c)?Sa:Xn.current,W=Ql(a,W));var Pe=c.getDerivedStateFromProps;(pe=typeof Pe=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||($!==ye||de!==W)&&UI(a,P,p,W),Eo=!1,de=a.memoizedState,P.state=de,zf(a,p,P,y);var Oe=a.memoizedState;$!==ye||de!==Oe||Ir.current||Eo?(typeof Pe=="function"&&(Fy(a,c,Pe,p),Oe=a.memoizedState),(X=Eo||FI(a,c,X,p,de,Oe,W)||!1)?(pe||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(p,Oe,W),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(p,Oe,W)),typeof P.componentDidUpdate=="function"&&(a.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof P.componentDidUpdate!="function"||$===o.memoizedProps&&de===o.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&de===o.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Oe),P.props=p,P.state=Oe,P.context=W,p=X):(typeof P.componentDidUpdate!="function"||$===o.memoizedProps&&de===o.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&de===o.memoizedState||(a.flags|=1024),p=!1)}return zy(o,a,c,p,w,y)}function zy(o,a,c,p,y,w){JI(o,a);var P=(a.flags&128)!==0;if(!p&&!P)return y&&nI(a,c,!1),ks(o,a,w);p=a.stateNode,rN.current=a;var $=P&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,o!==null&&P?(a.child=Zl(a,o.child,null,w),a.child=Zl(a,null,$,w)):dr(o,a,$,w),a.memoizedState=p.state,y&&nI(a,c,!0),a.child}function XI(o){var a=o.stateNode;a.pendingContext?eI(o,a.pendingContext,a.pendingContext!==a.context):a.context&&eI(o,a.context,!1),Ry(o,a.containerInfo)}function ZI(o,a,c,p,y){return Xl(),_y(y),a.flags|=256,dr(o,a,c,p),a.child}var Wy={dehydrated:null,treeContext:null,retryLane:0};function qy(o){return{baseLanes:o,cachePool:null,transitions:null}}function eS(o,a,c){var p=a.pendingProps,y=Kt.current,w=!1,P=(a.flags&128)!==0,$;if(($=P)||($=o!==null&&o.memoizedState===null?!1:(y&2)!==0),$?(w=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(y|=1),kt(Kt,y&1),o===null)return vy(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(a.mode&1?o.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(P=p.children,o=p.fallback,w?(p=a.mode,w=a.child,P={mode:"hidden",children:P},!(p&1)&&w!==null?(w.childLanes=0,w.pendingProps=P):w=cp(P,p,0,null),o=Da(o,p,c,null),w.return=a,o.return=a,w.sibling=o,a.child=w,a.child.memoizedState=qy(c),a.memoizedState=Wy,o):Hy(a,P));if(y=o.memoizedState,y!==null&&($=y.dehydrated,$!==null))return iN(o,a,P,p,$,y,c);if(w){w=p.fallback,P=a.mode,y=o.child,$=y.sibling;var W={mode:"hidden",children:p.children};return!(P&1)&&a.child!==y?(p=a.child,p.childLanes=0,p.pendingProps=W,a.deletions=null):(p=xo(y,W),p.subtreeFlags=y.subtreeFlags&14680064),$!==null?w=xo($,w):(w=Da(w,P,c,null),w.flags|=2),w.return=a,p.return=a,p.sibling=w,a.child=p,p=w,w=a.child,P=o.child.memoizedState,P=P===null?qy(c):{baseLanes:P.baseLanes|c,cachePool:null,transitions:P.transitions},w.memoizedState=P,w.childLanes=o.childLanes&~c,a.memoizedState=Wy,p}return w=o.child,o=w.sibling,p=xo(w,{mode:"visible",children:p.children}),!(a.mode&1)&&(p.lanes=c),p.return=a,p.sibling=null,o!==null&&(c=a.deletions,c===null?(a.deletions=[o],a.flags|=16):c.push(o)),a.child=p,a.memoizedState=null,p}function Hy(o,a){return a=cp({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function Yf(o,a,c,p){return p!==null&&_y(p),Zl(a,o.child,null,c),o=Hy(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function iN(o,a,c,p,y,w,P){if(c)return a.flags&256?(a.flags&=-257,p=Uy(Error(t(422))),Yf(o,a,P,p)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(w=p.fallback,y=a.mode,p=cp({mode:"visible",children:p.children},y,0,null),w=Da(w,y,P,null),w.flags|=2,p.return=a,w.return=a,p.sibling=w,a.child=p,a.mode&1&&Zl(a,o.child,null,P),a.child.memoizedState=qy(P),a.memoizedState=Wy,w);if(!(a.mode&1))return Yf(o,a,P,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var $=p.dgst;return p=$,w=Error(t(419)),p=Uy(w,p,void 0),Yf(o,a,P,p)}if($=(P&o.childLanes)!==0,Tr||$){if(p=Mn,p!==null){switch(P&-P){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=y&(p.suspendedLanes|P)?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,As(o,y),Ci(p,o,y,-1))}return lv(),p=Uy(Error(t(421))),Yf(o,a,P,p)}return y.data==="$?"?(a.flags|=128,a.child=o.child,a=yN.bind(null,o),y._reactRetry=a,null):(o=w.treeContext,Ur=yo(y.nextSibling),jr=a,jt=!0,Si=null,o!==null&&(ei[ti++]=Cs,ei[ti++]=xs,ei[ti++]=Ta,Cs=o.id,xs=o.overflow,Ta=a),a=Hy(a,p.children),a.flags|=4096,a)}function tS(o,a,c){o.lanes|=a;var p=o.alternate;p!==null&&(p.lanes|=a),Sy(o.return,a,c)}function Gy(o,a,c,p,y){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:y}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=c,w.tailMode=y)}function nS(o,a,c){var p=a.pendingProps,y=p.revealOrder,w=p.tail;if(dr(o,a,p.children,c),p=Kt.current,p&2)p=p&1|2,a.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&tS(o,c,a);else if(o.tag===19)tS(o,c,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}if(kt(Kt,p),!(a.mode&1))a.memoizedState=null;else switch(y){case"forwards":for(c=a.child,y=null;c!==null;)o=c.alternate,o!==null&&Wf(o)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),Gy(a,!1,y,c,w);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(o=y.alternate,o!==null&&Wf(o)===null){a.child=y;break}o=y.sibling,y.sibling=c,c=y,y=o}Gy(a,!0,c,null,w);break;case"together":Gy(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Xf(o,a){!(a.mode&1)&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function ks(o,a,c){if(o!==null&&(a.dependencies=o.dependencies),Aa|=a.lanes,!(c&a.childLanes))return null;if(o!==null&&a.child!==o.child)throw Error(t(153));if(a.child!==null){for(o=a.child,c=xo(o,o.pendingProps),a.child=c,c.return=a;o.sibling!==null;)o=o.sibling,c=c.sibling=xo(o,o.pendingProps),c.return=a;c.sibling=null}return a.child}function sN(o,a,c){switch(a.tag){case 3:XI(a),Xl();break;case 5:gI(a);break;case 1:Sr(a.type)&&Of(a);break;case 4:Ry(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,y=a.memoizedProps.value;kt(Uf,p._currentValue),p._currentValue=y;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(kt(Kt,Kt.current&1),a.flags|=128,null):c&a.child.childLanes?eS(o,a,c):(kt(Kt,Kt.current&1),o=ks(o,a,c),o!==null?o.sibling:null);kt(Kt,Kt.current&1);break;case 19:if(p=(c&a.childLanes)!==0,o.flags&128){if(p)return nS(o,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),kt(Kt,Kt.current),p)break;return null;case 22:case 23:return a.lanes=0,QI(o,a,c)}return ks(o,a,c)}var rS,Ky,iS,sS;rS=function(o,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Ky=function(){},iS=function(o,a,c,p){var y=o.memoizedProps;if(y!==p){o=a.stateNode,Ca(Wi.current);var w=null;switch(c){case"input":y=me(o,y),p=me(o,p),w=[];break;case"select":y=ge({},y,{value:void 0}),p=ge({},p,{value:void 0}),w=[];break;case"textarea":y=$e(o,y),p=$e(o,p),w=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(o.onclick=kf)}yt(c,p);var P;c=null;for(X in y)if(!p.hasOwnProperty(X)&&y.hasOwnProperty(X)&&y[X]!=null)if(X==="style"){var $=y[X];for(P in $)$.hasOwnProperty(P)&&(c||(c={}),c[P]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(i.hasOwnProperty(X)?w||(w=[]):(w=w||[]).push(X,null));for(X in p){var W=p[X];if($=y!=null?y[X]:void 0,p.hasOwnProperty(X)&&W!==$&&(W!=null||$!=null))if(X==="style")if($){for(P in $)!$.hasOwnProperty(P)||W&&W.hasOwnProperty(P)||(c||(c={}),c[P]="");for(P in W)W.hasOwnProperty(P)&&$[P]!==W[P]&&(c||(c={}),c[P]=W[P])}else c||(w||(w=[]),w.push(X,c)),c=W;else X==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,$=$?$.__html:void 0,W!=null&&$!==W&&(w=w||[]).push(X,W)):X==="children"?typeof W!="string"&&typeof W!="number"||(w=w||[]).push(X,""+W):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(i.hasOwnProperty(X)?(W!=null&&X==="onScroll"&&Mt("scroll",o),w||$===W||(w=[])):(w=w||[]).push(X,W))}c&&(w=w||[]).push("style",c);var X=w;(a.updateQueue=X)&&(a.flags|=4)}},sS=function(o,a,c,p){c!==p&&(a.flags|=4)};function nd(o,a){if(!jt)switch(o.tailMode){case"hidden":a=o.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function er(o){var a=o.alternate!==null&&o.alternate.child===o.child,c=0,p=0;if(a)for(var y=o.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=p,o.childLanes=c,a}function oN(o,a,c){var p=a.pendingProps;switch(gy(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(a),null;case 1:return Sr(a.type)&&Df(),er(a),null;case 3:return p=a.stateNode,nu(),Lt(Ir),Lt(Xn),Ay(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(Ff(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Si!==null&&(sv(Si),Si=null))),Ky(o,a),er(a),null;case 5:Cy(a);var y=Ca(Yc.current);if(c=a.type,o!==null&&a.stateNode!=null)iS(o,a,c,p,y),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return er(a),null}if(o=Ca(Wi.current),Ff(a)){p=a.stateNode,c=a.type;var w=a.memoizedProps;switch(p[zi]=a,p[Hc]=w,o=(a.mode&1)!==0,c){case"dialog":Mt("cancel",p),Mt("close",p);break;case"iframe":case"object":case"embed":Mt("load",p);break;case"video":case"audio":for(y=0;y<zc.length;y++)Mt(zc[y],p);break;case"source":Mt("error",p);break;case"img":case"image":case"link":Mt("error",p),Mt("load",p);break;case"details":Mt("toggle",p);break;case"input":ze(p,w),Mt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},Mt("invalid",p);break;case"textarea":Or(p,w),Mt("invalid",p)}yt(c,w),y=null;for(var P in w)if(w.hasOwnProperty(P)){var $=w[P];P==="children"?typeof $=="string"?p.textContent!==$&&(w.suppressHydrationWarning!==!0&&Pf(p.textContent,$,o),y=["children",$]):typeof $=="number"&&p.textContent!==""+$&&(w.suppressHydrationWarning!==!0&&Pf(p.textContent,$,o),y=["children",""+$]):i.hasOwnProperty(P)&&$!=null&&P==="onScroll"&&Mt("scroll",p)}switch(c){case"input":ue(p),at(p,w,!0);break;case"textarea":ue(p),Kr(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=kf)}p=y,a.updateQueue=p,p!==null&&(a.flags|=4)}else{P=y.nodeType===9?y:y.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Dt(c)),o==="http://www.w3.org/1999/xhtml"?c==="script"?(o=P.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof p.is=="string"?o=P.createElement(c,{is:p.is}):(o=P.createElement(c),c==="select"&&(P=o,p.multiple?P.multiple=!0:p.size&&(P.size=p.size))):o=P.createElementNS(o,c),o[zi]=a,o[Hc]=p,rS(o,a,!1,!1),a.stateNode=o;e:{switch(P=Gt(c,p),c){case"dialog":Mt("cancel",o),Mt("close",o),y=p;break;case"iframe":case"object":case"embed":Mt("load",o),y=p;break;case"video":case"audio":for(y=0;y<zc.length;y++)Mt(zc[y],o);y=p;break;case"source":Mt("error",o),y=p;break;case"img":case"image":case"link":Mt("error",o),Mt("load",o),y=p;break;case"details":Mt("toggle",o),y=p;break;case"input":ze(o,p),y=me(o,p),Mt("invalid",o);break;case"option":y=p;break;case"select":o._wrapperState={wasMultiple:!!p.multiple},y=ge({},p,{value:void 0}),Mt("invalid",o);break;case"textarea":Or(o,p),y=$e(o,p),Mt("invalid",o);break;default:y=p}yt(c,y),$=y;for(w in $)if($.hasOwnProperty(w)){var W=$[w];w==="style"?so(o,W):w==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&Qr(o,W)):w==="children"?typeof W=="string"?(c!=="textarea"||W!=="")&&Yn(o,W):typeof W=="number"&&Yn(o,""+W):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?W!=null&&w==="onScroll"&&Mt("scroll",o):W!=null&&M(o,w,W,P))}switch(c){case"input":ue(o),at(o,p,!1);break;case"textarea":ue(o),Kr(o);break;case"option":p.value!=null&&o.setAttribute("value",""+Ne(p.value));break;case"select":o.multiple=!!p.multiple,w=p.value,w!=null?Et(o,!!p.multiple,w,!1):p.defaultValue!=null&&Et(o,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(o.onclick=kf)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return er(a),null;case 6:if(o&&a.stateNode!=null)sS(o,a,o.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(c=Ca(Yc.current),Ca(Wi.current),Ff(a)){if(p=a.stateNode,c=a.memoizedProps,p[zi]=a,(w=p.nodeValue!==c)&&(o=jr,o!==null))switch(o.tag){case 3:Pf(p.nodeValue,c,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Pf(p.nodeValue,c,(o.mode&1)!==0)}w&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[zi]=a,a.stateNode=p}return er(a),null;case 13:if(Lt(Kt),p=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(jt&&Ur!==null&&a.mode&1&&!(a.flags&128))lI(),Xl(),a.flags|=98560,w=!1;else if(w=Ff(a),p!==null&&p.dehydrated!==null){if(o===null){if(!w)throw Error(t(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[zi]=a}else Xl(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;er(a),w=!1}else Si!==null&&(sv(Si),Si=null),w=!0;if(!w)return a.flags&65536?a:null}return a.flags&128?(a.lanes=c,a):(p=p!==null,p!==(o!==null&&o.memoizedState!==null)&&p&&(a.child.flags|=8192,a.mode&1&&(o===null||Kt.current&1?Pn===0&&(Pn=3):lv())),a.updateQueue!==null&&(a.flags|=4),er(a),null);case 4:return nu(),Ky(o,a),o===null&&Wc(a.stateNode.containerInfo),er(a),null;case 10:return Iy(a.type._context),er(a),null;case 17:return Sr(a.type)&&Df(),er(a),null;case 19:if(Lt(Kt),w=a.memoizedState,w===null)return er(a),null;if(p=(a.flags&128)!==0,P=w.rendering,P===null)if(p)nd(w,!1);else{if(Pn!==0||o!==null&&o.flags&128)for(o=a.child;o!==null;){if(P=Wf(o),P!==null){for(a.flags|=128,nd(w,!1),p=P.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)w=c,o=p,w.flags&=14680066,P=w.alternate,P===null?(w.childLanes=0,w.lanes=o,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=P.childLanes,w.lanes=P.lanes,w.child=P.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=P.memoizedProps,w.memoizedState=P.memoizedState,w.updateQueue=P.updateQueue,w.type=P.type,o=P.dependencies,w.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return kt(Kt,Kt.current&1|2),a.child}o=o.sibling}w.tail!==null&&Pt()>ou&&(a.flags|=128,p=!0,nd(w,!1),a.lanes=4194304)}else{if(!p)if(o=Wf(P),o!==null){if(a.flags|=128,p=!0,c=o.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),nd(w,!0),w.tail===null&&w.tailMode==="hidden"&&!P.alternate&&!jt)return er(a),null}else 2*Pt()-w.renderingStartTime>ou&&c!==1073741824&&(a.flags|=128,p=!0,nd(w,!1),a.lanes=4194304);w.isBackwards?(P.sibling=a.child,a.child=P):(c=w.last,c!==null?c.sibling=P:a.child=P,w.last=P)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=Pt(),a.sibling=null,c=Kt.current,kt(Kt,p?c&1|2:c&1),a):(er(a),null);case 22:case 23:return av(),p=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==p&&(a.flags|=8192),p&&a.mode&1?Br&1073741824&&(er(a),a.subtreeFlags&6&&(a.flags|=8192)):er(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function aN(o,a){switch(gy(a),a.tag){case 1:return Sr(a.type)&&Df(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return nu(),Lt(Ir),Lt(Xn),Ay(),o=a.flags,o&65536&&!(o&128)?(a.flags=o&-65537|128,a):null;case 5:return Cy(a),null;case 13:if(Lt(Kt),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Xl()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return Lt(Kt),null;case 4:return nu(),null;case 10:return Iy(a.type._context),null;case 22:case 23:return av(),null;case 24:return null;default:return null}}var Zf=!1,tr=!1,lN=typeof WeakSet=="function"?WeakSet:Set,De=null;function iu(o,a){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){tn(o,a,p)}else c.current=null}function Qy(o,a,c){try{c()}catch(p){tn(o,a,p)}}var oS=!1;function uN(o,a){if(ay=po,o=FE(),Zg(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var y=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var P=0,$=-1,W=-1,X=0,pe=0,ye=o,de=null;t:for(;;){for(var Pe;ye!==c||y!==0&&ye.nodeType!==3||($=P+y),ye!==w||p!==0&&ye.nodeType!==3||(W=P+p),ye.nodeType===3&&(P+=ye.nodeValue.length),(Pe=ye.firstChild)!==null;)de=ye,ye=Pe;for(;;){if(ye===o)break t;if(de===c&&++X===y&&($=P),de===w&&++pe===p&&(W=P),(Pe=ye.nextSibling)!==null)break;ye=de,de=ye.parentNode}ye=Pe}c=$===-1||W===-1?null:{start:$,end:W}}else c=null}c=c||{start:0,end:0}}else c=null;for(ly={focusedElem:o,selectionRange:c},po=!1,De=a;De!==null;)if(a=De,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,De=o;else for(;De!==null;){a=De;try{var Oe=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Oe!==null){var Le=Oe.memoizedProps,mn=Oe.memoizedState,J=a.stateNode,H=J.getSnapshotBeforeUpdate(a.elementType===a.type?Le:Ti(a.type,Le),mn);J.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var Y=a.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ie){tn(a,a.return,Ie)}if(o=a.sibling,o!==null){o.return=a.return,De=o;break}De=a.return}return Oe=oS,oS=!1,Oe}function rd(o,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&o)===o){var w=y.destroy;y.destroy=void 0,w!==void 0&&Qy(a,c,w)}y=y.next}while(y!==p)}}function ep(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&o)===o){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function Jy(o){var a=o.ref;if(a!==null){var c=o.stateNode;switch(o.tag){case 5:o=c;break;default:o=c}typeof a=="function"?a(o):a.current=o}}function aS(o){var a=o.alternate;a!==null&&(o.alternate=null,aS(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[zi],delete a[Hc],delete a[hy],delete a[qk],delete a[Hk])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function lS(o){return o.tag===5||o.tag===3||o.tag===4}function uS(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||lS(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Yy(o,a,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(o,a):c.insertBefore(o,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(o,c)):(a=c,a.appendChild(o)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=kf));else if(p!==4&&(o=o.child,o!==null))for(Yy(o,a,c),o=o.sibling;o!==null;)Yy(o,a,c),o=o.sibling}function Xy(o,a,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?c.insertBefore(o,a):c.appendChild(o);else if(p!==4&&(o=o.child,o!==null))for(Xy(o,a,c),o=o.sibling;o!==null;)Xy(o,a,c),o=o.sibling}var zn=null,bi=!1;function So(o,a,c){for(c=c.child;c!==null;)cS(o,a,c),c=c.sibling}function cS(o,a,c){if(Mr&&typeof Mr.onCommitFiberUnmount=="function")try{Mr.onCommitFiberUnmount(ma,c)}catch{}switch(c.tag){case 5:tr||iu(c,a);case 6:var p=zn,y=bi;zn=null,So(o,a,c),zn=p,bi=y,zn!==null&&(bi?(o=zn,c=c.stateNode,o.nodeType===8?o.parentNode.removeChild(c):o.removeChild(c)):zn.removeChild(c.stateNode));break;case 18:zn!==null&&(bi?(o=zn,c=c.stateNode,o.nodeType===8?dy(o.parentNode,c):o.nodeType===1&&dy(o,c),wi(o)):dy(zn,c.stateNode));break;case 4:p=zn,y=bi,zn=c.stateNode.containerInfo,bi=!0,So(o,a,c),zn=p,bi=y;break;case 0:case 11:case 14:case 15:if(!tr&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var w=y,P=w.destroy;w=w.tag,P!==void 0&&(w&2||w&4)&&Qy(c,a,P),y=y.next}while(y!==p)}So(o,a,c);break;case 1:if(!tr&&(iu(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch($){tn(c,a,$)}So(o,a,c);break;case 21:So(o,a,c);break;case 22:c.mode&1?(tr=(p=tr)||c.memoizedState!==null,So(o,a,c),tr=p):So(o,a,c);break;default:So(o,a,c)}}function dS(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new lN),a.forEach(function(p){var y=vN.bind(null,o,p);c.has(p)||(c.add(p),p.then(y,y))})}}function Ri(o,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];try{var w=o,P=a,$=P;e:for(;$!==null;){switch($.tag){case 5:zn=$.stateNode,bi=!1;break e;case 3:zn=$.stateNode.containerInfo,bi=!0;break e;case 4:zn=$.stateNode.containerInfo,bi=!0;break e}$=$.return}if(zn===null)throw Error(t(160));cS(w,P,y),zn=null,bi=!1;var W=y.alternate;W!==null&&(W.return=null),y.return=null}catch(X){tn(y,a,X)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)hS(a,o),a=a.sibling}function hS(o,a){var c=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Ri(a,o),Hi(o),p&4){try{rd(3,o,o.return),ep(3,o)}catch(Le){tn(o,o.return,Le)}try{rd(5,o,o.return)}catch(Le){tn(o,o.return,Le)}}break;case 1:Ri(a,o),Hi(o),p&512&&c!==null&&iu(c,c.return);break;case 5:if(Ri(a,o),Hi(o),p&512&&c!==null&&iu(c,c.return),o.flags&32){var y=o.stateNode;try{Yn(y,"")}catch(Le){tn(o,o.return,Le)}}if(p&4&&(y=o.stateNode,y!=null)){var w=o.memoizedProps,P=c!==null?c.memoizedProps:w,$=o.type,W=o.updateQueue;if(o.updateQueue=null,W!==null)try{$==="input"&&w.type==="radio"&&w.name!=null&&Ke(y,w),Gt($,P);var X=Gt($,w);for(P=0;P<W.length;P+=2){var pe=W[P],ye=W[P+1];pe==="style"?so(y,ye):pe==="dangerouslySetInnerHTML"?Qr(y,ye):pe==="children"?Yn(y,ye):M(y,pe,ye,X)}switch($){case"input":rt(y,w);break;case"textarea":fn(y,w);break;case"select":var de=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var Pe=w.value;Pe!=null?Et(y,!!w.multiple,Pe,!1):de!==!!w.multiple&&(w.defaultValue!=null?Et(y,!!w.multiple,w.defaultValue,!0):Et(y,!!w.multiple,w.multiple?[]:"",!1))}y[Hc]=w}catch(Le){tn(o,o.return,Le)}}break;case 6:if(Ri(a,o),Hi(o),p&4){if(o.stateNode===null)throw Error(t(162));y=o.stateNode,w=o.memoizedProps;try{y.nodeValue=w}catch(Le){tn(o,o.return,Le)}}break;case 3:if(Ri(a,o),Hi(o),p&4&&c!==null&&c.memoizedState.isDehydrated)try{wi(a.containerInfo)}catch(Le){tn(o,o.return,Le)}break;case 4:Ri(a,o),Hi(o);break;case 13:Ri(a,o),Hi(o),y=o.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(tv=Pt())),p&4&&dS(o);break;case 22:if(pe=c!==null&&c.memoizedState!==null,o.mode&1?(tr=(X=tr)||pe,Ri(a,o),tr=X):Ri(a,o),Hi(o),p&8192){if(X=o.memoizedState!==null,(o.stateNode.isHidden=X)&&!pe&&o.mode&1)for(De=o,pe=o.child;pe!==null;){for(ye=De=pe;De!==null;){switch(de=De,Pe=de.child,de.tag){case 0:case 11:case 14:case 15:rd(4,de,de.return);break;case 1:iu(de,de.return);var Oe=de.stateNode;if(typeof Oe.componentWillUnmount=="function"){p=de,c=de.return;try{a=p,Oe.props=a.memoizedProps,Oe.state=a.memoizedState,Oe.componentWillUnmount()}catch(Le){tn(p,c,Le)}}break;case 5:iu(de,de.return);break;case 22:if(de.memoizedState!==null){mS(ye);continue}}Pe!==null?(Pe.return=de,De=Pe):mS(ye)}pe=pe.sibling}e:for(pe=null,ye=o;;){if(ye.tag===5){if(pe===null){pe=ye;try{y=ye.stateNode,X?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):($=ye.stateNode,W=ye.memoizedProps.style,P=W!=null&&W.hasOwnProperty("display")?W.display:null,$.style.display=hi("display",P))}catch(Le){tn(o,o.return,Le)}}}else if(ye.tag===6){if(pe===null)try{ye.stateNode.nodeValue=X?"":ye.memoizedProps}catch(Le){tn(o,o.return,Le)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===o)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===o)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===o)break e;pe===ye&&(pe=null),ye=ye.return}pe===ye&&(pe=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:Ri(a,o),Hi(o),p&4&&dS(o);break;case 21:break;default:Ri(a,o),Hi(o)}}function Hi(o){var a=o.flags;if(a&2){try{e:{for(var c=o.return;c!==null;){if(lS(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(Yn(y,""),p.flags&=-33);var w=uS(o);Xy(o,w,y);break;case 3:case 4:var P=p.stateNode.containerInfo,$=uS(o);Yy(o,$,P);break;default:throw Error(t(161))}}catch(W){tn(o,o.return,W)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function cN(o,a,c){De=o,fS(o)}function fS(o,a,c){for(var p=(o.mode&1)!==0;De!==null;){var y=De,w=y.child;if(y.tag===22&&p){var P=y.memoizedState!==null||Zf;if(!P){var $=y.alternate,W=$!==null&&$.memoizedState!==null||tr;$=Zf;var X=tr;if(Zf=P,(tr=W)&&!X)for(De=y;De!==null;)P=De,W=P.child,P.tag===22&&P.memoizedState!==null?gS(y):W!==null?(W.return=P,De=W):gS(y);for(;w!==null;)De=w,fS(w),w=w.sibling;De=y,Zf=$,tr=X}pS(o)}else y.subtreeFlags&8772&&w!==null?(w.return=y,De=w):pS(o)}}function pS(o){for(;De!==null;){var a=De;if(a.flags&8772){var c=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:tr||ep(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!tr)if(c===null)p.componentDidMount();else{var y=a.elementType===a.type?c.memoizedProps:Ti(a.type,c.memoizedProps);p.componentDidUpdate(y,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&mI(a,w,p);break;case 3:var P=a.updateQueue;if(P!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}mI(a,P,c)}break;case 5:var $=a.stateNode;if(c===null&&a.flags&4){c=$;var W=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&c.focus();break;case"img":W.src&&(c.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var X=a.alternate;if(X!==null){var pe=X.memoizedState;if(pe!==null){var ye=pe.dehydrated;ye!==null&&wi(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}tr||a.flags&512&&Jy(a)}catch(de){tn(a,a.return,de)}}if(a===o){De=null;break}if(c=a.sibling,c!==null){c.return=a.return,De=c;break}De=a.return}}function mS(o){for(;De!==null;){var a=De;if(a===o){De=null;break}var c=a.sibling;if(c!==null){c.return=a.return,De=c;break}De=a.return}}function gS(o){for(;De!==null;){var a=De;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{ep(4,a)}catch(W){tn(a,c,W)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var y=a.return;try{p.componentDidMount()}catch(W){tn(a,y,W)}}var w=a.return;try{Jy(a)}catch(W){tn(a,w,W)}break;case 5:var P=a.return;try{Jy(a)}catch(W){tn(a,P,W)}}}catch(W){tn(a,a.return,W)}if(a===o){De=null;break}var $=a.sibling;if($!==null){$.return=a.return,De=$;break}De=a.return}}var dN=Math.ceil,tp=j.ReactCurrentDispatcher,Zy=j.ReactCurrentOwner,ii=j.ReactCurrentBatchConfig,ht=0,Mn=null,In=null,Wn=0,Br=0,su=vo(0),Pn=0,id=null,Aa=0,np=0,ev=0,sd=null,br=null,tv=0,ou=1/0,Ns=null,rp=!1,nv=null,To=null,ip=!1,bo=null,sp=0,od=0,rv=null,op=-1,ap=0;function hr(){return ht&6?Pt():op!==-1?op:op=Pt()}function Ro(o){return o.mode&1?ht&2&&Wn!==0?Wn&-Wn:Kk.transition!==null?(ap===0&&(ap=ya()),ap):(o=lt,o!==0||(o=window.event,o=o===void 0?16:Oc(o.type)),o):1}function Ci(o,a,c,p){if(50<od)throw od=0,rv=null,Error(t(185));uo(o,c,p),(!(ht&2)||o!==Mn)&&(o===Mn&&(!(ht&2)&&(np|=c),Pn===4&&Co(o,Wn)),Rr(o,p),c===1&&ht===0&&!(a.mode&1)&&(ou=Pt()+500,Mf&&wo()))}function Rr(o,a){var c=o.callbackNode;ws(o,a);var p=ga(o,o===Mn?Wn:0);if(p===0)c!==null&&Ac(c),o.callbackNode=null,o.callbackPriority=0;else if(a=p&-p,o.callbackPriority!==a){if(c!=null&&Ac(c),a===1)o.tag===0?Gk(vS.bind(null,o)):rI(vS.bind(null,o)),zk(function(){!(ht&6)&&wo()}),c=null;else{switch(ho(p)){case 1:c=pa;break;case 4:c=oo;break;case 16:c=Yr;break;case 536870912:c=af;break;default:c=Yr}c=RS(c,yS.bind(null,o))}o.callbackPriority=a,o.callbackNode=c}}function yS(o,a){if(op=-1,ap=0,ht&6)throw Error(t(327));var c=o.callbackNode;if(au()&&o.callbackNode!==c)return null;var p=ga(o,o===Mn?Wn:0);if(p===0)return null;if(p&30||p&o.expiredLanes||a)a=lp(o,p);else{a=p;var y=ht;ht|=2;var w=wS();(Mn!==o||Wn!==a)&&(Ns=null,ou=Pt()+500,ka(o,a));do try{pN();break}catch($){_S(o,$)}while(!0);Ey(),tp.current=w,ht=y,In!==null?a=0:(Mn=null,Wn=0,a=Pn)}if(a!==0){if(a===2&&(y=Lr(o),y!==0&&(p=y,a=iv(o,y))),a===1)throw c=id,ka(o,0),Co(o,p),Rr(o,Pt()),c;if(a===6)Co(o,p);else{if(y=o.current.alternate,!(p&30)&&!hN(y)&&(a=lp(o,p),a===2&&(w=Lr(o),w!==0&&(p=w,a=iv(o,w))),a===1))throw c=id,ka(o,0),Co(o,p),Rr(o,Pt()),c;switch(o.finishedWork=y,o.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:Na(o,br,Ns);break;case 3:if(Co(o,p),(p&130023424)===p&&(a=tv+500-Pt(),10<a)){if(ga(o,0)!==0)break;if(y=o.suspendedLanes,(y&p)!==p){hr(),o.pingedLanes|=o.suspendedLanes&y;break}o.timeoutHandle=cy(Na.bind(null,o,br,Ns),a);break}Na(o,br,Ns);break;case 4:if(Co(o,p),(p&4194240)===p)break;for(a=o.eventTimes,y=-1;0<p;){var P=31-ur(p);w=1<<P,P=a[P],P>y&&(y=P),p&=~w}if(p=y,p=Pt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*dN(p/1960))-p,10<p){o.timeoutHandle=cy(Na.bind(null,o,br,Ns),p);break}Na(o,br,Ns);break;case 5:Na(o,br,Ns);break;default:throw Error(t(329))}}}return Rr(o,Pt()),o.callbackNode===c?yS.bind(null,o):null}function iv(o,a){var c=sd;return o.current.memoizedState.isDehydrated&&(ka(o,a).flags|=256),o=lp(o,a),o!==2&&(a=br,br=c,a!==null&&sv(a)),o}function sv(o){br===null?br=o:br.push.apply(br,o)}function hN(o){for(var a=o;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var y=c[p],w=y.getSnapshot;y=y.value;try{if(!Ii(w(),y))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Co(o,a){for(a&=~ev,a&=~np,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var c=31-ur(a),p=1<<c;o[c]=-1,a&=~p}}function vS(o){if(ht&6)throw Error(t(327));au();var a=ga(o,0);if(!(a&1))return Rr(o,Pt()),null;var c=lp(o,a);if(o.tag!==0&&c===2){var p=Lr(o);p!==0&&(a=p,c=iv(o,p))}if(c===1)throw c=id,ka(o,0),Co(o,a),Rr(o,Pt()),c;if(c===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,Na(o,br,Ns),Rr(o,Pt()),null}function ov(o,a){var c=ht;ht|=1;try{return o(a)}finally{ht=c,ht===0&&(ou=Pt()+500,Mf&&wo())}}function Pa(o){bo!==null&&bo.tag===0&&!(ht&6)&&au();var a=ht;ht|=1;var c=ii.transition,p=lt;try{if(ii.transition=null,lt=1,o)return o()}finally{lt=p,ii.transition=c,ht=a,!(ht&6)&&wo()}}function av(){Br=su.current,Lt(su)}function ka(o,a){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,$k(c)),In!==null)for(c=In.return;c!==null;){var p=c;switch(gy(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Df();break;case 3:nu(),Lt(Ir),Lt(Xn),Ay();break;case 5:Cy(p);break;case 4:nu();break;case 13:Lt(Kt);break;case 19:Lt(Kt);break;case 10:Iy(p.type._context);break;case 22:case 23:av()}c=c.return}if(Mn=o,In=o=xo(o.current,null),Wn=Br=a,Pn=0,id=null,ev=np=Aa=0,br=sd=null,Ra!==null){for(a=0;a<Ra.length;a++)if(c=Ra[a],p=c.interleaved,p!==null){c.interleaved=null;var y=p.next,w=c.pending;if(w!==null){var P=w.next;w.next=y,p.next=P}c.pending=p}Ra=null}return o}function _S(o,a){do{var c=In;try{if(Ey(),qf.current=Qf,Hf){for(var p=Qt.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}Hf=!1}if(xa=0,On=An=Qt=null,Xc=!1,Zc=0,Zy.current=null,c===null||c.return===null){Pn=1,id=a,In=null;break}e:{var w=o,P=c.return,$=c,W=a;if(a=Wn,$.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var X=W,pe=$,ye=pe.tag;if(!(pe.mode&1)&&(ye===0||ye===11||ye===15)){var de=pe.alternate;de?(pe.updateQueue=de.updateQueue,pe.memoizedState=de.memoizedState,pe.lanes=de.lanes):(pe.updateQueue=null,pe.memoizedState=null)}var Pe=WI(P);if(Pe!==null){Pe.flags&=-257,qI(Pe,P,$,w,a),Pe.mode&1&&zI(w,X,a),a=Pe,W=X;var Oe=a.updateQueue;if(Oe===null){var Le=new Set;Le.add(W),a.updateQueue=Le}else Oe.add(W);break e}else{if(!(a&1)){zI(w,X,a),lv();break e}W=Error(t(426))}}else if(jt&&$.mode&1){var mn=WI(P);if(mn!==null){!(mn.flags&65536)&&(mn.flags|=256),qI(mn,P,$,w,a),_y(ru(W,$));break e}}w=W=ru(W,$),Pn!==4&&(Pn=2),sd===null?sd=[w]:sd.push(w),w=P;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var J=BI(w,W,a);pI(w,J);break e;case 1:$=W;var H=w.type,Y=w.stateNode;if(!(w.flags&128)&&(typeof H.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(To===null||!To.has(Y)))){w.flags|=65536,a&=-a,w.lanes|=a;var Ie=$I(w,$,a);pI(w,Ie);break e}}w=w.return}while(w!==null)}IS(c)}catch(je){a=je,In===c&&c!==null&&(In=c=c.return);continue}break}while(!0)}function wS(){var o=tp.current;return tp.current=Qf,o===null?Qf:o}function lv(){(Pn===0||Pn===3||Pn===2)&&(Pn=4),Mn===null||!(Aa&268435455)&&!(np&268435455)||Co(Mn,Wn)}function lp(o,a){var c=ht;ht|=2;var p=wS();(Mn!==o||Wn!==a)&&(Ns=null,ka(o,a));do try{fN();break}catch(y){_S(o,y)}while(!0);if(Ey(),ht=c,tp.current=p,In!==null)throw Error(t(261));return Mn=null,Wn=0,Pn}function fN(){for(;In!==null;)ES(In)}function pN(){for(;In!==null&&!sf();)ES(In)}function ES(o){var a=bS(o.alternate,o,Br);o.memoizedProps=o.pendingProps,a===null?IS(o):In=a,Zy.current=null}function IS(o){var a=o;do{var c=a.alternate;if(o=a.return,a.flags&32768){if(c=aN(c,a),c!==null){c.flags&=32767,In=c;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Pn=6,In=null;return}}else if(c=oN(c,a,Br),c!==null){In=c;return}if(a=a.sibling,a!==null){In=a;return}In=a=o}while(a!==null);Pn===0&&(Pn=5)}function Na(o,a,c){var p=lt,y=ii.transition;try{ii.transition=null,lt=1,mN(o,a,c,p)}finally{ii.transition=y,lt=p}return null}function mN(o,a,c,p){do au();while(bo!==null);if(ht&6)throw Error(t(327));c=o.finishedWork;var y=o.finishedLanes;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var w=c.lanes|c.childLanes;if(Ct(o,w),o===Mn&&(In=Mn=null,Wn=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||ip||(ip=!0,RS(Yr,function(){return au(),null})),w=(c.flags&15990)!==0,c.subtreeFlags&15990||w){w=ii.transition,ii.transition=null;var P=lt;lt=1;var $=ht;ht|=4,Zy.current=null,uN(o,c),hS(c,o),Mk(ly),po=!!ay,ly=ay=null,o.current=c,cN(c),qg(),ht=$,lt=P,ii.transition=w}else o.current=c;if(ip&&(ip=!1,bo=o,sp=y),w=o.pendingLanes,w===0&&(To=null),lf(c.stateNode),Rr(o,Pt()),a!==null)for(p=o.onRecoverableError,c=0;c<a.length;c++)y=a[c],p(y.value,{componentStack:y.stack,digest:y.digest});if(rp)throw rp=!1,o=nv,nv=null,o;return sp&1&&o.tag!==0&&au(),w=o.pendingLanes,w&1?o===rv?od++:(od=0,rv=o):od=0,wo(),null}function au(){if(bo!==null){var o=ho(sp),a=ii.transition,c=lt;try{if(ii.transition=null,lt=16>o?16:o,bo===null)var p=!1;else{if(o=bo,bo=null,sp=0,ht&6)throw Error(t(331));var y=ht;for(ht|=4,De=o.current;De!==null;){var w=De,P=w.child;if(De.flags&16){var $=w.deletions;if($!==null){for(var W=0;W<$.length;W++){var X=$[W];for(De=X;De!==null;){var pe=De;switch(pe.tag){case 0:case 11:case 15:rd(8,pe,w)}var ye=pe.child;if(ye!==null)ye.return=pe,De=ye;else for(;De!==null;){pe=De;var de=pe.sibling,Pe=pe.return;if(aS(pe),pe===X){De=null;break}if(de!==null){de.return=Pe,De=de;break}De=Pe}}}var Oe=w.alternate;if(Oe!==null){var Le=Oe.child;if(Le!==null){Oe.child=null;do{var mn=Le.sibling;Le.sibling=null,Le=mn}while(Le!==null)}}De=w}}if(w.subtreeFlags&2064&&P!==null)P.return=w,De=P;else e:for(;De!==null;){if(w=De,w.flags&2048)switch(w.tag){case 0:case 11:case 15:rd(9,w,w.return)}var J=w.sibling;if(J!==null){J.return=w.return,De=J;break e}De=w.return}}var H=o.current;for(De=H;De!==null;){P=De;var Y=P.child;if(P.subtreeFlags&2064&&Y!==null)Y.return=P,De=Y;else e:for(P=H;De!==null;){if($=De,$.flags&2048)try{switch($.tag){case 0:case 11:case 15:ep(9,$)}}catch(je){tn($,$.return,je)}if($===P){De=null;break e}var Ie=$.sibling;if(Ie!==null){Ie.return=$.return,De=Ie;break e}De=$.return}}if(ht=y,wo(),Mr&&typeof Mr.onPostCommitFiberRoot=="function")try{Mr.onPostCommitFiberRoot(ma,o)}catch{}p=!0}return p}finally{lt=c,ii.transition=a}}return!1}function SS(o,a,c){a=ru(c,a),a=BI(o,a,1),o=Io(o,a,1),a=hr(),o!==null&&(uo(o,1,a),Rr(o,a))}function tn(o,a,c){if(o.tag===3)SS(o,o,c);else for(;a!==null;){if(a.tag===3){SS(a,o,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(To===null||!To.has(p))){o=ru(c,o),o=$I(a,o,1),a=Io(a,o,1),o=hr(),a!==null&&(uo(a,1,o),Rr(a,o));break}}a=a.return}}function gN(o,a,c){var p=o.pingCache;p!==null&&p.delete(a),a=hr(),o.pingedLanes|=o.suspendedLanes&c,Mn===o&&(Wn&c)===c&&(Pn===4||Pn===3&&(Wn&130023424)===Wn&&500>Pt()-tv?ka(o,0):ev|=c),Rr(o,a)}function TS(o,a){a===0&&(o.mode&1?(a=Pl,Pl<<=1,!(Pl&130023424)&&(Pl=4194304)):a=1);var c=hr();o=As(o,a),o!==null&&(uo(o,a,c),Rr(o,c))}function yN(o){var a=o.memoizedState,c=0;a!==null&&(c=a.retryLane),TS(o,c)}function vN(o,a){var c=0;switch(o.tag){case 13:var p=o.stateNode,y=o.memoizedState;y!==null&&(c=y.retryLane);break;case 19:p=o.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),TS(o,c)}var bS;bS=function(o,a,c){if(o!==null)if(o.memoizedProps!==a.pendingProps||Ir.current)Tr=!0;else{if(!(o.lanes&c)&&!(a.flags&128))return Tr=!1,sN(o,a,c);Tr=!!(o.flags&131072)}else Tr=!1,jt&&a.flags&1048576&&iI(a,Vf,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Xf(o,a),o=a.pendingProps;var y=Ql(a,Xn.current);tu(a,c),y=Ny(null,a,p,o,y,c);var w=Dy();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Sr(p)?(w=!0,Of(a)):w=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,by(a),y.updater=Jf,a.stateNode=y,y._reactInternals=a,jy(a,p,o,c),a=zy(null,a,p,!0,w,c)):(a.tag=0,jt&&w&&my(a),dr(null,a,y,c),a=a.child),a;case 16:p=a.elementType;e:{switch(Xf(o,a),o=a.pendingProps,y=p._init,p=y(p._payload),a.type=p,y=a.tag=wN(p),o=Ti(p,o),y){case 0:a=$y(null,a,p,o,c);break e;case 1:a=YI(null,a,p,o,c);break e;case 11:a=HI(null,a,p,o,c);break e;case 14:a=GI(null,a,p,Ti(p.type,o),c);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:Ti(p,y),$y(o,a,p,y,c);case 1:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:Ti(p,y),YI(o,a,p,y,c);case 3:e:{if(XI(a),o===null)throw Error(t(387));p=a.pendingProps,w=a.memoizedState,y=w.element,fI(o,a),zf(a,p,null,c);var P=a.memoizedState;if(p=P.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){y=ru(Error(t(423)),a),a=ZI(o,a,p,c,y);break e}else if(p!==y){y=ru(Error(t(424)),a),a=ZI(o,a,p,c,y);break e}else for(Ur=yo(a.stateNode.containerInfo.firstChild),jr=a,jt=!0,Si=null,c=dI(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Xl(),p===y){a=ks(o,a,c);break e}dr(o,a,p,c)}a=a.child}return a;case 5:return gI(a),o===null&&vy(a),p=a.type,y=a.pendingProps,w=o!==null?o.memoizedProps:null,P=y.children,uy(p,y)?P=null:w!==null&&uy(p,w)&&(a.flags|=32),JI(o,a),dr(o,a,P,c),a.child;case 6:return o===null&&vy(a),null;case 13:return eS(o,a,c);case 4:return Ry(a,a.stateNode.containerInfo),p=a.pendingProps,o===null?a.child=Zl(a,null,p,c):dr(o,a,p,c),a.child;case 11:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:Ti(p,y),HI(o,a,p,y,c);case 7:return dr(o,a,a.pendingProps,c),a.child;case 8:return dr(o,a,a.pendingProps.children,c),a.child;case 12:return dr(o,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,y=a.pendingProps,w=a.memoizedProps,P=y.value,kt(Uf,p._currentValue),p._currentValue=P,w!==null)if(Ii(w.value,P)){if(w.children===y.children&&!Ir.current){a=ks(o,a,c);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var $=w.dependencies;if($!==null){P=w.child;for(var W=$.firstContext;W!==null;){if(W.context===p){if(w.tag===1){W=Ps(-1,c&-c),W.tag=2;var X=w.updateQueue;if(X!==null){X=X.shared;var pe=X.pending;pe===null?W.next=W:(W.next=pe.next,pe.next=W),X.pending=W}}w.lanes|=c,W=w.alternate,W!==null&&(W.lanes|=c),Sy(w.return,c,a),$.lanes|=c;break}W=W.next}}else if(w.tag===10)P=w.type===a.type?null:w.child;else if(w.tag===18){if(P=w.return,P===null)throw Error(t(341));P.lanes|=c,$=P.alternate,$!==null&&($.lanes|=c),Sy(P,c,a),P=w.sibling}else P=w.child;if(P!==null)P.return=w;else for(P=w;P!==null;){if(P===a){P=null;break}if(w=P.sibling,w!==null){w.return=P.return,P=w;break}P=P.return}w=P}dr(o,a,y.children,c),a=a.child}return a;case 9:return y=a.type,p=a.pendingProps.children,tu(a,c),y=ni(y),p=p(y),a.flags|=1,dr(o,a,p,c),a.child;case 14:return p=a.type,y=Ti(p,a.pendingProps),y=Ti(p.type,y),GI(o,a,p,y,c);case 15:return KI(o,a,a.type,a.pendingProps,c);case 17:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:Ti(p,y),Xf(o,a),a.tag=1,Sr(p)?(o=!0,Of(a)):o=!1,tu(a,c),jI(a,p,y),jy(a,p,y,c),zy(null,a,p,!0,o,c);case 19:return nS(o,a,c);case 22:return QI(o,a,c)}throw Error(t(156,a.tag))};function RS(o,a){return xl(o,a)}function _N(o,a,c,p){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(o,a,c,p){return new _N(o,a,c,p)}function uv(o){return o=o.prototype,!(!o||!o.isReactComponent)}function wN(o){if(typeof o=="function")return uv(o)?1:0;if(o!=null){if(o=o.$$typeof,o===B)return 11;if(o===le)return 14}return 2}function xo(o,a){var c=o.alternate;return c===null?(c=si(o.tag,a,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=a,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&14680064,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,a=o.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function up(o,a,c,p,y,w){var P=2;if(p=o,typeof o=="function")uv(o)&&(P=1);else if(typeof o=="string")P=5;else e:switch(o){case O:return Da(c.children,y,w,a);case k:P=8,y|=8;break;case L:return o=si(12,c,a,y|2),o.elementType=L,o.lanes=w,o;case F:return o=si(13,c,a,y),o.elementType=F,o.lanes=w,o;case ae:return o=si(19,c,a,y),o.elementType=ae,o.lanes=w,o;case Ee:return cp(c,y,w,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case E:P=10;break e;case N:P=9;break e;case B:P=11;break e;case le:P=14;break e;case fe:P=16,p=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return a=si(P,c,a,y),a.elementType=o,a.type=p,a.lanes=w,a}function Da(o,a,c,p){return o=si(7,o,p,a),o.lanes=c,o}function cp(o,a,c,p){return o=si(22,o,p,a),o.elementType=Ee,o.lanes=c,o.stateNode={isHidden:!1},o}function cv(o,a,c){return o=si(6,o,null,a),o.lanes=c,o}function dv(o,a,c){return a=si(4,o.children!==null?o.children:[],o.key,a),a.lanes=c,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function EN(o,a,c,p,y){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lo(0),this.expirationTimes=lo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lo(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function hv(o,a,c,p,y,w,P,$,W){return o=new EN(o,a,c,$,W),a===1?(a=1,w===!0&&(a|=8)):a=0,w=si(3,null,null,a),o.current=w,w.stateNode=o,w.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},by(w),o}function IN(o,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:p==null?null:""+p,children:o,containerInfo:a,implementation:c}}function CS(o){if(!o)return _o;o=o._reactInternals;e:{if(mi(o)!==o||o.tag!==1)throw Error(t(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Sr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(o.tag===1){var c=o.type;if(Sr(c))return tI(o,c,a)}return a}function xS(o,a,c,p,y,w,P,$,W){return o=hv(c,p,!0,o,y,w,P,$,W),o.context=CS(null),c=o.current,p=hr(),y=Ro(c),w=Ps(p,y),w.callback=a??null,Io(c,w,y),o.current.lanes=y,uo(o,y,p),Rr(o,p),o}function dp(o,a,c,p){var y=a.current,w=hr(),P=Ro(y);return c=CS(c),a.context===null?a.context=c:a.pendingContext=c,a=Ps(w,P),a.payload={element:o},p=p===void 0?null:p,p!==null&&(a.callback=p),o=Io(y,a,P),o!==null&&(Ci(o,y,P,w),$f(o,y,P)),P}function hp(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function AS(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<a?c:a}}function fv(o,a){AS(o,a),(o=o.alternate)&&AS(o,a)}var PS=typeof reportError=="function"?reportError:function(o){console.error(o)};function pv(o){this._internalRoot=o}fp.prototype.render=pv.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(t(409));dp(o,a,null,null)},fp.prototype.unmount=pv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;Pa(function(){dp(null,o,null,null)}),a[bs]=null}};function fp(o){this._internalRoot=o}fp.prototype.unstable_scheduleHydration=function(o){if(o){var a=ff();o={blockedOn:null,target:o,priority:a};for(var c=0;c<ji.length&&a!==0&&a<ji[c].priority;c++);ji.splice(c,0,o),c===0&&gf(o)}};function mv(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function pp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function kS(){}function SN(o,a,c,p,y){if(y){if(typeof p=="function"){var w=p;p=function(){var X=hp(P);w.call(X)}}var P=xS(a,p,o,0,null,!1,!1,"",kS);return o._reactRootContainer=P,o[bs]=P.current,Wc(o.nodeType===8?o.parentNode:o),Pa(),P}for(;y=o.lastChild;)o.removeChild(y);if(typeof p=="function"){var $=p;p=function(){var X=hp(W);$.call(X)}}var W=hv(o,0,!1,null,null,!1,!1,"",kS);return o._reactRootContainer=W,o[bs]=W.current,Wc(o.nodeType===8?o.parentNode:o),Pa(function(){dp(a,W,c,p)}),W}function mp(o,a,c,p,y){var w=c._reactRootContainer;if(w){var P=w;if(typeof y=="function"){var $=y;y=function(){var W=hp(P);$.call(W)}}dp(a,P,o,y)}else P=SN(c,a,o,y,p);return hp(P)}df=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var c=ao(a.pendingLanes);c!==0&&(co(a,c|1),Rr(a,Pt()),!(ht&6)&&(ou=Pt()+500,wo()))}break;case 13:Pa(function(){var p=As(o,1);if(p!==null){var y=hr();Ci(p,o,1,y)}}),fv(o,1)}},kl=function(o){if(o.tag===13){var a=As(o,134217728);if(a!==null){var c=hr();Ci(a,o,134217728,c)}fv(o,134217728)}},hf=function(o){if(o.tag===13){var a=Ro(o),c=As(o,a);if(c!==null){var p=hr();Ci(c,o,a,p)}fv(o,a)}},ff=function(){return lt},pf=function(o,a){var c=lt;try{return lt=o,a()}finally{lt=c}},Il=function(o,a,c){switch(a){case"input":if(rt(o,c),a=c.name,c.type==="radio"&&a!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==o&&p.form===o.form){var y=Nf(p);if(!y)throw Error(t(90));re(p),rt(p,y)}}}break;case"textarea":fn(o,c);break;case"select":a=c.value,a!=null&&Et(o,!!c.multiple,a,!1)}},ca=ov,bc=Pa;var TN={usingClientEntryPoint:!1,Events:[Gc,Gl,Nf,Vi,Tc,ov]},ad={findFiberByHostInstance:Ia,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bN={bundleType:ad.bundleType,version:ad.version,rendererPackageName:ad.rendererPackageName,rendererConfig:ad.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=xc(o),o===null?null:o.stateNode},findFiberByHostInstance:ad.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gp.isDisabled&&gp.supportsFiber)try{ma=gp.inject(bN),Mr=gp}catch{}}return Cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TN,Cr.createPortal=function(o,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mv(a))throw Error(t(200));return IN(o,a,null,c)},Cr.createRoot=function(o,a){if(!mv(o))throw Error(t(299));var c=!1,p="",y=PS;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=hv(o,1,!1,null,null,c,!1,p,y),o[bs]=a.current,Wc(o.nodeType===8?o.parentNode:o),new pv(a)},Cr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=xc(a),o=o===null?null:o.stateNode,o},Cr.flushSync=function(o){return Pa(o)},Cr.hydrate=function(o,a,c){if(!pp(a))throw Error(t(200));return mp(null,o,a,!0,c)},Cr.hydrateRoot=function(o,a,c){if(!mv(o))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,y=!1,w="",P=PS;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),a=xS(a,null,o,1,c??null,y,!1,w,P),o[bs]=a.current,Wc(o),p)for(o=0;o<p.length;o++)c=p[o],y=c._getVersion,y=y(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,y]:a.mutableSourceEagerHydrationData.push(c,y);return new fp(a)},Cr.render=function(o,a,c){if(!pp(a))throw Error(t(200));return mp(null,o,a,!1,c)},Cr.unmountComponentAtNode=function(o){if(!pp(o))throw Error(t(40));return o._reactRootContainer?(Pa(function(){mp(null,null,o,!1,function(){o._reactRootContainer=null,o[bs]=null})}),!0):!1},Cr.unstable_batchedUpdates=ov,Cr.unstable_renderSubtreeIntoContainer=function(o,a,c,p){if(!pp(c))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return mp(o,a,c,!1,p)},Cr.version="18.3.1-next-f1338f8080-20240426",Cr}var qS;function oR(){if(qS)return wv.exports;qS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),wv.exports=iO(),wv.exports}var aR=oR();const vp=a0(aR);var HS={ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\Pride\\AppData\\Roaming",COLOR:"1",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"DESKTOP-8KQTFT9",ComSpec:"C:\\Windows\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\Windows\\notepad.exe",HOME:"C:\\Users\\Pride",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\Pride",INIT_CWD:"C:\\Users\\Pride\\Documents\\Cinematd\\movieapp",LOCALAPPDATA:"C:\\Users\\Pride\\AppData\\Local",LOGONSERVER:"\\\\DESKTOP-8KQTFT9",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_EXE:"C:\\Program Files\\nodejs\\\\node.exe",NPM_CLI_JS:"C:\\Users\\Pride\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",npm_command:"run-script",npm_config_cache:"C:\\Users\\Pride\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\Pride\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\Pride\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\Pride\\.npm-init.js",npm_config_local_prefix:"C:\\Users\\Pride\\Documents\\Cinematd\\movieapp",npm_config_node_gyp:"C:\\Users\\Pride\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.9.0",npm_config_prefix:"C:\\Users\\Pride\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\Pride\\.npmrc",npm_config_user_agent:"npm/10.9.0 node/v20.8.0 win32 x64 workspaces/false",npm_execpath:"C:\\Users\\Pride\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\Users\\Pride\\Documents\\Cinematd\\movieapp\\package.json",npm_package_name:"movieapp",npm_package_version:"0.0.0",NPM_PREFIX_NPM_CLI_JS:"C:\\Users\\Pride\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",NUMBER_OF_PROCESSORS:"20",OneDrive:"C:\\Users\\Pride\\OneDrive",OS:"Windows_NT",Path:"C:\\Users\\Pride\\Documents\\Cinematd\\movieapp\\node_modules\\.bin;C:\\Users\\Pride\\Documents\\Cinematd\\node_modules\\.bin;C:\\Users\\Pride\\Documents\\node_modules\\.bin;C:\\Users\\Pride\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\Pride\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\Pride\\Documents\\Cinematd\\movieapp\\node_modules\\.bin;C:\\Users\\Pride\\Documents\\Cinematd\\node_modules\\.bin;C:\\Users\\Pride\\Documents\\node_modules\\.bin;C:\\Users\\Pride\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\Pride\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Program Files\\Java\\jdk-22.0.1\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\nodejs\\;C:\\Program Files (x86)\\Windows Kits\\10\\Windows Performance Toolkit\\;C:\\Program Files\\dotnet\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\Docker\\Docker\\resources\\bin;C:\\Program Files\\NVIDIA Corporation\\NVIDIA app\\NvDLISR;C:\\Program Files\\Geneious Prime;C:\\Program Files\\NCBI\\blast-2.15.0+\\bin;C:\\Users\\Pride\\.cargo\\bin;C:\\Users\\Pride\\AppData\\Local\\Programs\\Python\\Python311\\Scripts\\;C:\\Users\\Pride\\AppData\\Local\\Programs\\Python\\Python311\\;C:\\Users\\Pride\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\Pride\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\Pride\\AppData\\Roaming\\npm;C:\\Users\\Pride\\.dotnet\\tools;C:\\Users\\Pride\\Desktop\\sqlite;C:\\msys64\\ucrt64\\bin;C:\\Program Files\\Gradle\\bin;C:\\Program Files\\Maven\\bin;",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 151 Stepping 2, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"9702",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\Pride\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\Windows",TEMP:"C:\\Users\\Pride\\AppData\\Local\\Temp",TMP:"C:\\Users\\Pride\\AppData\\Local\\Temp",USERDOMAIN:"DESKTOP-8KQTFT9",USERDOMAIN_ROAMINGPROFILE:"DESKTOP-8KQTFT9",USERNAME:"Pride",USERPROFILE:"C:\\Users\\Pride",windir:"C:\\Windows",WSLENV:"WT_SESSION:WT_PROFILE_ID:",WT_PROFILE_ID:"{61c54bbd-c2c6-5271-96e7-009a87ff44bf}",WT_SESSION:"8a8252f0-e3e6-4ac6-b074-34774b6401f5",ZES_ENABLE_SYSMAN:"1"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},sO=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],l=n[t++],u=n[t++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},uR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],l=i+1<n.length,u=l?n[i+1]:0,d=i+2<n.length,f=d?n[i+2]:0,m=s>>2,g=(s&3)<<4|u>>4;let v=(u&15)<<2|f>>6,I=f&63;d||(I=64,l||(v=64)),r.push(t[m],t[g],t[v],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(lR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):sO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const g=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||u==null||f==null||g==null)throw new oO;const v=s<<2|u>>4;if(r.push(v),f!==64){const I=u<<4&240|f>>2;if(r.push(I),g!==64){const b=f<<6&192|g;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class oO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aO=function(n){const e=lR(n);return uR.encodeByteArray(e,!0)},sm=function(n){return aO(n).replace(/\./g,"")},cR=function(n){try{return uR.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function om(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!lO(t)||(n[t]=om(n[t],e[t]));return n}function lO(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=()=>dR().__FIREBASE_DEFAULTS__,cO=()=>{if(typeof process>"u"||typeof HS>"u")return;const n=HS.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},dO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&cR(n[1]);return e&&JSON.parse(e)},Um=()=>{try{return uO()||cO()||dO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},hR=n=>{var e,t;return(t=(e=Um())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},fR=n=>{const e=hR(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},pR=()=>{var n;return(n=Um())===null||n===void 0?void 0:n.config},mR=n=>{var e;return(e=Um())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[sm(JSON.stringify(t)),sm(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function p0(){var n;const e=(n=Um())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pO(){return typeof window<"u"||yR()}function yR(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function mO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function m0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _R(){const n=Yt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function wR(){return!p0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nh(){try{return typeof indexedDB=="object"}catch{return!1}}function gO(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO="FirebaseError";class sr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=yO,Object.setPrototypeOf(this,sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ml.prototype.create)}}class ml{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?vO(s,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new sr(i,u,r)}}function vO(n,e){return n.replace(_O,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _O=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function wO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Lu(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],l=e[i];if(KS(s)&&KS(l)){if(!Lu(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function KS(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ru(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Pd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function ER(n,e){const t=new EO(n,e);return t.subscribe.bind(t)}class EO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");IO(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Sv),i.error===void 0&&(i.error=Sv),i.complete===void 0&&(i.complete=Sv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IO(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Sv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(n){return n&&n._delegate?n._delegate:n}class Ni{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new hO;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bO(e))try{this.getOrInitializeService({instanceIdentifier:La})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=La){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=La){return this.instances.has(e)}getOptions(e=La){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&e(l,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TO(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=La){return this.component?this.component.multipleInstances?e:La:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TO(n){return n===La?void 0:n}function bO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new SO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=[];var nt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(nt||(nt={}));const SR={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},RO=nt.INFO,CO={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},xO=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=CO[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bm{constructor(e){this.name=e,this._logLevel=RO,this._logHandler=xO,this._userLogHandler=null,g0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}function AO(n){g0.forEach(e=>{e.setLogLevel(n)})}function PO(n,e){for(const t of g0){let r=null;e&&e.level&&(r=SR[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,s,...l)=>{const u=l.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");s>=(r??i.logLevel)&&n({level:nt[s].toLowerCase(),message:u,args:l,type:i.name})}}}const kO=(n,e)=>e.some(t=>n instanceof t);let QS,JS;function NO(){return QS||(QS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DO(){return JS||(JS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TR=new WeakMap,a_=new WeakMap,bR=new WeakMap,Tv=new WeakMap,y0=new WeakMap;function OO(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",l)},s=()=>{t(Uo(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&TR.set(t,n)}).catch(()=>{}),y0.set(e,n),e}function MO(n){if(a_.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",l),n.removeEventListener("abort",l)},s=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",l),n.addEventListener("abort",l)});a_.set(n,e)}let l_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return a_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||bR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Uo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function LO(n){l_=n(l_)}function VO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(bv(this),e,...t);return bR.set(r,e.sort?e.sort():[e]),Uo(r)}:DO().includes(n)?function(...e){return n.apply(bv(this),e),Uo(TR.get(this))}:function(...e){return Uo(n.apply(bv(this),e))}}function FO(n){return typeof n=="function"?VO(n):(n instanceof IDBTransaction&&MO(n),kO(n,NO())?new Proxy(n,l_):n)}function Uo(n){if(n instanceof IDBRequest)return OO(n);if(Tv.has(n))return Tv.get(n);const e=FO(n);return e!==n&&(Tv.set(n,e),y0.set(e,n)),e}const bv=n=>y0.get(n);function jO(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(n,e),u=Uo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Uo(l.result),d.oldVersion,d.newVersion,Uo(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const UO=["get","getKey","getAll","getAllKeys","count"],BO=["put","add","delete","clear"],Rv=new Map;function YS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Rv.get(e))return Rv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=BO.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||UO.includes(t)))return;const s=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),i&&d.done]))[0]};return Rv.set(e,s),s}LO(n=>({...n,get:(e,t,r)=>YS(e,t)||n.get(e,t,r),has:(e,t)=>!!YS(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(zO(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function zO(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const am="@firebase/app",u_="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new Bm("@firebase/app"),WO="@firebase/app-compat",qO="@firebase/analytics-compat",HO="@firebase/analytics",GO="@firebase/app-check-compat",KO="@firebase/app-check",QO="@firebase/auth",JO="@firebase/auth-compat",YO="@firebase/database",XO="@firebase/data-connect",ZO="@firebase/database-compat",e2="@firebase/functions",t2="@firebase/functions-compat",n2="@firebase/installations",r2="@firebase/installations-compat",i2="@firebase/messaging",s2="@firebase/messaging-compat",o2="@firebase/performance",a2="@firebase/performance-compat",l2="@firebase/remote-config",u2="@firebase/remote-config-compat",c2="@firebase/storage",d2="@firebase/storage-compat",h2="@firebase/firestore",f2="@firebase/vertexai",p2="@firebase/firestore-compat",m2="firebase",g2="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="[DEFAULT]",y2={[am]:"fire-core",[WO]:"fire-core-compat",[HO]:"fire-analytics",[qO]:"fire-analytics-compat",[KO]:"fire-app-check",[GO]:"fire-app-check-compat",[QO]:"fire-auth",[JO]:"fire-auth-compat",[YO]:"fire-rtdb",[XO]:"fire-data-connect",[ZO]:"fire-rtdb-compat",[e2]:"fire-fn",[t2]:"fire-fn-compat",[n2]:"fire-iid",[r2]:"fire-iid-compat",[i2]:"fire-fcm",[s2]:"fire-fcm-compat",[o2]:"fire-perf",[a2]:"fire-perf-compat",[l2]:"fire-rc",[u2]:"fire-rc-compat",[c2]:"fire-gcs",[d2]:"fire-gcs-compat",[h2]:"fire-fst",[p2]:"fire-fst-compat",[f2]:"fire-vertex","fire-js":"fire-js",[m2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new Map,Vu=new Map,Fu=new Map;function rh(n,e){try{n.container.addComponent(e)}catch(t){Bs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function RR(n,e){n.container.addOrOverwriteComponent(e)}function $s(n){const e=n.name;if(Fu.has(e))return Bs.debug(`There were multiple attempts to register component ${e}.`),!1;Fu.set(e,n);for(const t of qo.values())rh(t,n);for(const t of Vu.values())rh(t,n);return!0}function ac(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function v2(n,e,t=Wo){ac(n,e).clearInstance(t)}function CR(n){return n.options!==void 0}function sn(n){return n.settings!==void 0}function _2(){Fu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ui=new ml("app","Firebase",w2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xR=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2 extends xR{constructor(e,t,r,i){const s=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,l={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,l,i);else{const u=e;super(u.options,l,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},t),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Nr(am,u_,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){v0(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ui.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=g2;function $m(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Wo,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ui.create("bad-app-name",{appName:String(i)});if(t||(t=pR()),!t)throw ui.create("no-options");const s=qo.get(i);if(s){if(Lu(t,s.options)&&Lu(r,s.config))return s;throw ui.create("duplicate-app",{appName:i})}const l=new IR(i);for(const d of Fu.values())l.addComponent(d);const u=new xR(t,r,l);return qo.set(i,u),u}function I2(n,e){if(pO()&&!yR())throw ui.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;CR(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=f=>[...f].reduce((m,g)=>Math.imul(31,m)+g.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw ui.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),l=Vu.get(s);if(l)return l.incRefCount(e.releaseOnDeref),l;const u=new IR(s);for(const f of Fu.values())u.addComponent(f);const d=new E2(t,e,s,u);return Vu.set(s,d),d}function zm(n=Wo){const e=qo.get(n);if(!e&&n===Wo&&pR())return $m();if(!e)throw ui.create("no-app",{appName:n});return e}function S2(){return Array.from(qo.values())}async function v0(n){let e=!1;const t=n.name;qo.has(t)?(e=!0,qo.delete(t)):Vu.has(t)&&n.decRefCount()<=0&&(Vu.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function Nr(n,e,t){var r;let i=(r=y2[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bs.warn(u.join(" "));return}$s(new Ni(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function AR(n,e){if(n!==null&&typeof n!="function")throw ui.create("invalid-log-argument");PO(n,e)}function PR(n){AO(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="firebase-heartbeat-database",b2=1,ih="firebase-heartbeat-store";let Cv=null;function kR(){return Cv||(Cv=jO(T2,b2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ih)}catch(t){console.warn(t)}}}}).catch(n=>{throw ui.create("idb-open",{originalErrorMessage:n.message})})),Cv}async function R2(n){try{const t=(await kR()).transaction(ih),r=await t.objectStore(ih).get(NR(n));return await t.done,r}catch(e){if(e instanceof sr)Bs.warn(e.message);else{const t=ui.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bs.warn(t.message)}}}async function XS(n,e){try{const r=(await kR()).transaction(ih,"readwrite");await r.objectStore(ih).put(e,NR(n)),await r.done}catch(t){if(t instanceof sr)Bs.warn(t.message);else{const r=ui.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Bs.warn(r.message)}}}function NR(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=1024,x2=30*24*60*60*1e3;class A2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new k2(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ZS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const u=new Date(l.date).valueOf();return Date.now()-u<=x2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Bs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ZS(),{heartbeatsToSend:r,unsentEntries:i}=P2(this._heartbeatsCache.heartbeats),s=sm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Bs.warn(t),""}}}function ZS(){return new Date().toISOString().substring(0,10)}function P2(n,e=C2){const t=[];let r=n.slice();for(const i of n){const s=t.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),eT(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),eT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class k2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nh()?gO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await R2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return XS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return XS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function eT(n){return sm(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(n){$s(new Ni("platform-logger",e=>new $O(e),"PRIVATE")),$s(new Ni("heartbeat",e=>new A2(e),"PRIVATE")),Nr(am,u_,n),Nr(am,u_,"esm2017"),Nr("fire-js","")}N2("");const D2=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:sr,SDK_VERSION:Ys,_DEFAULT_ENTRY_NAME:Wo,_addComponent:rh,_addOrOverwriteComponent:RR,_apps:qo,_clearComponents:_2,_components:Fu,_getProvider:ac,_isFirebaseApp:CR,_isFirebaseServerApp:sn,_registerComponent:$s,_removeServiceInstance:v2,_serverApps:Vu,deleteApp:v0,getApp:zm,getApps:S2,initializeApp:$m,initializeServerApp:I2,onLog:AR,registerVersion:Nr,setLogLevel:PR},Symbol.toStringTag,{value:"Module"}));function _0(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}const hd={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},lu={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function DR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const M2=O2,L2=DR,OR=new ml("auth","Firebase",DR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=new Bm("@firebase/auth");function V2(n,...e){lm.logLevel<=nt.WARN&&lm.warn(`Auth (${Ys}): ${n}`,...e)}function Bp(n,...e){lm.logLevel<=nt.ERROR&&lm.error(`Auth (${Ys}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(n,...e){throw E0(n,...e)}function kn(n,...e){return E0(n,...e)}function w0(n,e,t){const r=Object.assign(Object.assign({},L2()),{[e]:t});return new ml("auth","Firebase",r).create(e,{appName:n.name})}function jn(n){return w0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lc(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Un(n,"argument-error"),w0(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function E0(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return OR.create(n,...e)}function ve(n,e,...t){if(!n)throw E0(e,...t)}function ss(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Bp(e),new Error(e)}function Di(n,e){n||ss(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function I0(){return tT()==="http:"||tT()==="https:"}function tT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(I0()||vR()||"connection"in navigator)?navigator.onLine:!0}function j2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Di(t>e,"Short delay should be less than long delay!"),this.isMobile=fO()||m0()}get(){return F2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(n,e){Di(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=new xh(3e4,6e4);function ln(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function un(n,e,t,r,i={}){return LR(n,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=oc(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:d},s);return mO()||(f.referrerPolicy="no-referrer"),MR.fetch()(VR(n,n.config.apiHost,t,u),f)})}async function LR(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},U2),e);try{const i=new z2(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw kd(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw kd(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw kd(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw kd(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw w0(n,m,f);Un(n,m)}}catch(i){if(i instanceof sr)throw i;Un(n,"network-request-failed",{message:String(i)})}}async function Xs(n,e,t,r,i={}){const s=await un(n,e,t,r,i);return"mfaPendingCredential"in s&&Un(n,"multi-factor-auth-required",{_serverResponse:s}),s}function VR(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?S0(n.config,i):`${n.config.apiScheme}://${i}`}function $2(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class z2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(kn(this.auth,"network-request-failed")),B2.get())})}}function kd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=kn(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(n){return n!==void 0&&n.getResponse!==void 0}function rT(n){return n!==void 0&&n.enterprise!==void 0}class FR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return $2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W2(n){return(await un(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function jR(n,e){return un(n,"GET","/v2/recaptchaConfig",ln(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q2(n,e){return un(n,"POST","/v1/accounts:delete",e)}async function H2(n,e){return un(n,"POST","/v1/accounts:update",e)}async function UR(n,e){return un(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function G2(n,e=!1){const t=Ue(n),r=await t.getIdToken(e),i=Wm(r);ve(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:jd(xv(i.auth_time)),issuedAtTime:jd(xv(i.iat)),expirationTime:jd(xv(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function xv(n){return Number(n)*1e3}function Wm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Bp("JWT malformed, contained fewer than 3 sections"),null;try{const i=cR(t);return i?JSON.parse(i):(Bp("Failed to decode base64 JWT payload"),null)}catch(i){return Bp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function iT(n){const e=Wm(n);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zs(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof sr&&K2(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function K2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=jd(this.lastLoginAt),this.creationTime=jd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oh(n){var e;const t=n.auth,r=await n.getIdToken(),i=await zs(n,UR(t,{idToken:r}));ve(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?BR(s.providerUserInfo):[],u=Y2(n.providerData,l),d=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),m=d?f:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new c_(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function J2(n){const e=Ue(n);await oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Y2(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function BR(n){return n.map(e=>{var{providerId:t}=e,r=_0(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X2(n,e){const t=await LR(n,{},async()=>{const r=oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,l=VR(n,i,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",MR.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Z2(n,e){return un(n,"POST","/v2/accounts:revokeToken",ln(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const t=iT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await X2(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,l=new Cu;return r&&(ve(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(ve(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(ve(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cu,this.toJSON())}_performRefresh(){return ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(n,e){ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ms{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=_0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Q2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new c_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await zs(this,this.stsTokenManager.getToken(this.auth,e));return ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return G2(this,e)}reload(){return J2(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ms(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await oh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sn(this.auth.app))return Promise.reject(jn(this.auth));const e=await this.getIdToken();return await zs(this,q2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,l,u,d,f,m;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,I=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,b=(l=t.photoURL)!==null&&l!==void 0?l:void 0,C=(u=t.tenantId)!==null&&u!==void 0?u:void 0,x=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,D=(f=t.createdAt)!==null&&f!==void 0?f:void 0,U=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:M,emailVerified:j,isAnonymous:A,providerData:z,stsTokenManager:O}=t;ve(M&&O,e,"internal-error");const k=Cu.fromJSON(this.name,O);ve(typeof M=="string",e,"internal-error"),Po(g,e.name),Po(v,e.name),ve(typeof j=="boolean",e,"internal-error"),ve(typeof A=="boolean",e,"internal-error"),Po(I,e.name),Po(b,e.name),Po(C,e.name),Po(x,e.name),Po(D,e.name),Po(U,e.name);const L=new Ms({uid:M,auth:e,email:v,emailVerified:j,displayName:g,isAnonymous:A,photoURL:b,phoneNumber:I,tenantId:C,stsTokenManager:k,createdAt:D,lastLoginAt:U});return z&&Array.isArray(z)&&(L.providerData=z.map(E=>Object.assign({},E))),x&&(L._redirectEventId=x),L}static async _fromIdTokenResponse(e,t,r=!1){const i=new Cu;i.updateFromServerResponse(t);const s=new Ms({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await oh(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];ve(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?BR(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new Cu;u.updateFromIdToken(r);const d=new Ms({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new c_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=new Map;function Wr(n){Di(n instanceof Function,"Expected a class definition");let e=sT.get(n);return e?(Di(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,sT.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}$R.type="NONE";const ju=$R;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(n,e,t){return`firebase:${n}:${e}:${t}`}class xu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Qa(this.userKey,i.apiKey,s),this.fullPersistenceKey=Qa("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ms._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new xu(Wr(ju),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Wr(ju);const l=Qa(r,e.config.apiKey,e.name);let u=null;for(const f of t)try{const m=await f._get(l);if(m){const g=Ms._fromJSON(e,m);f!==s&&(u=g),s=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new xu(s,e,r):(s=d[0],u&&await s._set(l,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new xu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GR(e))return"Blackberry";if(KR(e))return"Webos";if(WR(e))return"Safari";if((e.includes("chrome/")||qR(e))&&!e.includes("edge/"))return"Chrome";if(Ah(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function zR(n=Yt()){return/firefox\//i.test(n)}function WR(n=Yt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qR(n=Yt()){return/crios\//i.test(n)}function HR(n=Yt()){return/iemobile/i.test(n)}function Ah(n=Yt()){return/android/i.test(n)}function GR(n=Yt()){return/blackberry/i.test(n)}function KR(n=Yt()){return/webos/i.test(n)}function Ph(n=Yt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function eM(n=Yt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function tM(n=Yt()){var e;return Ph(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nM(){return _R()&&document.documentMode===10}function QR(n=Yt()){return Ph(n)||Ah(n)||KR(n)||GR(n)||/windows phone/i.test(n)||HR(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(n,e=[]){let t;switch(n){case"Browser":t=oT(Yt());break;case"Worker":t=`${oT(Yt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ys}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((l,u)=>{try{const d=e(s);l(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iM(n,e={}){return un(n,"GET","/v2/passwordPolicy",ln(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=6;class oM{constructor(e){var t,r,i,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:sM,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsUppercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aT(this),this.idTokenSubscription=new aT(this),this.beforeStateQueue=new rM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Wr(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await xu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await UR(this,{idToken:e}),r=await Ms._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(sn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(i=d.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await oh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=j2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sn(this.app))return Promise.reject(jn(this));const t=e?Ue(e):null;return t&&ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sn(this.app)?Promise.reject(jn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sn(this.app)?Promise.reject(jn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iM(this),t=new oM(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ml("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Z2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Wr(e)||this._popupRedirectResolver;ve(t,this,"argument-error"),this.redirectPersistenceManager=await xu.create(this,[Wr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&V2(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Xt(n){return Ue(n)}class aT{constructor(e){this.auth=e,this.observer=null,this.addObserver=ER(t=>this.observer=t)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lM(n){kh=n}function T0(n){return kh.loadJS(n)}function uM(){return kh.recaptchaV2Script}function cM(){return kh.recaptchaEnterpriseScript}function dM(){return kh.gapiScript}function YR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=500,fM=6e4,_p=1e12;class pM{constructor(e){this.auth=e,this.counter=_p,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new yM(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||_p;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||_p;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||_p;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class mM{constructor(){this.enterprise=new gM}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class gM{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class yM{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;ve(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=vM(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},fM)},hM))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function vM(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const _M="recaptcha-enterprise",Ud="NO_RECAPTCHA";class XR{constructor(e){this.type=_M,this.auth=Xt(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,u)=>{jR(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new FR(d);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,l(f.siteKey)}}).catch(d=>{u(d)})})}function i(s,l,u){const d=window.grecaptcha;rT(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(f=>{l(f)}).catch(()=>{l(Ud)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mM().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(u=>{if(!t&&rT(window.grecaptcha))i(u,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=cM();d.length!==0&&(d+=u),T0(d).then(()=>{i(u,s,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function fd(n,e,t,r=!1,i=!1){const s=new XR(n);let l;if(i)l=Ud;else try{l=await s.verify(t)}catch{l=await s.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Bo(n,e,t,r,i){var s,l;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await fd(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await fd(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)});else if(i==="PHONE_PROVIDER")if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("PHONE_PROVIDER")){const u=await fd(n,e,t);return r(n,u).catch(async d=>{var f;if(((f=n._getRecaptchaConfig())===null||f===void 0?void 0:f.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const m=await fd(n,e,t,!1,!0);return r(n,m)}return Promise.reject(d)})}else{const u=await fd(n,e,t,!1,!0);return r(n,u)}else return Promise.reject(i+" provider is not supported.")}async function wM(n){const e=Xt(n),t=await jR(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new FR(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new XR(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(n,e){const t=ac(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(Lu(s,e??{}))return i;Un(i,"already-initialized")}return t.initialize({options:e})}function IM(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Wr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ZR(n,e,t){const r=Xt(n);ve(r._canInitEmulator,r,"emulator-config-failed"),ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),s=eC(e),{host:l,port:u}=SM(e),d=u===null?"":`:${u}`;r.config.emulator={url:`${s}//${l}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||TM()}function eC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function SM(n){const e=eC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:lT(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:lT(l)}}}function lT(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function TM(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ss("not implemented")}_getIdTokenResponse(e){return ss("not implemented")}_linkToIdToken(e,t){return ss("not implemented")}_getReauthenticationResolver(e){return ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(n,e){return un(n,"POST","/v1/accounts:resetPassword",ln(n,e))}async function bM(n,e){return un(n,"POST","/v1/accounts:update",e)}async function RM(n,e){return un(n,"POST","/v1/accounts:signUp",e)}async function CM(n,e){return un(n,"POST","/v1/accounts:update",ln(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(n,e){return Xs(n,"POST","/v1/accounts:signInWithPassword",ln(n,e))}async function qm(n,e){return un(n,"POST","/v1/accounts:sendOobCode",ln(n,e))}async function AM(n,e){return qm(n,e)}async function PM(n,e){return qm(n,e)}async function kM(n,e){return qm(n,e)}async function NM(n,e){return qm(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM(n,e){return Xs(n,"POST","/v1/accounts:signInWithEmailLink",ln(n,e))}async function OM(n,e){return Xs(n,"POST","/v1/accounts:signInWithEmailLink",ln(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends uc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new ah(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ah(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bo(e,t,"signInWithPassword",xM,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return DM(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bo(e,r,"signUpPassword",RM,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return OM(e,{idToken:t,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Us(n,e){return Xs(n,"POST","/v1/accounts:signInWithIdp",ln(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM="http://localhost";class hs extends uc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Un("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=_0(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new hs(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Us(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Us(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Us(e,t)}buildRequest(){const e={requestUri:MM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=oc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uT(n,e){return un(n,"POST","/v1/accounts:sendVerificationCode",ln(n,e))}async function LM(n,e){return Xs(n,"POST","/v1/accounts:signInWithPhoneNumber",ln(n,e))}async function VM(n,e){const t=await Xs(n,"POST","/v1/accounts:signInWithPhoneNumber",ln(n,e));if(t.temporaryProof)throw kd(n,"account-exists-with-different-credential",t);return t}const FM={USER_NOT_FOUND:"user-not-found"};async function jM(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Xs(n,"POST","/v1/accounts:signInWithPhoneNumber",ln(n,t),FM)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends uc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ja({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ja({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return LM(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return VM(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return jM(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!t&&!i&&!s?null:new Ja({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BM(n){const e=Ru(Pd(n)).link,t=e?Ru(Pd(e)).deep_link_id:null,r=Ru(Pd(n)).deep_link_id;return(r?Ru(Pd(r)).link:null)||r||t||e||n}class Hm{constructor(e){var t,r,i,s,l,u;const d=Ru(Pd(e)),f=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,g=UM((i=d.mode)!==null&&i!==void 0?i:null);ve(f&&m&&g,"argument-error"),this.apiKey=f,this.operation=g,this.code=m,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=BM(e);try{return new Hm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.providerId=sa.PROVIDER_ID}static credential(e,t){return ah._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Hm.parseLink(t);return ve(r,"argument-error"),ah._fromEmailAndCode(e,r.code,r.tenantId)}}sa.PROVIDER_ID="password";sa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends Zs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Au extends cc{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return ve("providerId"in t&&"signInMethod"in t,"argument-error"),hs._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ve(e.idToken||e.accessToken,"argument-error"),hs._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Au.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Au.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:l,providerId:u}=e;if(!r&&!i&&!t&&!s||!u)return null;try{return new Au(u)._credential({idToken:t,accessToken:r,nonce:l,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends cc{constructor(){super("facebook.com")}static credential(e){return hs._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return hs._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return es.credential(t,r)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends cc{constructor(){super("github.com")}static credential(e){return hs._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M="http://localhost";class Uu extends uc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Us(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Us(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Us(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=t;return!r||!i||!s||r!==i?null:new Uu(r,s)}static _create(e,t){return new Uu(e,t)}buildRequest(){return{requestUri:$M,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM="saml.";class um extends Zs{constructor(e){ve(e.startsWith(zM),"argument-error"),super(e)}static credentialFromResult(e){return um.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return um.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Uu.fromJSON(e);return ve(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return Uu._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends cc{constructor(){super("twitter.com")}static credential(e,t){return hs._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ns.credential(t,r)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(n,e){return Xs(n,"POST","/v1/accounts:signUp",ln(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Ms._fromIdTokenResponse(e,r,i),l=cT(r);return new ci({user:s,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=cT(r);return new ci({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function cT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WM(n){var e;if(sn(n.app))return Promise.reject(jn(n));const t=Xt(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new ci({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await nC(t,{returnSecureToken:!0}),i=await ci._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm extends sr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,cm.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new cm(e,t,r,i)}}function rC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?cm._fromErrorAndOperation(n,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(n,e){const t=Ue(n);await Gm(!0,t,e);const{providerUserInfo:r}=await H2(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=iC(r||[]);return t.providerData=t.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function b0(n,e,t=!1){const r=await zs(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ci._forOperation(n,"link",r)}async function Gm(n,e,t){await oh(e);const r=iC(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";ve(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(n,e,t=!1){const{auth:r}=n;if(sn(r.app))return Promise.reject(jn(r));const i="reauthenticate";try{const s=await zs(n,rC(r,i,e,n),t);ve(s.idToken,r,"internal-error");const l=Wm(s.idToken);ve(l,r,"internal-error");const{sub:u}=l;return ve(n.uid===u,r,"user-mismatch"),ci._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Un(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(n,e,t=!1){if(sn(n.app))return Promise.reject(jn(n));const r="signIn",i=await rC(n,r,e),s=await ci._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function Km(n,e){return oC(Xt(n),e)}async function aC(n,e){const t=Ue(n);return await Gm(!1,t,e.providerId),b0(t,e)}async function lC(n,e){return sC(Ue(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HM(n,e){return Xs(n,"POST","/v1/accounts:signInWithCustomToken",ln(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GM(n,e){if(sn(n.app))return Promise.reject(jn(n));const t=Xt(n),r=await HM(t,{token:e,returnSecureToken:!0}),i=await ci._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?R0._fromServerResponse(e,t):"totpInfo"in t?C0._fromServerResponse(e,t):Un(e,"internal-error")}}class R0 extends Nh{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new R0(t)}}class C0 extends Nh{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new C0(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(n,e,t){var r;ve(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),ve(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ve(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ve(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x0(n){const e=Xt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function KM(n,e,t){const r=Xt(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Qm(r,i,t),await Bo(r,i,"getOobCode",PM,"EMAIL_PASSWORD_PROVIDER")}async function QM(n,e,t){await tC(Ue(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&x0(n),r})}async function JM(n,e){await CM(Ue(n),{oobCode:e})}async function uC(n,e){const t=Ue(n),r=await tC(t,{oobCode:e}),i=r.requestType;switch(ve(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ve(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ve(r.mfaInfo,t,"internal-error");default:ve(r.email,t,"internal-error")}let s=null;return r.mfaInfo&&(s=Nh._fromServerResponse(Xt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function YM(n,e){const{data:t}=await uC(Ue(n),e);return t.email}async function cC(n,e,t){if(sn(n.app))return Promise.reject(jn(n));const r=Xt(n),l=await Bo(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nC,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&x0(n),d}),u=await ci._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function dC(n,e,t){return sn(n.app)?Promise.reject(jn(n)):Km(Ue(n),sa.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&x0(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XM(n,e,t){const r=Xt(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(l,u){ve(u.handleCodeInApp,r,"argument-error"),u&&Qm(r,l,u)}s(i,t),await Bo(r,i,"getOobCode",kM,"EMAIL_PASSWORD_PROVIDER")}function ZM(n,e){const t=Hm.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function eL(n,e,t){if(sn(n.app))return Promise.reject(jn(n));const r=Ue(n),i=sa.credentialWithLink(e,t||sh());return ve(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Km(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tL(n,e){return un(n,"POST","/v1/accounts:createAuthUri",ln(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nL(n,e){const t=I0()?sh():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await tL(Ue(n),r);return i||[]}async function rL(n,e){const t=Ue(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&Qm(t.auth,i,e);const{email:s}=await AM(t.auth,i);s!==n.email&&await n.reload()}async function iL(n,e,t){const r=Ue(n),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&Qm(r.auth,s,t);const{email:l}=await NM(r.auth,s);l!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sL(n,e){return un(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Ue(n),s={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await zs(r,sL(r.auth,s));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function aL(n,e){const t=Ue(n);return sn(t.auth.app)?Promise.reject(jn(t.auth)):hC(t,e,null)}function lL(n,e){return hC(Ue(n),null,e)}async function hC(n,e,t){const{auth:r}=n,s={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);const l=await zs(n,bM(r,s));await n._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},s=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const l=(t=(e=Wm(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(l){const u=l!=="anonymous"&&l!=="custom"?l:null;return new Pu(s,u)}}if(!r)return null;switch(r){case"facebook.com":return new cL(s,i);case"github.com":return new dL(s,i);case"google.com":return new hL(s,i);case"twitter.com":return new fL(s,i,n.screenName||null);case"custom":case"anonymous":return new Pu(s,null);default:return new Pu(s,r,i)}}class Pu{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class fC extends Pu{constructor(e,t,r,i){super(e,t,r),this.username=i}}class cL extends Pu{constructor(e,t){super(e,"facebook.com",t)}}class dL extends fC{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class hL extends Pu{constructor(e,t){super(e,"google.com",t)}}class fL extends fC{constructor(e,t,r){super(e,"twitter.com",t,r)}}function pL(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:uL(t)}function mL(n,e,t,r){return Ue(n).onIdTokenChanged(e,t,r)}function gL(n,e,t){return Ue(n).beforeAuthStateChanged(e,t)}function Dh(n,e,t,r){return Ue(n).onAuthStateChanged(e,t,r)}function yL(n){return Ue(n).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new qa("enroll",e,t)}static _fromMfaPendingCredential(e){return new qa("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return qa._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return qa._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Xt(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(u=>Nh._fromServerResponse(r,u));ve(i.mfaPendingCredential,r,"internal-error");const l=qa._fromMfaPendingCredential(i.mfaPendingCredential);return new A0(l,s,async u=>{const d=await u._process(r,l);delete i.mfaInfo,delete i.mfaPendingCredential;const f=Object.assign(Object.assign({},i),{idToken:d.idToken,refreshToken:d.refreshToken});switch(t.operationType){case"signIn":const m=await ci._fromIdTokenResponse(r,t.operationType,f);return await r._updateCurrentUser(m.user),m;case"reauthenticate":return ve(t.user,r,"internal-error"),ci._forOperation(t.user,t.operationType,f);default:Un(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function vL(n,e){var t;const r=Ue(n),i=e;return ve(e.customData.operationType,r,"argument-error"),ve((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),A0._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(n,e){return un(n,"POST","/v2/accounts/mfaEnrollment:start",ln(n,e))}function _L(n,e){return un(n,"POST","/v2/accounts/mfaEnrollment:finalize",ln(n,e))}function wL(n,e){return un(n,"POST","/v2/accounts/mfaEnrollment:withdraw",ln(n,e))}class P0{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Nh._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new P0(e)}async getSession(){return qa._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),s=await zs(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await zs(this.user,wL(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const Av=new WeakMap;function EL(n){const e=Ue(n);return Av.has(e)||Av.set(e,P0._fromUser(e)),Av.get(e)}const dm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(dm,"1"),this.storage.removeItem(dm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=1e3,SL=10;class mC extends pC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);nM()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,SL):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},IL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}mC.type="LOCAL";const Jm=mC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC extends pC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}gC.type="SESSION";const Ho=gC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Ym(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async f=>f(t.origin,s)),d=await TL(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ym.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,d)=>{const f=Oh("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const v=g;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(v.data.response);break;default:clearTimeout(m),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return window}function RL(n){Tn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(){return typeof Tn().WorkerGlobalScope<"u"&&typeof Tn().importScripts=="function"}async function CL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xL(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function AL(){return k0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="firebaseLocalStorageDb",PL=1,hm="firebaseLocalStorage",vC="fbase_key";class Mh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Xm(n,e){return n.transaction([hm],e?"readwrite":"readonly").objectStore(hm)}function kL(){const n=indexedDB.deleteDatabase(yC);return new Mh(n).toPromise()}function d_(){const n=indexedDB.open(yC,PL);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(hm,{keyPath:vC})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(hm)?e(r):(r.close(),await kL(),e(await d_()))})})}async function hT(n,e,t){const r=Xm(n,!0).put({[vC]:e,value:t});return new Mh(r).toPromise()}async function NL(n,e){const t=Xm(n,!1).get(e),r=await new Mh(t).toPromise();return r===void 0?null:r.value}function fT(n,e){const t=Xm(n,!0).delete(e);return new Mh(t).toPromise()}const DL=800,OL=3;class _C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await d_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>OL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return k0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ym._getInstance(AL()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await CL(),!this.activeServiceWorker)return;this.sender=new bL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await d_();return await hT(e,dm,"1"),await fT(e,dm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>hT(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>NL(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>fT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Xm(i,!1).getAll();return new Mh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_C.type="LOCAL";const Bu=_C;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(n,e){return un(n,"POST","/v2/accounts/mfaSignIn:start",ln(n,e))}function ML(n,e){return un(n,"POST","/v2/accounts/mfaSignIn:finalize",ln(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=YR("rcb"),LL=new xh(3e4,6e4);class VL{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Tn().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return ve(FL(t),e,"argument-error"),this.shouldResolveImmediately(t)&&nT(Tn().grecaptcha)?Promise.resolve(Tn().grecaptcha):new Promise((r,i)=>{const s=Tn().setTimeout(()=>{i(kn(e,"network-request-failed"))},LL.get());Tn()[Pv]=()=>{Tn().clearTimeout(s),delete Tn()[Pv];const u=Tn().grecaptcha;if(!u||!nT(u)){i(kn(e,"internal-error"));return}const d=u.render;u.render=(f,m)=>{const g=d(f,m);return this.counter++,g},this.hostLanguage=t,r(u)};const l=`${uM()}?${oc({onload:Pv,render:"explicit",hl:t})}`;T0(l).catch(()=>{clearTimeout(s),i(kn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=Tn().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function FL(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class jL{async load(e){return new pM(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="recaptcha",UL={theme:"light",type:"image"};let BL=class{constructor(e,t,r=Object.assign({},UL)){this.parameters=r,this.type=Bd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Xt(e),this.isInvisible=this.parameters.size==="invisible",ve(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;ve(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new jL:new VL,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const s=l=>{l&&(this.tokenChangeListeners.delete(s),i(l))};this.tokenChangeListeners.add(s),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ve(!this.parameters.sitekey,this.auth,"argument-error"),ve(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ve(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=Tn()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){ve(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ve(I0()&&!k0(),this.auth,"internal-error"),await $L(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await W2(this.auth);ve(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ve(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function $L(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Ja._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function zL(n,e,t){if(sn(n.app))return Promise.reject(jn(n));const r=Xt(n),i=await Zm(r,e,Ue(t));return new N0(i,s=>Km(r,s))}async function WL(n,e,t){const r=Ue(n);await Gm(!1,r,"phone");const i=await Zm(r.auth,e,Ue(t));return new N0(i,s=>aC(r,s))}async function qL(n,e,t){const r=Ue(n);if(sn(r.auth.app))return Promise.reject(jn(r.auth));const i=await Zm(r.auth,e,Ue(t));return new N0(i,s=>lC(r,s))}async function Zm(n,e,t){var r;if(!n._getRecaptchaConfig())try{await wM(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const s=i.session;if("phoneNumber"in i){ve(s.type==="enroll",n,"internal-error");const l={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Bo(n,l,"mfaSmsEnrollment",async(m,g)=>{if(g.phoneEnrollmentInfo.captchaResponse===Ud){ve((t==null?void 0:t.type)===Bd,m,"argument-error");const v=await kv(m,g,t);return dT(m,v)}return dT(m,g)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).phoneSessionInfo.sessionInfo}else{ve(s.type==="signin",n,"internal-error");const l=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;ve(l,n,"missing-multi-factor-info");const u={mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Bo(n,u,"mfaSmsSignIn",async(g,v)=>{if(v.phoneSignInInfo.captchaResponse===Ud){ve((t==null?void 0:t.type)===Bd,g,"argument-error");const I=await kv(g,v,t);return pT(g,I)}return pT(g,v)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Bo(n,s,"sendVerificationCode",async(f,m)=>{if(m.captchaResponse===Ud){ve((t==null?void 0:t.type)===Bd,f,"argument-error");const g=await kv(f,m,t);return uT(f,g)}return uT(f,m)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).sessionInfo}}finally{t==null||t._reset()}}async function HL(n,e){const t=Ue(n);if(sn(t.auth.app))return Promise.reject(jn(t.auth));await b0(t,e)}async function kv(n,e,t){ve(t.type===Bd,n,"argument-error");const r=await t.verify();ve(typeof r=="string",n,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const s=i.phoneEnrollmentInfo.phoneNumber,l=i.phoneEnrollmentInfo.captchaResponse,u=i.phoneEnrollmentInfo.clientType,d=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:l,clientType:u,recaptchaVersion:d}}),i}else if("phoneSignInInfo"in i){const s=i.phoneSignInInfo.captchaResponse,l=i.phoneSignInInfo.clientType,u=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:l,recaptchaVersion:u}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Za=class $p{constructor(e){this.providerId=$p.PROVIDER_ID,this.auth=Xt(e)}verifyPhoneNumber(e,t){return Zm(this.auth,e,Ue(t))}static credential(e,t){return Ja._fromVerification(e,t)}static credentialFromResult(e){const t=e;return $p.credentialFromTaggedObject(t)}static credentialFromError(e){return $p.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?Ja._fromTokenResponse(t,r):null}};Za.PROVIDER_ID="phone";Za.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(n,e){return e?Wr(e):(ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0 extends uc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Us(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Us(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Us(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function GL(n){return oC(n.auth,new D0(n),n.bypassAuthState)}function KL(n){const{auth:e,user:t}=n;return ve(t,e,"internal-error"),sC(t,new D0(n),n.bypassAuthState)}async function QL(n){const{auth:e,user:t}=n;return ve(t,e,"internal-error"),b0(t,new D0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GL;case"linkViaPopup":case"linkViaRedirect":return QL;case"reauthViaPopup":case"reauthViaRedirect":return KL;default:Un(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=new xh(2e3,1e4);async function YL(n,e,t){if(sn(n.app))return Promise.reject(kn(n,"operation-not-supported-in-this-environment"));const r=Xt(n);lc(n,e,Zs);const i=gl(r,t);return new Ls(r,"signInViaPopup",e,i).executeNotNull()}async function XL(n,e,t){const r=Ue(n);if(sn(r.auth.app))return Promise.reject(kn(r.auth,"operation-not-supported-in-this-environment"));lc(r.auth,e,Zs);const i=gl(r.auth,t);return new Ls(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function ZL(n,e,t){const r=Ue(n);lc(r.auth,e,Zs);const i=gl(r.auth,t);return new Ls(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Ls extends wC{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ls.currentPopupAction&&Ls.currentPopupAction.cancel(),Ls.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Di(this.filter.length===1,"Popup operations only handle one event");const e=Oh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ls.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JL.get())};e()}}Ls.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV="pendingRedirect",$d=new Map;class tV extends wC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=$d.get(this.auth._key());if(!e){try{const r=await nV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}$d.set(this.auth._key(),e)}return this.bypassAuthState||$d.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nV(n,e){const t=IC(e),r=EC(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function O0(n,e){return EC(n)._set(IC(e),"true")}function rV(){$d.clear()}function M0(n,e){$d.set(n._key(),e)}function EC(n){return Wr(n._redirectPersistence)}function IC(n){return Qa(eV,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(n,e,t){return sV(n,e,t)}async function sV(n,e,t){if(sn(n.app))return Promise.reject(jn(n));const r=Xt(n);lc(n,e,Zs),await r._initializationPromise;const i=gl(r,t);return await O0(i,r),i._openRedirect(r,e,"signInViaRedirect")}function oV(n,e,t){return aV(n,e,t)}async function aV(n,e,t){const r=Ue(n);if(lc(r.auth,e,Zs),sn(r.auth.app))return Promise.reject(jn(r.auth));await r.auth._initializationPromise;const i=gl(r.auth,t);await O0(i,r.auth);const s=await SC(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function lV(n,e,t){return uV(n,e,t)}async function uV(n,e,t){const r=Ue(n);lc(r.auth,e,Zs),await r.auth._initializationPromise;const i=gl(r.auth,t);await Gm(!1,r,e.providerId),await O0(i,r.auth);const s=await SC(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function cV(n,e){return await Xt(n)._initializationPromise,eg(n,e,!1)}async function eg(n,e,t=!1){if(sn(n.app))return Promise.reject(jn(n));const r=Xt(n),i=gl(r,e),l=await new tV(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}async function SC(n){const e=Oh(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=10*60*1e3;class TC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!bC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(kn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dV&&this.cachedEventUids.clear(),this.cachedEventUids.has(mT(e))}saveEventToCache(e){this.cachedEventUids.add(mT(e)),this.lastProcessedEventTime=Date.now()}}function mT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function bC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function hV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(n,e={}){return un(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pV=/^https?/;async function mV(n){if(n.config.emulator)return;const{authorizedDomains:e}=await RC(n);for(const t of e)try{if(gV(t))return}catch{}Un(n,"unauthorized-domain")}function gV(n){const e=sh(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!pV.test(t))return!1;if(fV.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=new xh(3e4,6e4);function gT(){const n=Tn().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function vV(n){return new Promise((e,t)=>{var r,i,s;function l(){gT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gT(),t(kn(n,"network-request-failed"))},timeout:yV.get()})}if(!((i=(r=Tn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Tn().gapi)===null||s===void 0)&&s.load)l();else{const u=YR("iframefcb");return Tn()[u]=()=>{gapi.load?l():t(kn(n,"network-request-failed"))},T0(`${dM()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw zp=null,e})}let zp=null;function _V(n){return zp=zp||vV(n),zp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=new xh(5e3,15e3),EV="__/auth/iframe",IV="emulator/auth/iframe",SV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bV(n){const e=n.config;ve(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?S0(e,IV):`https://${n.config.authDomain}/${EV}`,r={apiKey:e.apiKey,appName:n.name,v:Ys},i=TV.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${oc(r).slice(1)}`}async function RV(n){const e=await _V(n),t=Tn().gapi;return ve(t,n,"internal-error"),e.open({where:document.body,url:bV(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SV,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=kn(n,"network-request-failed"),u=Tn().setTimeout(()=>{s(l)},wV.get());function d(){Tn().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xV=500,AV=600,PV="_blank",kV="http://localhost";class yT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NV(n,e,t,r=xV,i=AV){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d=Object.assign(Object.assign({},CV),{width:r.toString(),height:i.toString(),top:s,left:l}),f=Yt().toLowerCase();t&&(u=qR(f)?PV:t),zR(f)&&(e=e||kV,d.scrollbars="yes");const m=Object.entries(d).reduce((v,[I,b])=>`${v}${I}=${b},`,"");if(tM(f)&&u!=="_self")return DV(e||"",u),new yT(null);const g=window.open(e||"",u,m);ve(g,n,"popup-blocked");try{g.focus()}catch{}return new yT(g)}function DV(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV="__/auth/handler",MV="emulator/auth/handler",LV=encodeURIComponent("fac");async function h_(n,e,t,r,i,s){ve(n.config.authDomain,n,"auth-domain-config-required"),ve(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ys,eventId:i};if(e instanceof Zs){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",wO(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries(s||{}))l[m]=g}if(e instanceof cc){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await n._getAppCheckToken(),f=d?`#${LV}=${encodeURIComponent(d)}`:"";return`${VV(n)}?${oc(u).slice(1)}${f}`}function VV({config:n}){return n.emulator?S0(n,MV):`https://${n.authDomain}/${OV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="webStorageSupport";class FV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ho,this._completeRedirectFn=eg,this._overrideRedirectResult=M0}async _openPopup(e,t,r,i){var s;Di((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await h_(e,t,r,sh(),i);return NV(e,l,Oh())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await h_(e,t,r,sh(),i);return RL(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Di(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await RV(e),r=new TC(e);return t.register("authEvent",i=>(ve(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Nv,{type:Nv},i=>{var s;const l=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Nv];l!==void 0&&t(!!l),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=mV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return QR()||WR()||Ph()}}const CC=FV;class jV{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return ss("unexpected MultiFactorSessionType")}}}class L0 extends jV{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new L0(e)}_finalizeEnroll(e,t,r){return _L(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return ML(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class xC{constructor(){}static assertion(e){return L0._fromCredential(e)}}xC.FACTOR_ID="phone";var vT="@firebase/auth",_T="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $V(n){$s(new Ni("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;ve(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JR(n)},f=new aM(r,i,s,d);return IM(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),$s(new Ni("auth-internal",e=>{const t=Xt(e.getProvider("auth").getImmediate());return(r=>new UV(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nr(vT,_T,BV(n)),Nr(vT,_T,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=5*60,WV=mR("authIdTokenMaxAge")||zV;let wT=null;const qV=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>WV)return;const i=t==null?void 0:t.token;wT!==i&&(wT=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function HV(n=zm()){const e=ac(n,"auth");if(e.isInitialized())return e.getImmediate();const t=EM(n,{popupRedirectResolver:CC,persistence:[Bu,Jm,Ho]}),r=mR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=qV(s.toString());gL(t,l,()=>l(t.currentUser)),mL(t,u=>l(u))}}const i=hR("auth");return i&&ZR(t,`http://${i}`),t}function GV(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}lM({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=kn("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",GV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$V("Browser");var KV="firebase",QV="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nr(KV,QV,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="firebasestorage.googleapis.com",PC="storageBucket",JV=2*60*1e3,YV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn extends sr{constructor(e,t,r=0){super(Dv(e),`Firebase Storage: ${t} (${Dv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,cn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var on;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(on||(on={}));function Dv(n){return"storage/"+n}function V0(){const n="An unknown error occurred, please check the error payload for server response.";return new cn(on.UNKNOWN,n)}function XV(n){return new cn(on.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function ZV(n){return new cn(on.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function eF(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new cn(on.UNAUTHENTICATED,n)}function tF(){return new cn(on.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function nF(n){return new cn(on.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function rF(){return new cn(on.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function iF(){return new cn(on.CANCELED,"User canceled the upload/download.")}function sF(n){return new cn(on.INVALID_URL,"Invalid URL '"+n+"'.")}function oF(n){return new cn(on.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function aF(){return new cn(on.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+PC+"' property when initializing the app?")}function lF(){return new cn(on.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function uF(){return new cn(on.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function cF(n){return new cn(on.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function f_(n){return new cn(on.INVALID_ARGUMENT,n)}function kC(){return new cn(on.APP_DELETED,"The Firebase app was deleted.")}function dF(n){return new cn(on.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zd(n,e){return new cn(on.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function pd(n){throw new cn(on.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=qr.makeFromUrl(e,t)}catch{return new qr(e,"")}if(r.path==="")return r;throw oF(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+i+l,"i"),d={bucket:1,path:3};function f(j){j.path_=decodeURIComponent(j.path)}const m="v[A-Za-z0-9_]+",g=t.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",I=new RegExp(`^https?://${g}/${m}/b/${i}/o${v}`,"i"),b={bucket:1,path:3},C=t===AC?"(?:storage.googleapis.com|storage.cloud.google.com)":t,x="([^?#]*)",D=new RegExp(`^https?://${C}/${i}/${x}`,"i"),M=[{regex:u,indices:d,postModify:s},{regex:I,indices:b,postModify:f},{regex:D,indices:{bucket:1,path:2},postModify:f}];for(let j=0;j<M.length;j++){const A=M[j],z=A.regex.exec(e);if(z){const O=z[A.indices.bucket];let k=z[A.indices.path];k||(k=""),r=new qr(O,k),A.postModify(r);break}}if(r==null)throw sF(e);return r}}class hF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(n,e,t){let r=1,i=null,s=null,l=!1,u=0;function d(){return u===2}let f=!1;function m(...x){f||(f=!0,e.apply(null,x))}function g(x){i=setTimeout(()=>{i=null,n(I,d())},x)}function v(){s&&clearTimeout(s)}function I(x,...D){if(f){v();return}if(x){v(),m.call(null,x,...D);return}if(d()||l){v(),m.call(null,x,...D);return}r<64&&(r*=2);let M;u===1?(u=2,M=0):M=(r+Math.random())*1e3,g(M)}let b=!1;function C(x){b||(b=!0,v(),!f&&(i!==null?(x||(u=2),clearTimeout(i),g(0)):x||(u=1)))}return g(0),s=setTimeout(()=>{l=!0,C(!0)},t),C}function pF(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(n){return n!==void 0}function gF(n){return typeof n=="object"&&!Array.isArray(n)}function F0(n){return typeof n=="string"||n instanceof String}function ET(n){return j0()&&n instanceof Blob}function j0(){return typeof Blob<"u"}function IT(n,e,t,r){if(r<e)throw f_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw f_(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function NC(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Ya;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ya||(Ya={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e,t,r,i,s,l,u,d,f,m,g,v=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=m,this.connectionFactory_=g,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,b)=>{this.resolve_=I,this.reject_=b,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new wp(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const l=u=>{const d=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const u=s.getErrorCode()===Ya.NO_ERROR,d=s.getStatus();if(!u||yF(d,this.additionalRetryCodes_)&&this.retry){const m=s.getErrorCode()===Ya.ABORT;r(!1,new wp(!1,null,m));return}const f=this.successCodes_.indexOf(d)!==-1;r(!0,new wp(f,s))})},t=(r,i)=>{const s=this.resolve_,l=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());mF(d)?s(d):s()}catch(d){l(d)}else if(u!==null){const d=V0();d.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,d)):l(d)}else if(i.canceled){const d=this.appDelete_?kC():iF();l(d)}else{const d=rF();l(d)}};this.canceled_?t(!1,new wp(!1,null,!0)):this.backoffId_=fF(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&pF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wp{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function _F(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function wF(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function EF(n,e){e&&(n["X-Firebase-GMPID"]=e)}function IF(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function SF(n,e,t,r,i,s,l=!0){const u=NC(n.urlParams),d=n.url+u,f=Object.assign({},n.headers);return EF(f,e),_F(f,t),wF(f,s),IF(f,r),new vF(d,n.method,f,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function bF(...n){const e=TF();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(j0())return new Blob(n);throw new cn(on.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function RF(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(n){if(typeof atob>"u")throw cF("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ov{constructor(e,t){this.data=e,this.contentType=t||null}}function xF(n,e){switch(n){case os.RAW:return new Ov(DC(e));case os.BASE64:case os.BASE64URL:return new Ov(OC(n,e));case os.DATA_URL:return new Ov(PF(e),kF(e))}throw V0()}function DC(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const s=r,l=n.charCodeAt(++t);r=65536|(s&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function AF(n){let e;try{e=decodeURIComponent(n)}catch{throw zd(os.DATA_URL,"Malformed data URL.")}return DC(e)}function OC(n,e){switch(n){case os.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw zd(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case os.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw zd(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=CF(e)}catch(i){throw i.message.includes("polyfill")?i:zd(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class MC{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw zd(os.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=NF(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function PF(n){const e=new MC(n);return e.base64?OC(os.BASE64,e.rest):AF(e.rest)}function kF(n){return new MC(n).contentType}function NF(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,t){let r=0,i="";ET(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(ET(this.data_)){const r=this.data_,i=RF(r,e,t);return i===null?null:new Oo(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Oo(r,!0)}}static getBlob(...e){if(j0()){const t=e.map(r=>r instanceof Oo?r.data_:r);return new Oo(bF.apply(null,t))}else{const t=e.map(l=>F0(l)?xF(os.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(l=>{for(let u=0;u<l.length;u++)i[s++]=l[u]}),new Oo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(n){let e;try{e=JSON.parse(n)}catch{return null}return gF(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DF(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function OF(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function VC(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MF(n,e){return e}class fr{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||MF}}let Ep=null;function LF(n){return!F0(n)||n.length<2?n:VC(n)}function FC(){if(Ep)return Ep;const n=[];n.push(new fr("bucket")),n.push(new fr("generation")),n.push(new fr("metageneration")),n.push(new fr("name","fullPath",!0));function e(s,l){return LF(l)}const t=new fr("name");t.xform=e,n.push(t);function r(s,l){return l!==void 0?Number(l):l}const i=new fr("size");return i.xform=r,n.push(i),n.push(new fr("timeCreated")),n.push(new fr("updated")),n.push(new fr("md5Hash",null,!0)),n.push(new fr("cacheControl",null,!0)),n.push(new fr("contentDisposition",null,!0)),n.push(new fr("contentEncoding",null,!0)),n.push(new fr("contentLanguage",null,!0)),n.push(new fr("contentType",null,!0)),n.push(new fr("metadata","customMetadata",!0)),Ep=n,Ep}function VF(n,e){function t(){const r=n.bucket,i=n.fullPath,s=new qr(r,i);return e._makeStorageReference(s)}Object.defineProperty(n,"ref",{get:t})}function FF(n,e,t){const r={};r.type="file";const i=t.length;for(let s=0;s<i;s++){const l=t[s];r[l.local]=l.xform(r,e[l.server])}return VF(r,n),r}function jC(n,e,t){const r=LC(e);return r===null?null:FF(n,r,t)}function jF(n,e,t,r){const i=LC(e);if(i===null||!F0(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const l=encodeURIComponent;return s.split(",").map(f=>{const m=n.bucket,g=n.fullPath,v="/b/"+l(m)+"/o/"+l(g),I=U0(v,t,r),b=NC({alt:"media",token:f});return I+b})[0]}function UF(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}class UC{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(n){if(!n)throw V0()}function BF(n,e){function t(r,i){const s=jC(n,i,e);return BC(s!==null),s}return t}function $F(n,e){function t(r,i){const s=jC(n,i,e);return BC(s!==null),jF(s,i,n.host,n._protocol)}return t}function $C(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=tF():i=eF():t.getStatus()===402?i=ZV(n.bucket):t.getStatus()===403?i=nF(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function zF(n){const e=$C(n);function t(r,i){let s=e(r,i);return r.getStatus()===404&&(s=XV(n.path)),s.serverResponse=i.serverResponse,s}return t}function WF(n,e,t){const r=e.fullServerUrl(),i=U0(r,n.host,n._protocol),s="GET",l=n.maxOperationRetryTime,u=new UC(i,s,$F(n,t),l);return u.errorHandler=zF(e),u}function qF(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function HF(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=qF(null,e)),r}function GF(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let M="";for(let j=0;j<2;j++)M=M+Math.random().toString().slice(2);return M}const d=u();l["Content-Type"]="multipart/related; boundary="+d;const f=HF(e,r,i),m=UF(f,t),g="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+d+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+d+"--",I=Oo.getBlob(g,r,v);if(I===null)throw lF();const b={name:f.fullPath},C=U0(s,n.host,n._protocol),x="POST",D=n.maxUploadRetryTime,U=new UC(C,x,BF(n,t),D);return U.urlParams=b,U.headers=l,U.body=I.uploadData(),U.errorHandler=$C(e),U}class KF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ya.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ya.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ya.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw pd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class QF extends KF{initXhr(){this.xhr_.responseType="text"}}function zC(){return new QF}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,t){this._service=e,t instanceof qr?this._location=t:this._location=qr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new el(e,t)}get root(){const e=new qr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VC(this._location.path)}get storage(){return this._service}get parent(){const e=DF(this._location.path);if(e===null)return null;const t=new qr(this._location.bucket,e);return new el(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw dF(e)}}function JF(n,e,t){n._throwIfRoot("uploadBytes");const r=GF(n.storage,n._location,FC(),new Oo(e,!0),t);return n.storage.makeRequestWithTokens(r,zC).then(i=>({metadata:i,ref:n}))}function YF(n){n._throwIfRoot("getDownloadURL");const e=WF(n.storage,n._location,FC());return n.storage.makeRequestWithTokens(e,zC).then(t=>{if(t===null)throw uF();return t})}function XF(n,e){const t=OF(n._location.path,e),r=new qr(n._location.bucket,t);return new el(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZF(n){return/^[A-Za-z]+:\/\//.test(n)}function ej(n,e){return new el(n,e)}function WC(n,e){if(n instanceof B0){const t=n;if(t._bucket==null)throw aF();const r=new el(t,t._bucket);return e!=null?WC(r,e):r}else return e!==void 0?XF(n,e):n}function tj(n,e){if(e&&ZF(e)){if(n instanceof B0)return ej(n,e);throw f_("To use ref(service, url), the first argument must be a Storage instance.")}else return WC(n,e)}function ST(n,e){const t=e==null?void 0:e[PC];return t==null?null:qr.makeFromBucketSpec(t,n)}function nj(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:gR(i,n.app.options.projectId))}class B0{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=AC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=JV,this._maxUploadRetryTime=YV,this._requests=new Set,i!=null?this._bucket=qr.makeFromBucketSpec(i,this._host):this._bucket=ST(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=qr.makeFromBucketSpec(this._url,e):this._bucket=ST(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){IT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){IT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new el(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new hF(kC());{const l=SF(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const TT="@firebase/storage",bT="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="storage";function rj(n,e,t){return n=Ue(n),JF(n,e,t)}function tl(n){return n=Ue(n),YF(n)}function dc(n,e){return n=Ue(n),tj(n,e)}function yl(n=zm(),e){n=Ue(n);const r=ac(n,qC).getImmediate({identifier:e}),i=fR("storage");return i&&ij(r,...i),r}function ij(n,e,t,r={}){nj(n,e,t,r)}function sj(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new B0(t,r,i,e,Ys)}function oj(){$s(new Ni(qC,sj,"PUBLIC").setMultipleInstances(!0)),Nr(TT,bT,""),Nr(TT,bT,"esm2017")}oj();var RT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xa,HC;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,k){function L(){}L.prototype=k.prototype,O.D=k.prototype,O.prototype=new L,O.prototype.constructor=O,O.C=function(E,N,B){for(var F=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)F[ae-2]=arguments[ae];return k.prototype[N].apply(E,F)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,k,L){L||(L=0);var E=Array(16);if(typeof k=="string")for(var N=0;16>N;++N)E[N]=k.charCodeAt(L++)|k.charCodeAt(L++)<<8|k.charCodeAt(L++)<<16|k.charCodeAt(L++)<<24;else for(N=0;16>N;++N)E[N]=k[L++]|k[L++]<<8|k[L++]<<16|k[L++]<<24;k=O.g[0],L=O.g[1],N=O.g[2];var B=O.g[3],F=k+(B^L&(N^B))+E[0]+3614090360&4294967295;k=L+(F<<7&4294967295|F>>>25),F=B+(N^k&(L^N))+E[1]+3905402710&4294967295,B=k+(F<<12&4294967295|F>>>20),F=N+(L^B&(k^L))+E[2]+606105819&4294967295,N=B+(F<<17&4294967295|F>>>15),F=L+(k^N&(B^k))+E[3]+3250441966&4294967295,L=N+(F<<22&4294967295|F>>>10),F=k+(B^L&(N^B))+E[4]+4118548399&4294967295,k=L+(F<<7&4294967295|F>>>25),F=B+(N^k&(L^N))+E[5]+1200080426&4294967295,B=k+(F<<12&4294967295|F>>>20),F=N+(L^B&(k^L))+E[6]+2821735955&4294967295,N=B+(F<<17&4294967295|F>>>15),F=L+(k^N&(B^k))+E[7]+4249261313&4294967295,L=N+(F<<22&4294967295|F>>>10),F=k+(B^L&(N^B))+E[8]+1770035416&4294967295,k=L+(F<<7&4294967295|F>>>25),F=B+(N^k&(L^N))+E[9]+2336552879&4294967295,B=k+(F<<12&4294967295|F>>>20),F=N+(L^B&(k^L))+E[10]+4294925233&4294967295,N=B+(F<<17&4294967295|F>>>15),F=L+(k^N&(B^k))+E[11]+2304563134&4294967295,L=N+(F<<22&4294967295|F>>>10),F=k+(B^L&(N^B))+E[12]+1804603682&4294967295,k=L+(F<<7&4294967295|F>>>25),F=B+(N^k&(L^N))+E[13]+4254626195&4294967295,B=k+(F<<12&4294967295|F>>>20),F=N+(L^B&(k^L))+E[14]+2792965006&4294967295,N=B+(F<<17&4294967295|F>>>15),F=L+(k^N&(B^k))+E[15]+1236535329&4294967295,L=N+(F<<22&4294967295|F>>>10),F=k+(N^B&(L^N))+E[1]+4129170786&4294967295,k=L+(F<<5&4294967295|F>>>27),F=B+(L^N&(k^L))+E[6]+3225465664&4294967295,B=k+(F<<9&4294967295|F>>>23),F=N+(k^L&(B^k))+E[11]+643717713&4294967295,N=B+(F<<14&4294967295|F>>>18),F=L+(B^k&(N^B))+E[0]+3921069994&4294967295,L=N+(F<<20&4294967295|F>>>12),F=k+(N^B&(L^N))+E[5]+3593408605&4294967295,k=L+(F<<5&4294967295|F>>>27),F=B+(L^N&(k^L))+E[10]+38016083&4294967295,B=k+(F<<9&4294967295|F>>>23),F=N+(k^L&(B^k))+E[15]+3634488961&4294967295,N=B+(F<<14&4294967295|F>>>18),F=L+(B^k&(N^B))+E[4]+3889429448&4294967295,L=N+(F<<20&4294967295|F>>>12),F=k+(N^B&(L^N))+E[9]+568446438&4294967295,k=L+(F<<5&4294967295|F>>>27),F=B+(L^N&(k^L))+E[14]+3275163606&4294967295,B=k+(F<<9&4294967295|F>>>23),F=N+(k^L&(B^k))+E[3]+4107603335&4294967295,N=B+(F<<14&4294967295|F>>>18),F=L+(B^k&(N^B))+E[8]+1163531501&4294967295,L=N+(F<<20&4294967295|F>>>12),F=k+(N^B&(L^N))+E[13]+2850285829&4294967295,k=L+(F<<5&4294967295|F>>>27),F=B+(L^N&(k^L))+E[2]+4243563512&4294967295,B=k+(F<<9&4294967295|F>>>23),F=N+(k^L&(B^k))+E[7]+1735328473&4294967295,N=B+(F<<14&4294967295|F>>>18),F=L+(B^k&(N^B))+E[12]+2368359562&4294967295,L=N+(F<<20&4294967295|F>>>12),F=k+(L^N^B)+E[5]+4294588738&4294967295,k=L+(F<<4&4294967295|F>>>28),F=B+(k^L^N)+E[8]+2272392833&4294967295,B=k+(F<<11&4294967295|F>>>21),F=N+(B^k^L)+E[11]+1839030562&4294967295,N=B+(F<<16&4294967295|F>>>16),F=L+(N^B^k)+E[14]+4259657740&4294967295,L=N+(F<<23&4294967295|F>>>9),F=k+(L^N^B)+E[1]+2763975236&4294967295,k=L+(F<<4&4294967295|F>>>28),F=B+(k^L^N)+E[4]+1272893353&4294967295,B=k+(F<<11&4294967295|F>>>21),F=N+(B^k^L)+E[7]+4139469664&4294967295,N=B+(F<<16&4294967295|F>>>16),F=L+(N^B^k)+E[10]+3200236656&4294967295,L=N+(F<<23&4294967295|F>>>9),F=k+(L^N^B)+E[13]+681279174&4294967295,k=L+(F<<4&4294967295|F>>>28),F=B+(k^L^N)+E[0]+3936430074&4294967295,B=k+(F<<11&4294967295|F>>>21),F=N+(B^k^L)+E[3]+3572445317&4294967295,N=B+(F<<16&4294967295|F>>>16),F=L+(N^B^k)+E[6]+76029189&4294967295,L=N+(F<<23&4294967295|F>>>9),F=k+(L^N^B)+E[9]+3654602809&4294967295,k=L+(F<<4&4294967295|F>>>28),F=B+(k^L^N)+E[12]+3873151461&4294967295,B=k+(F<<11&4294967295|F>>>21),F=N+(B^k^L)+E[15]+530742520&4294967295,N=B+(F<<16&4294967295|F>>>16),F=L+(N^B^k)+E[2]+3299628645&4294967295,L=N+(F<<23&4294967295|F>>>9),F=k+(N^(L|~B))+E[0]+4096336452&4294967295,k=L+(F<<6&4294967295|F>>>26),F=B+(L^(k|~N))+E[7]+1126891415&4294967295,B=k+(F<<10&4294967295|F>>>22),F=N+(k^(B|~L))+E[14]+2878612391&4294967295,N=B+(F<<15&4294967295|F>>>17),F=L+(B^(N|~k))+E[5]+4237533241&4294967295,L=N+(F<<21&4294967295|F>>>11),F=k+(N^(L|~B))+E[12]+1700485571&4294967295,k=L+(F<<6&4294967295|F>>>26),F=B+(L^(k|~N))+E[3]+2399980690&4294967295,B=k+(F<<10&4294967295|F>>>22),F=N+(k^(B|~L))+E[10]+4293915773&4294967295,N=B+(F<<15&4294967295|F>>>17),F=L+(B^(N|~k))+E[1]+2240044497&4294967295,L=N+(F<<21&4294967295|F>>>11),F=k+(N^(L|~B))+E[8]+1873313359&4294967295,k=L+(F<<6&4294967295|F>>>26),F=B+(L^(k|~N))+E[15]+4264355552&4294967295,B=k+(F<<10&4294967295|F>>>22),F=N+(k^(B|~L))+E[6]+2734768916&4294967295,N=B+(F<<15&4294967295|F>>>17),F=L+(B^(N|~k))+E[13]+1309151649&4294967295,L=N+(F<<21&4294967295|F>>>11),F=k+(N^(L|~B))+E[4]+4149444226&4294967295,k=L+(F<<6&4294967295|F>>>26),F=B+(L^(k|~N))+E[11]+3174756917&4294967295,B=k+(F<<10&4294967295|F>>>22),F=N+(k^(B|~L))+E[2]+718787259&4294967295,N=B+(F<<15&4294967295|F>>>17),F=L+(B^(N|~k))+E[9]+3951481745&4294967295,O.g[0]=O.g[0]+k&4294967295,O.g[1]=O.g[1]+(N+(F<<21&4294967295|F>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+B&4294967295}r.prototype.u=function(O,k){k===void 0&&(k=O.length);for(var L=k-this.blockSize,E=this.B,N=this.h,B=0;B<k;){if(N==0)for(;B<=L;)i(this,O,B),B+=this.blockSize;if(typeof O=="string"){for(;B<k;)if(E[N++]=O.charCodeAt(B++),N==this.blockSize){i(this,E),N=0;break}}else for(;B<k;)if(E[N++]=O[B++],N==this.blockSize){i(this,E),N=0;break}}this.h=N,this.o+=k},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var k=1;k<O.length-8;++k)O[k]=0;var L=8*this.o;for(k=O.length-8;k<O.length;++k)O[k]=L&255,L/=256;for(this.u(O),O=Array(16),k=L=0;4>k;++k)for(var E=0;32>E;E+=8)O[L++]=this.g[k]>>>E&255;return O};function s(O,k){var L=u;return Object.prototype.hasOwnProperty.call(L,O)?L[O]:L[O]=k(O)}function l(O,k){this.h=k;for(var L=[],E=!0,N=O.length-1;0<=N;N--){var B=O[N]|0;E&&B==k||(L[N]=B,E=!1)}this.g=L}var u={};function d(O){return-128<=O&&128>O?s(O,function(k){return new l([k|0],0>k?-1:0)}):new l([O|0],0>O?-1:0)}function f(O){if(isNaN(O)||!isFinite(O))return g;if(0>O)return x(f(-O));for(var k=[],L=1,E=0;O>=L;E++)k[E]=O/L|0,L*=4294967296;return new l(k,0)}function m(O,k){if(O.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(O.charAt(0)=="-")return x(m(O.substring(1),k));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=f(Math.pow(k,8)),E=g,N=0;N<O.length;N+=8){var B=Math.min(8,O.length-N),F=parseInt(O.substring(N,N+B),k);8>B?(B=f(Math.pow(k,B)),E=E.j(B).add(f(F))):(E=E.j(L),E=E.add(f(F)))}return E}var g=d(0),v=d(1),I=d(16777216);n=l.prototype,n.m=function(){if(C(this))return-x(this).m();for(var O=0,k=1,L=0;L<this.g.length;L++){var E=this.i(L);O+=(0<=E?E:4294967296+E)*k,k*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(b(this))return"0";if(C(this))return"-"+x(this).toString(O);for(var k=f(Math.pow(O,6)),L=this,E="";;){var N=j(L,k).g;L=D(L,N.j(k));var B=((0<L.g.length?L.g[0]:L.h)>>>0).toString(O);if(L=N,b(L))return B+E;for(;6>B.length;)B="0"+B;E=B+E}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function b(O){if(O.h!=0)return!1;for(var k=0;k<O.g.length;k++)if(O.g[k]!=0)return!1;return!0}function C(O){return O.h==-1}n.l=function(O){return O=D(this,O),C(O)?-1:b(O)?0:1};function x(O){for(var k=O.g.length,L=[],E=0;E<k;E++)L[E]=~O.g[E];return new l(L,~O.h).add(v)}n.abs=function(){return C(this)?x(this):this},n.add=function(O){for(var k=Math.max(this.g.length,O.g.length),L=[],E=0,N=0;N<=k;N++){var B=E+(this.i(N)&65535)+(O.i(N)&65535),F=(B>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);E=F>>>16,B&=65535,F&=65535,L[N]=F<<16|B}return new l(L,L[L.length-1]&-2147483648?-1:0)};function D(O,k){return O.add(x(k))}n.j=function(O){if(b(this)||b(O))return g;if(C(this))return C(O)?x(this).j(x(O)):x(x(this).j(O));if(C(O))return x(this.j(x(O)));if(0>this.l(I)&&0>O.l(I))return f(this.m()*O.m());for(var k=this.g.length+O.g.length,L=[],E=0;E<2*k;E++)L[E]=0;for(E=0;E<this.g.length;E++)for(var N=0;N<O.g.length;N++){var B=this.i(E)>>>16,F=this.i(E)&65535,ae=O.i(N)>>>16,le=O.i(N)&65535;L[2*E+2*N]+=F*le,U(L,2*E+2*N),L[2*E+2*N+1]+=B*le,U(L,2*E+2*N+1),L[2*E+2*N+1]+=F*ae,U(L,2*E+2*N+1),L[2*E+2*N+2]+=B*ae,U(L,2*E+2*N+2)}for(E=0;E<k;E++)L[E]=L[2*E+1]<<16|L[2*E];for(E=k;E<2*k;E++)L[E]=0;return new l(L,0)};function U(O,k){for(;(O[k]&65535)!=O[k];)O[k+1]+=O[k]>>>16,O[k]&=65535,k++}function M(O,k){this.g=O,this.h=k}function j(O,k){if(b(k))throw Error("division by zero");if(b(O))return new M(g,g);if(C(O))return k=j(x(O),k),new M(x(k.g),x(k.h));if(C(k))return k=j(O,x(k)),new M(x(k.g),k.h);if(30<O.g.length){if(C(O)||C(k))throw Error("slowDivide_ only works with positive integers.");for(var L=v,E=k;0>=E.l(O);)L=A(L),E=A(E);var N=z(L,1),B=z(E,1);for(E=z(E,2),L=z(L,2);!b(E);){var F=B.add(E);0>=F.l(O)&&(N=N.add(L),B=F),E=z(E,1),L=z(L,1)}return k=D(O,N.j(k)),new M(N,k)}for(N=g;0<=O.l(k);){for(L=Math.max(1,Math.floor(O.m()/k.m())),E=Math.ceil(Math.log(L)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),B=f(L),F=B.j(k);C(F)||0<F.l(O);)L-=E,B=f(L),F=B.j(k);b(B)&&(B=v),N=N.add(B),O=D(O,F)}return new M(N,O)}n.A=function(O){return j(this,O).h},n.and=function(O){for(var k=Math.max(this.g.length,O.g.length),L=[],E=0;E<k;E++)L[E]=this.i(E)&O.i(E);return new l(L,this.h&O.h)},n.or=function(O){for(var k=Math.max(this.g.length,O.g.length),L=[],E=0;E<k;E++)L[E]=this.i(E)|O.i(E);return new l(L,this.h|O.h)},n.xor=function(O){for(var k=Math.max(this.g.length,O.g.length),L=[],E=0;E<k;E++)L[E]=this.i(E)^O.i(E);return new l(L,this.h^O.h)};function A(O){for(var k=O.g.length+1,L=[],E=0;E<k;E++)L[E]=O.i(E)<<1|O.i(E-1)>>>31;return new l(L,O.h)}function z(O,k){var L=k>>5;k%=32;for(var E=O.g.length-L,N=[],B=0;B<E;B++)N[B]=0<k?O.i(B+L)>>>k|O.i(B+L+1)<<32-k:O.i(B+L);return new l(N,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,HC=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,Xa=l}).apply(typeof RT<"u"?RT:typeof self<"u"?self:typeof window<"u"?window:{});var Ip=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GC,Nd,KC,Wp,p_,QC,JC,YC;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,_,T){return h==Array.prototype||h==Object.prototype||(h[_]=T.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ip=="object"&&Ip];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function i(h,_){if(_)e:{var T=r;h=h.split(".");for(var V=0;V<h.length-1;V++){var Q=h[V];if(!(Q in T))break e;T=T[Q]}h=h[h.length-1],V=T[h],_=_(V),_!=V&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}function s(h,_){h instanceof String&&(h+="");var T=0,V=!1,Q={next:function(){if(!V&&T<h.length){var te=T++;return{value:_(te,h[te]),done:!1}}return V=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(h){return h||function(){return s(this,function(_,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(h){var _=typeof h;return _=_!="object"?_:h?Array.isArray(h)?"array":_:"null",_=="array"||_=="object"&&typeof h.length=="number"}function f(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,T){return h.call.apply(h.bind,arguments)}function g(h,_,T){if(!h)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,V),h.apply(_,Q)}}return function(){return h.apply(_,arguments)}}function v(h,_,T){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,v.apply(null,arguments)}function I(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var V=T.slice();return V.push.apply(V,arguments),h.apply(this,V)}}function b(h,_){function T(){}T.prototype=_.prototype,h.aa=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(V,Q,te){for(var Ce=Array(arguments.length-2),It=2;It<arguments.length;It++)Ce[It-2]=arguments[It];return _.prototype[Q].apply(V,Ce)}}function C(h){const _=h.length;if(0<_){const T=Array(_);for(let V=0;V<_;V++)T[V]=h[V];return T}return[]}function x(h,_){for(let T=1;T<arguments.length;T++){const V=arguments[T];if(d(V)){const Q=h.length||0,te=V.length||0;h.length=Q+te;for(let Ce=0;Ce<te;Ce++)h[Q+Ce]=V[Ce]}else h.push(V)}}class D{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function U(h){return/^[\s\xa0]*$/.test(h)}function M(){var h=u.navigator;return h&&(h=h.userAgent)?h:""}function j(h){return j[" "](h),h}j[" "]=function(){};var A=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function z(h,_,T){for(const V in h)_.call(T,h[V],V,h)}function O(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function k(h){const _={};for(const T in h)_[T]=h[T];return _}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(h,_){let T,V;for(let Q=1;Q<arguments.length;Q++){V=arguments[Q];for(T in V)h[T]=V[T];for(let te=0;te<L.length;te++)T=L[te],Object.prototype.hasOwnProperty.call(V,T)&&(h[T]=V[T])}}function N(h){var _=1;h=h.split(":");const T=[];for(;0<_&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function B(h){u.setTimeout(()=>{throw h},0)}function F(){var h=se;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class ae{constructor(){this.h=this.g=null}add(_,T){const V=le.get();V.set(_,T),this.h?this.h.next=V:this.g=V,this.h=V}}var le=new D(()=>new fe,h=>h.reset());class fe{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,ie=!1,se=new ae,ge=()=>{const h=u.Promise.resolve(void 0);Ee=()=>{h.then(q)}};var q=()=>{for(var h;h=F();){try{h.h.call(h.g)}catch(T){B(T)}var _=le;_.j(h),100>_.h&&(_.h++,h.next=_.g,_.g=h)}ie=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};u.addEventListener("test",T,_),u.removeEventListener("test",T,_)}catch{}return h}();function Se(h,_){if(_e.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,V=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget){if(A){e:{try{j(_.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(_=null)}}else T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement);this.relatedTarget=_,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Re[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Se.aa.h.call(this)}}b(Se,_e);var Re={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Te="closure_listenable_"+(1e6*Math.random()|0),Ne=0;function we(h,_,T,V,Q){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!V,this.ha=Q,this.key=++Ne,this.da=this.fa=!1}function G(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ue(h){this.src=h,this.g={},this.h=0}ue.prototype.add=function(h,_,T,V,Q){var te=h.toString();h=this.g[te],h||(h=this.g[te]=[],this.h++);var Ce=oe(h,_,V,Q);return-1<Ce?(_=h[Ce],T||(_.fa=!1)):(_=new we(_,this.src,te,!!V,Q),_.fa=T,h.push(_)),_};function re(h,_){var T=_.type;if(T in h.g){var V=h.g[T],Q=Array.prototype.indexOf.call(V,_,void 0),te;(te=0<=Q)&&Array.prototype.splice.call(V,Q,1),te&&(G(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function oe(h,_,T,V){for(var Q=0;Q<h.length;++Q){var te=h[Q];if(!te.da&&te.listener==_&&te.capture==!!T&&te.ha==V)return Q}return-1}var me="closure_lm_"+(1e6*Math.random()|0),ze={};function Ke(h,_,T,V,Q){if(Array.isArray(_)){for(var te=0;te<_.length;te++)Ke(h,_[te],T,V,Q);return null}return T=Kr(T),h&&h[Te]?h.K(_,T,f(V)?!!V.capture:!!V,Q):rt(h,_,T,!1,V,Q)}function rt(h,_,T,V,Q,te){if(!_)throw Error("Invalid event type");var Ce=f(Q)?!!Q.capture:!!Q,It=Or(h);if(It||(h[me]=It=new ue(h)),T=It.add(_,T,V,Ce,te),T.proxy)return T;if(V=at(),T.proxy=V,V.src=h,V.listener=T,h.addEventListener)be||(Q=Ce),Q===void 0&&(Q=!1),h.addEventListener(_.toString(),V,Q);else if(h.attachEvent)h.attachEvent(Et(_.toString()),V);else if(h.addListener&&h.removeListener)h.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return T}function at(){function h(T){return _.call(h.src,h.listener,T)}const _=$e;return h}function gt(h,_,T,V,Q){if(Array.isArray(_))for(var te=0;te<_.length;te++)gt(h,_[te],T,V,Q);else V=f(V)?!!V.capture:!!V,T=Kr(T),h&&h[Te]?(h=h.i,_=String(_).toString(),_ in h.g&&(te=h.g[_],T=oe(te,T,V,Q),-1<T&&(G(te[T]),Array.prototype.splice.call(te,T,1),te.length==0&&(delete h.g[_],h.h--)))):h&&(h=Or(h))&&(_=h.g[_.toString()],h=-1,_&&(h=oe(_,T,V,Q)),(T=-1<h?_[h]:null)&&bt(T))}function bt(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Te])re(_.i,h);else{var T=h.type,V=h.proxy;_.removeEventListener?_.removeEventListener(T,V,h.capture):_.detachEvent?_.detachEvent(Et(T),V):_.addListener&&_.removeListener&&_.removeListener(V),(T=Or(_))?(re(T,h),T.h==0&&(T.src=null,_[me]=null)):G(h)}}}function Et(h){return h in ze?ze[h]:ze[h]="on"+h}function $e(h,_){if(h.da)h=!0;else{_=new Se(_,this);var T=h.listener,V=h.ha||h.src;h.fa&&bt(h),h=T.call(V,_)}return h}function Or(h){return h=h[me],h instanceof ue?h:null}var fn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kr(h){return typeof h=="function"?h:(h[fn]||(h[fn]=function(_){return h.handleEvent(_)}),h[fn])}function Dt(){Z.call(this),this.i=new ue(this),this.M=this,this.F=null}b(Dt,Z),Dt.prototype[Te]=!0,Dt.prototype.removeEventListener=function(h,_,T,V){gt(this,h,_,T,V)};function Ot(h,_){var T,V=h.F;if(V)for(T=[];V;V=V.F)T.push(V);if(h=h.M,V=_.type||_,typeof _=="string")_=new _e(_,h);else if(_ instanceof _e)_.target=_.target||h;else{var Q=_;_=new _e(V,h),E(_,Q)}if(Q=!0,T)for(var te=T.length-1;0<=te;te--){var Ce=_.g=T[te];Q=Jn(Ce,V,!0,_)&&Q}if(Ce=_.g=h,Q=Jn(Ce,V,!0,_)&&Q,Q=Jn(Ce,V,!1,_)&&Q,T)for(te=0;te<T.length;te++)Ce=_.g=T[te],Q=Jn(Ce,V,!1,_)&&Q}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var h=this.i,_;for(_ in h.g){for(var T=h.g[_],V=0;V<T.length;V++)G(T[V]);delete h.g[_],h.h--}}this.F=null},Dt.prototype.K=function(h,_,T,V){return this.i.add(String(h),_,!1,T,V)},Dt.prototype.L=function(h,_,T,V){return this.i.add(String(h),_,!0,T,V)};function Jn(h,_,T,V){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();for(var Q=!0,te=0;te<_.length;++te){var Ce=_[te];if(Ce&&!Ce.da&&Ce.capture==T){var It=Ce.listener,xn=Ce.ha||Ce.src;Ce.fa&&re(h.i,Ce),Q=It.call(xn,V)!==!1&&Q}}return Q&&!V.defaultPrevented}function Qr(h,_,T){if(typeof h=="function")T&&(h=v(h,T));else if(h&&typeof h.handleEvent=="function")h=v(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:u.setTimeout(h,_||0)}function Yn(h){h.g=Qr(()=>{h.g=null,h.i&&(h.i=!1,Yn(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class ft extends Z{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Yn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vr(h){Z.call(this),this.h=h,this.g={}}b(vr,Z);var hi=[];function so(h){z(h.g,function(_,T){this.g.hasOwnProperty(T)&&bt(_)},h),h.g={}}vr.prototype.N=function(){vr.aa.N.call(this),so(this)},vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var We=u.JSON.stringify,yt=u.JSON.parse,Gt=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function _r(){}_r.prototype.h=null;function vs(h){return h.h||(h.h=h.i())}function Il(){}var Jr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Li(){_e.call(this,"d")}b(Li,_e);function Sl(){_e.call(this,"c")}b(Sl,_e);var Vi={},Tc=null;function ca(){return Tc=Tc||new Dt}Vi.La="serverreachability";function bc(h){_e.call(this,Vi.La,h)}b(bc,_e);function _s(h){const _=ca();Ot(_,new bc(_))}Vi.STAT_EVENT="statevent";function Rc(h,_){_e.call(this,Vi.STAT_EVENT,h),this.stat=_}b(Rc,_e);function pn(h){const _=ca();Ot(_,new Rc(_,h))}Vi.Ma="timingevent";function Tl(h,_){_e.call(this,Vi.Ma,h),this.size=_}b(Tl,_e);function fi(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function da(){this.g=!0}da.prototype.xa=function(){this.g=!1};function ha(h,_,T,V,Q,te){h.info(function(){if(h.g)if(te)for(var Ce="",It=te.split("&"),xn=0;xn<It.length;xn++){var ut=It[xn].split("=");if(1<ut.length){var Dn=ut[0];ut=ut[1];var En=Dn.split("_");Ce=2<=En.length&&En[1]=="type"?Ce+(Dn+"="+ut+"&"):Ce+(Dn+"=redacted&")}}else Ce=null;else Ce=te;return"XMLHTTP REQ ("+V+") [attempt "+Q+"]: "+_+`
`+T+`
`+Ce})}function bl(h,_,T,V,Q,te,Ce){h.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+Q+"]: "+_+`
`+T+`
`+te+" "+Ce})}function pi(h,_,T,V){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Wg(h,T)+(V?" "+V:"")})}function Cc(h,_){h.info(function(){return"TIMEOUT: "+_})}da.prototype.info=function(){};function Wg(h,_){if(!h.g)return _;if(!_)return null;try{var T=JSON.parse(_);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var V=T[h];if(!(2>V.length)){var Q=V[1];if(Array.isArray(Q)&&!(1>Q.length)){var te=Q[0];if(te!="noop"&&te!="stop"&&te!="close")for(var Ce=1;Ce<Q.length;Ce++)Q[Ce]=""}}}}return We(T)}catch{return _}}var Rl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mi;function fa(){}b(fa,_r),fa.prototype.g=function(){return new XMLHttpRequest},fa.prototype.i=function(){return{}},mi=new fa;function gi(h,_,T,V){this.j=h,this.i=_,this.l=T,this.R=V||1,this.U=new vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rf}function rf(){this.i=null,this.g="",this.h=!1}var xc={},Cl={};function xl(h,_,T){h.L=1,h.v=co(Lr(_)),h.m=T,h.P=!0,Ac(h,null)}function Ac(h,_){h.F=Date.now(),Pt(h),h.A=Lr(h.v);var T=h.A,V=h.R;Array.isArray(V)||(V=[String(V)]),fo(T.i,"t",V),h.C=0,T=h.j.J,h.h=new rf,h.g=If(h.j,T?_:null,!h.m),0<h.O&&(h.M=new ft(v(h.Y,h,h.g),h.O)),_=h.U,T=h.g,V=h.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(hi[0]=Q.toString()),Q=hi);for(var te=0;te<Q.length;te++){var Ce=Ke(T,Q[te],V||_.handleEvent,!1,_.h||_);if(!Ce)break;_.g[Ce.key]=Ce}_=h.H?k(h.H):{},h.m?(h.u||(h.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,_)):(h.u="GET",h.g.ea(h.A,h.u,null,_)),_s(),ha(h.i,h.u,h.A,h.l,h.R,h.m)}gi.prototype.ca=function(h){h=h.target;const _=this.M;_&&Er(h)==3?_.j():this.Y(h)},gi.prototype.Y=function(h){try{if(h==this.g)e:{const En=Er(this.g);var _=this.g.Ba();const Zr=this.g.Z();if(!(3>En)&&(En!=3||this.g&&(this.h.h||this.g.oa()||Mc(this.g)))){this.J||En!=4||_==7||(_==8||0>=Zr?_s(3):_s(2)),pa(this);var T=this.g.Z();this.X=T;t:if(sf(this)){var V=Mc(this.g);h="";var Q=V.length,te=Er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yr(this),oo(this);var Ce="";break t}this.h.i=new u.TextDecoder}for(_=0;_<Q;_++)this.h.h=!0,h+=this.h.i.decode(V[_],{stream:!(te&&_==Q-1)});V.length=0,this.h.g+=h,this.C=0,Ce=this.h.g}else Ce=this.g.oa();if(this.o=T==200,bl(this.i,this.u,this.A,this.l,this.R,En,T),this.o){if(this.T&&!this.K){t:{if(this.g){var It,xn=this.g;if((It=xn.g?xn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(It)){var ut=It;break t}}ut=null}if(T=ut)pi(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pc(this,T);else{this.o=!1,this.s=3,pn(12),Yr(this),oo(this);break e}}if(this.P){T=!0;let Fr;for(;!this.J&&this.C<Ce.length;)if(Fr=qg(this,Ce),Fr==Cl){En==4&&(this.s=4,pn(14),T=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(Fr==xc){this.s=4,pn(15),pi(this.i,this.l,Ce,"[Invalid Chunk]"),T=!1;break}else pi(this.i,this.l,Fr,null),Pc(this,Fr);if(sf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),En!=4||Ce.length!=0||this.h.h||(this.s=1,pn(16),T=!1),this.o=this.o&&T,!T)pi(this.i,this.l,Ce,"[Invalid Chunked Response]"),Yr(this),oo(this);else if(0<Ce.length&&!this.W){this.W=!0;var Dn=this.j;Dn.g==this&&Dn.ba&&!Dn.M&&(Dn.j.info("Great, no buffering proxy detected. Bytes received: "+Ce.length),Vc(Dn),Dn.M=!0,pn(11))}}else pi(this.i,this.l,Ce,null),Pc(this,Ce);En==4&&Yr(this),this.o&&!this.J&&(En==4?jl(this.j,this):(this.o=!1,Pt(this)))}else Ol(this.g),T==400&&0<Ce.indexOf("Unknown SID")?(this.s=3,pn(12)):(this.s=0,pn(13)),Yr(this),oo(this)}}}catch{}finally{}};function sf(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function qg(h,_){var T=h.C,V=_.indexOf(`
`,T);return V==-1?Cl:(T=Number(_.substring(T,V)),isNaN(T)?xc:(V+=1,V+T>_.length?Cl:(_=_.slice(V,V+T),h.C=V+T,_)))}gi.prototype.cancel=function(){this.J=!0,Yr(this)};function Pt(h){h.S=Date.now()+h.I,of(h,h.I)}function of(h,_){if(h.B!=null)throw Error("WatchDog timer not null");h.B=fi(v(h.ba,h),_)}function pa(h){h.B&&(u.clearTimeout(h.B),h.B=null)}gi.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Cc(this.i,this.A),this.L!=2&&(_s(),pn(17)),Yr(this),this.s=2,oo(this)):of(this,this.S-h)};function oo(h){h.j.G==0||h.J||jl(h.j,h)}function Yr(h){pa(h);var _=h.M;_&&typeof _.ma=="function"&&_.ma(),h.M=null,so(h.U),h.g&&(_=h.g,h.g=null,_.abort(),_.ma())}function Pc(h,_){try{var T=h.j;if(T.G!=0&&(T.g==h||ur(T.h,h))){if(!h.K&&ur(T.h,h)&&T.G==3){try{var V=T.Da.g.parse(_)}catch{V=null}if(Array.isArray(V)&&V.length==3){var Q=V;if(Q[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)Fl(T),Ei(T);else break e;Vl(T),pn(18)}}else T.za=Q[1],0<T.za-T.T&&37500>Q[2]&&T.F&&T.v==0&&!T.C&&(T.C=fi(v(T.Za,T),6e3));if(1>=lf(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ts(T,11)}else if((h.K||T.g==h)&&Fl(T),!U(_))for(Q=T.Da.g.parse(_),_=0;_<Q.length;_++){let ut=Q[_];if(T.T=ut[0],ut=ut[1],T.G==2)if(ut[0]=="c"){T.K=ut[1],T.ia=ut[2];const Dn=ut[3];Dn!=null&&(T.la=Dn,T.j.info("VER="+T.la));const En=ut[4];En!=null&&(T.Aa=En,T.j.info("SVER="+T.Aa));const Zr=ut[5];Zr!=null&&typeof Zr=="number"&&0<Zr&&(V=1.5*Zr,T.L=V,T.j.info("backChannelRequestTimeoutMs_="+V)),V=T;const Fr=h.g;if(Fr){const Ea=Fr.g?Fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ea){var te=V.h;te.g||Ea.indexOf("spdy")==-1&&Ea.indexOf("quic")==-1&&Ea.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(kc(te,te.h),te.h=null))}if(V.D){const Bl=Fr.g?Fr.g.getResponseHeader("X-HTTP-Session-Id"):null;Bl&&(V.ya=Bl,Ct(V.I,V.D,Bl))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),V=T;var Ce=h;if(V.qa=Ef(V,V.J?V.ia:null,V.W),Ce.K){uf(V.h,Ce);var It=Ce,xn=V.L;xn&&(It.I=xn),It.B&&(pa(It),Pt(It)),V.g=Ce}else wa(V);0<T.i.length&&Bi(T)}else ut[0]!="stop"&&ut[0]!="close"||Ts(T,7);else T.G==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?Ts(T,7):$n(T):ut[0]!="noop"&&T.l&&T.l.ta(ut),T.v=0)}}_s(4)}catch{}}var af=class{constructor(h,_){this.g=h,this.map=_}};function ma(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mr(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function lf(h){return h.h?1:h.g?h.g.size:0}function ur(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function kc(h,_){h.g?h.g.add(_):h.h=_}function uf(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}ma.prototype.cancel=function(){if(this.i=cf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function cf(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.D);return _}return C(h.i)}function Al(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var _=[],T=h.length,V=0;V<T;V++)_.push(h[V]);return _}_=[],T=0;for(V in h)_[T++]=h[V];return _}function Pl(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var _=[];h=h.length;for(var T=0;T<h;T++)_.push(T);return _}_=[],T=0;for(const V in h)_[T++]=V;return _}}}function ao(h,_){if(h.forEach&&typeof h.forEach=="function")h.forEach(_,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,_,void 0);else for(var T=Pl(h),V=Al(h),Q=V.length,te=0;te<Q;te++)_.call(void 0,V[te],T&&T[te],h)}var ga=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hg(h,_){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var V=h[T].indexOf("="),Q=null;if(0<=V){var te=h[T].substring(0,V);Q=h[T].substring(V+1)}else te=h[T];_(te,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function ws(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof ws){this.h=h.h,ya(this,h.j),this.o=h.o,this.g=h.g,lo(this,h.s),this.l=h.l;var _=h.i,T=new Fi;T.i=_.i,_.g&&(T.g=new Map(_.g),T.h=_.h),uo(this,T),this.m=h.m}else h&&(_=String(h).match(ga))?(this.h=!1,ya(this,_[1]||"",!0),this.o=lt(_[2]||""),this.g=lt(_[3]||"",!0),lo(this,_[4]),this.l=lt(_[5]||"",!0),uo(this,_[6]||"",!0),this.m=lt(_[7]||"")):(this.h=!1,this.i=new Fi(null,this.h))}ws.prototype.toString=function(){var h=[],_=this.j;_&&h.push(ho(_,kl,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(ho(_,kl,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(ho(T,T.charAt(0)=="/"?ff:hf,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",ho(T,Nc)),h.join("")};function Lr(h){return new ws(h)}function ya(h,_,T){h.j=T?lt(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function lo(h,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);h.s=_}else h.s=null}function uo(h,_,T){_ instanceof Fi?(h.i=_,ji(h.i,h.h)):(T||(_=ho(_,pf)),h.i=new Fi(_,h.h))}function Ct(h,_,T){h.i.set(_,T)}function co(h){return Ct(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function lt(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ho(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,df),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function df(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var kl=/[#\/\?@]/g,hf=/[#\?:]/g,ff=/[#\?]/g,pf=/[#\?@]/g,Nc=/#/g;function Fi(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Bn(h){h.g||(h.g=new Map,h.h=0,h.i&&Hg(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}n=Fi.prototype,n.add=function(h,_){Bn(this),this.i=null,h=Xr(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function yi(h,_){Bn(h),_=Xr(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function vi(h,_){return Bn(h),_=Xr(h,_),h.g.has(_)}n.forEach=function(h,_){Bn(this),this.g.forEach(function(T,V){T.forEach(function(Q){h.call(_,Q,V,this)},this)},this)},n.na=function(){Bn(this);const h=Array.from(this.g.values()),_=Array.from(this.g.keys()),T=[];for(let V=0;V<_.length;V++){const Q=h[V];for(let te=0;te<Q.length;te++)T.push(_[V])}return T},n.V=function(h){Bn(this);let _=[];if(typeof h=="string")vi(this,h)&&(_=_.concat(this.g.get(Xr(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)_=_.concat(h[T])}return _},n.set=function(h,_){return Bn(this),this.i=null,h=Xr(this,h),vi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},n.get=function(h,_){return h?(h=this.V(h),0<h.length?String(h[0]):_):_};function fo(h,_,T){yi(h,_),0<T.length&&(h.i=null,h.g.set(Xr(h,_),C(T)),h.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(var T=0;T<_.length;T++){var V=_[T];const te=encodeURIComponent(String(V)),Ce=this.V(V);for(V=0;V<Ce.length;V++){var Q=te;Ce[V]!==""&&(Q+="="+encodeURIComponent(String(Ce[V]))),h.push(Q)}}return this.i=h.join("&")};function Xr(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function ji(h,_){_&&!h.j&&(Bn(h),h.i=null,h.g.forEach(function(T,V){var Q=V.toLowerCase();V!=Q&&(yi(this,V),fo(this,Q,T))},h)),h.j=_}function Gg(h,_){const T=new da;if(u.Image){const V=new Image;V.onload=I(wr,T,"TestLoadImage: loaded",!0,_,V),V.onerror=I(wr,T,"TestLoadImage: error",!1,_,V),V.onabort=I(wr,T,"TestLoadImage: abort",!1,_,V),V.ontimeout=I(wr,T,"TestLoadImage: timeout",!1,_,V),u.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=h}else _(!1)}function mf(h,_){const T=new da,V=new AbortController,Q=setTimeout(()=>{V.abort(),wr(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:V.signal}).then(te=>{clearTimeout(Q),te.ok?wr(T,"TestPingServer: ok",!0,_):wr(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),wr(T,"TestPingServer: error",!1,_)})}function wr(h,_,T,V,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),V(T)}catch{}}function Kg(){this.g=new Gt}function gf(h,_,T){const V=T||"";try{ao(h,function(Q,te){let Ce=Q;f(Q)&&(Ce=We(Q)),_.push(V+te+"="+encodeURIComponent(Ce))})}catch(Q){throw _.push(V+"type="+encodeURIComponent("_badmap")),Q}}function Es(h){this.l=h.Ub||null,this.j=h.eb||!1}b(Es,_r),Es.prototype.g=function(){return new va(this.l,this.j)},Es.prototype.i=function(h){return function(){return h}}({});function va(h,_){Dt.call(this),this.D=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(va,Dt),n=va.prototype,n.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=_,this.readyState=1,wi(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(_.body=h),(this.D||u).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_i(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yf(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function yf(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?_i(this):wi(this),this.readyState==3&&yf(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,_i(this))},n.Qa=function(h){this.g&&(this.response=h,_i(this))},n.ga=function(){this.g&&_i(this)};function _i(h){h.readyState=4,h.l=null,h.j=null,h.v=null,wi(h)}n.setRequestHeader=function(h,_){this.u.append(h,_)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function wi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(va.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Is(h){let _="";return z(h,function(T,V){_+=V,_+=":",_+=T,_+=`\r
`}),_}function po(h,_,T){e:{for(V in T){var V=!1;break e}V=!0}V||(T=Is(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):Ct(h,_,T))}function Ft(h){Dt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Ft,Dt);var Qg=/^https?$/i,Dc=["POST","PUT"];n=Ft.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,_,T,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mi.g(),this.v=this.o?vs(this.o):vs(mi),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(te){_a(this,te);return}if(h=T||"",T=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var Q in V)T.set(Q,V[Q]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const te of V.keys())T.set(te,V.get(te));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(T.keys()).find(te=>te.toLowerCase()=="content-type"),Q=u.FormData&&h instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Dc,_,void 0))||V||Q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,Ce]of T)this.g.setRequestHeader(te,Ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Dl(this),this.u=!0,this.g.send(h),this.u=!1}catch(te){_a(this,te)}};function _a(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.m=5,Nl(h),Vr(h)}function Nl(h){h.A||(h.A=!0,Ot(h,"complete"),Ot(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ot(this,"complete"),Ot(this,"abort"),Vr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vr(this,!0)),Ft.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Oc(this):this.bb())},n.bb=function(){Oc(this)};function Oc(h){if(h.h&&typeof l<"u"&&(!h.v[1]||Er(h)!=4||h.Z()!=2)){if(h.u&&Er(h)==4)Qr(h.Ea,0,h);else if(Ot(h,"readystatechange"),Er(h)==4){h.h=!1;try{const Ce=h.Z();e:switch(Ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var V;if(V=Ce===0){var Q=String(h.D).match(ga)[1]||null;!Q&&u.self&&u.self.location&&(Q=u.self.location.protocol.slice(0,-1)),V=!Qg.test(Q?Q.toLowerCase():"")}T=V}if(T)Ot(h,"complete"),Ot(h,"success");else{h.m=6;try{var te=2<Er(h)?h.g.statusText:""}catch{te=""}h.l=te+" ["+h.Z()+"]",Nl(h)}}finally{Vr(h)}}}}function Vr(h,_){if(h.g){Dl(h);const T=h.g,V=h.v[0]?()=>{}:null;h.g=null,h.v=null,_||Ot(h,"ready");try{T.onreadystatechange=V}catch{}}}function Dl(h){h.I&&(u.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Er(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Er(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),yt(_)}};function Mc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ol(h){const _={};h=(h.g&&2<=Er(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<h.length;V++){if(U(h[V]))continue;var T=N(h[V]);const Q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const te=_[Q]||[];_[Q]=te,te.push(T)}O(_,function(V){return V.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ui(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function Lc(h){this.Aa=0,this.i=[],this.j=new da,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ui("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ui("baseRetryDelayMs",5e3,h),this.cb=Ui("retryDelaySeedMs",1e4,h),this.Wa=Ui("forwardChannelMaxRetries",2,h),this.wa=Ui("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new ma(h&&h.concurrentRequestLimit),this.Da=new Kg,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Lc.prototype,n.la=8,n.G=1,n.connect=function(h,_,T,V){pn(0),this.W=h,this.H=_||{},T&&V!==void 0&&(this.H.OSID=T,this.H.OAID=V),this.F=this.X,this.I=Ef(this,null,this.W),Bi(this)};function $n(h){if(Ml(h),h.G==3){var _=h.U++,T=Lr(h.I);if(Ct(T,"SID",h.K),Ct(T,"RID",_),Ct(T,"TYPE","terminate"),Ss(h,T),_=new gi(h,h.j,_),_.L=2,_.v=co(Lr(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(_.v.toString(),"")}catch{}!T&&u.Image&&(new Image().src=_.v,T=!0),T||(_.g=If(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Pt(_)}wf(h)}function Ei(h){h.g&&(Vc(h),h.g.cancel(),h.g=null)}function Ml(h){Ei(h),h.u&&(u.clearTimeout(h.u),h.u=null),Fl(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&u.clearTimeout(h.s),h.s=null)}function Bi(h){if(!Mr(h.h)&&!h.s){h.s=!0;var _=h.Ga;Ee||ge(),ie||(Ee(),ie=!0),se.add(_,h),h.B=0}}function Jg(h,_){return lf(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=_.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=fi(v(h.Ga,h,_),_f(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Q=new gi(this,this.j,h);let te=this.o;if(this.S&&(te?(te=k(te),E(te,this.S)):te=this.S),this.m!==null||this.O||(Q.H=te,te=null),this.P)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var V=this.i[T];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(_+=V,4096<_){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=mo(this,Q,_),T=Lr(this.I),Ct(T,"RID",h),Ct(T,"CVER",22),this.D&&Ct(T,"X-HTTP-Session-Id",this.D),Ss(this,T),te&&(this.O?_="headers="+encodeURIComponent(String(Is(te)))+"&"+_:this.m&&po(T,this.m,te)),kc(this.h,Q),this.Ua&&Ct(T,"TYPE","init"),this.P?(Ct(T,"$req",_),Ct(T,"SID","null"),Q.T=!0,xl(Q,T,null)):xl(Q,T,_),this.G=2}}else this.G==3&&(h?Ll(this,h):this.i.length==0||Mr(this.h)||Ll(this))};function Ll(h,_){var T;_?T=_.l:T=h.U++;const V=Lr(h.I);Ct(V,"SID",h.K),Ct(V,"RID",T),Ct(V,"AID",h.T),Ss(h,V),h.m&&h.o&&po(V,h.m,h.o),T=new gi(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),_&&(h.i=_.D.concat(h.i)),_=mo(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),kc(h.h,T),xl(T,V,_)}function Ss(h,_){h.H&&z(h.H,function(T,V){Ct(_,V,T)}),h.l&&ao({},function(T,V){Ct(_,V,T)})}function mo(h,_,T){T=Math.min(h.i.length,T);var V=h.l?v(h.l.Na,h.l,h):null;e:{var Q=h.i;let te=-1;for(;;){const Ce=["count="+T];te==-1?0<T?(te=Q[0].g,Ce.push("ofs="+te)):te=0:Ce.push("ofs="+te);let It=!0;for(let xn=0;xn<T;xn++){let ut=Q[xn].g;const Dn=Q[xn].map;if(ut-=te,0>ut)te=Math.max(0,Q[xn].g-100),It=!1;else try{gf(Dn,Ce,"req"+ut+"_")}catch{V&&V(Dn)}}if(It){V=Ce.join("&");break e}}}return h=h.i.splice(0,T),_.D=h,V}function wa(h){if(!h.g&&!h.u){h.Y=1;var _=h.Fa;Ee||ge(),ie||(Ee(),ie=!0),se.add(_,h),h.v=0}}function Vl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=fi(v(h.Fa,h),_f(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,vf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=fi(v(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pn(10),Ei(this),vf(this))};function Vc(h){h.A!=null&&(u.clearTimeout(h.A),h.A=null)}function vf(h){h.g=new gi(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var _=Lr(h.qa);Ct(_,"RID","rpc"),Ct(_,"SID",h.K),Ct(_,"AID",h.T),Ct(_,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ct(_,"TO",h.ja),Ct(_,"TYPE","xmlhttp"),Ss(h,_),h.m&&h.o&&po(_,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=co(Lr(_)),T.m=null,T.P=!0,Ac(T,h)}n.Za=function(){this.C!=null&&(this.C=null,Ei(this),Vl(this),pn(19))};function Fl(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function jl(h,_){var T=null;if(h.g==_){Fl(h),Vc(h),h.g=null;var V=2}else if(ur(h.h,_))T=_.D,uf(h.h,_),V=1;else return;if(h.G!=0){if(_.o)if(V==1){T=_.m?_.m.length:0,_=Date.now()-_.F;var Q=h.B;V=ca(),Ot(V,new Tl(V,T)),Bi(h)}else wa(h);else if(Q=_.s,Q==3||Q==0&&0<_.X||!(V==1&&Jg(h,_)||V==2&&Vl(h)))switch(T&&0<T.length&&(_=h.h,_.i=_.i.concat(T)),Q){case 1:Ts(h,5);break;case 4:Ts(h,10);break;case 3:Ts(h,6);break;default:Ts(h,2)}}}function _f(h,_){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*_}function Ts(h,_){if(h.j.info("Error code "+_),_==2){var T=v(h.fb,h),V=h.Xa;const Q=!V;V=new ws(V||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ya(V,"https"),co(V),Q?Gg(V.toString(),T):mf(V.toString(),T)}else pn(2);h.G=0,h.l&&h.l.sa(_),wf(h),Ml(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),pn(2)):(this.j.info("Failed to ping google.com"),pn(1))};function wf(h){if(h.G=0,h.ka=[],h.l){const _=cf(h.h);(_.length!=0||h.i.length!=0)&&(x(h.ka,_),x(h.ka,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.ra()}}function Ef(h,_,T){var V=T instanceof ws?Lr(T):new ws(T);if(V.g!="")_&&(V.g=_+"."+V.g),lo(V,V.s);else{var Q=u.location;V=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;var te=new ws(null);V&&ya(te,V),_&&(te.g=_),Q&&lo(te,Q),T&&(te.l=T),V=te}return T=h.D,_=h.ya,T&&_&&Ct(V,T,_),Ct(V,"VER",h.la),Ss(h,V),V}function If(h,_,T){if(_&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Ca&&!h.pa?new Ft(new Es({eb:T})):new Ft(h.pa),_.Ha(h.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fc(){}n=Fc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ul(){}Ul.prototype.g=function(h,_){return new cr(h,_)};function cr(h,_){Dt.call(this),this.g=new Lc(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(h?h["X-WebChannel-Client-Profile"]=_.va:h={"X-WebChannel-Client-Profile":_.va}),this.g.S=h,(h=_&&_.Sb)&&!U(h)&&(this.g.m=h),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!U(_)&&(this.g.D=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new $i(this)}b(cr,Dt),cr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cr.prototype.close=function(){$n(this.g)},cr.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=We(h),h=T);_.i.push(new af(_.Ya++,h)),_.G==3&&Bi(_)},cr.prototype.N=function(){this.g.l=null,delete this.j,$n(this.g),delete this.g,cr.aa.N.call(this)};function Sf(h){Li.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}b(Sf,Li);function Tf(){Sl.call(this),this.status=1}b(Tf,Sl);function $i(h){this.g=h}b($i,Fc),$i.prototype.ua=function(){Ot(this.g,"a")},$i.prototype.ta=function(h){Ot(this.g,new Sf(h))},$i.prototype.sa=function(h){Ot(this.g,new Tf)},$i.prototype.ra=function(){Ot(this.g,"b")},Ul.prototype.createWebChannel=Ul.prototype.g,cr.prototype.send=cr.prototype.o,cr.prototype.open=cr.prototype.m,cr.prototype.close=cr.prototype.close,YC=function(){return new Ul},JC=function(){return ca()},QC=Vi,p_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rl.NO_ERROR=0,Rl.TIMEOUT=8,Rl.HTTP_ERROR=6,Wp=Rl,nf.COMPLETE="complete",KC=nf,Il.EventType=Jr,Jr.OPEN="a",Jr.CLOSE="b",Jr.ERROR="c",Jr.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,Nd=Il,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,GC=Ft}).apply(typeof Ip<"u"?Ip:typeof self<"u"?self:typeof window<"u"?window:{});const CT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Fn.UNAUTHENTICATED=new Fn(null),Fn.GOOGLE_CREDENTIALS=new Fn("google-credentials-uid"),Fn.FIRST_PARTY=new Fn("first-party-uid"),Fn.MOCK_USER=new Fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new Bm("@firebase/firestore");function wu(){return Go.logLevel}function aj(n){Go.setLogLevel(n)}function he(n,...e){if(Go.logLevel<=nt.DEBUG){const t=e.map($0);Go.debug(`Firestore (${hc}): ${n}`,...t)}}function yn(n,...e){if(Go.logLevel<=nt.ERROR){const t=e.map($0);Go.error(`Firestore (${hc}): ${n}`,...t)}}function fs(n,...e){if(Go.logLevel<=nt.WARN){const t=e.map($0);Go.warn(`Firestore (${hc}): ${n}`,...t)}}function $0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n="Unexpected state"){const e=`FIRESTORE (${hc}) INTERNAL ASSERTION FAILED: `+n;throw yn(e),new Error(e)}function Me(n,e){n||ke()}function lj(n,e){n||ke()}function Ae(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends sr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Fn.UNAUTHENTICATED))}shutdown(){}}class cj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class dj{constructor(e){this.t=e,this.currentUser=Fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Me(this.o===void 0);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let s=new Kn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Kn,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=s;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},u=d=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Kn)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string"),new XC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new Fn(e)}}class hj{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Fn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class fj{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new hj(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mj{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Me(this.o===void 0);const r=s=>{s.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.R;return this.R=s.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Me(typeof t.token=="string"),this.R=t.token,new pj(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=gj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Je(n,e){return n<e?-1:n>e?1:0}function $u(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function ex(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{static now(){return qt.fromMillis(Date.now())}static fromDate(e){return qt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new qt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new qt(0,0))}static max(){return new Be(new qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,t,r){t===void 0?t=0:t>e.length&&ke(),r===void 0?r=e.length-t:r>e.length-t&&ke(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return lh.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof lh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),l=t.get(i);if(s<l)return-1;if(s>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class it extends lh{construct(e,t,r){return new it(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new it(t)}static emptyPath(){return new it([])}}const yj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends lh{construct(e,t,r){return new $t(e,t,r)}static isValidIdentifier(e){return yj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new $t(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ce(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ce(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(s(),i++)}if(s(),l)throw new ce(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(t)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(it.fromString(e))}static fromName(e){return new xe(it.fromString(e).popFirst(5))}static empty(){return new xe(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new it(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function m_(n){return n.fields.find(e=>e.kind===2)}function Va(n){return n.fields.filter(e=>e.kind!==2)}fm.UNKNOWN_ID=-1;class qp{constructor(e,t){this.fieldPath=e,this.kind=t}}class uh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new uh(0,Gr.min())}}function tx(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Be.fromTimestamp(r===1e9?new qt(t+1,0):new qt(t,r));return new Gr(i,xe.empty(),e)}function nx(n){return new Gr(n.readTime,n.key,-1)}class Gr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Gr(Be.min(),xe.empty(),-1)}static max(){return new Gr(Be.max(),xe.empty(),-1)}}function z0(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=xe.comparator(n.documentKey,e.documentKey),t!==0?t:Je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ix{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==rx)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):K.reject(t)}static resolve(e){return new K((t,r)=>{t(e)})}static reject(e){return new K((t,r)=>{r(e)})}static waitFor(e){return new K((t,r)=>{let i=0,s=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++s,l&&s===i&&t()},d=>r(d))}),l=!0,s===i&&t()})}static or(e){let t=K.resolve(!1);for(const r of e)t=t.next(i=>i?K.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new K((r,i)=>{const s=e.length,l=new Array(s);let u=0;for(let d=0;d<s;d++){const f=d;t(e[f]).next(m=>{l[f]=m,++u,u===s&&r(l)},m=>i(m))}})}static doWhile(e,t){return new K((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{static open(e,t,r,i){try{return new tg(t,e.transaction(i,r))}catch(s){throw new Wd(t,s)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Kn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Wd(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=W0(r.target.error);this.V.reject(new Wd(e,i))}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(he("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new _j(t)}}class us{static delete(e){return he("SimpleDb","Removing database:",e),Ua(window.indexedDB.deleteDatabase(e)).toPromise()}static p(){if(!nh())return!1;if(us.S())return!0;const e=Yt(),t=us.D(e),r=0<t&&t<10,i=sx(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static S(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static C(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.F=r,us.D(Yt())===12.2&&yn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async M(e){return this.db||(he("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const l=s.target.result;t(l)},i.onblocked=()=>{r(new Wd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const l=s.target.error;l.name==="VersionError"?r(new ce(ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new ce(ee.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new Wd(e,l))},i.onupgradeneeded=s=>{he("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const l=s.target.result;this.F.O(l,i.transaction,s.oldVersion,this.version).next(()=>{he("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=t=>this.N(t)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const s=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.M(e);const u=tg.open(this.db,e,s?"readonly":"readwrite",r),d=i(u).next(f=>(u.g(),f)).catch(f=>(u.abort(f),K.reject(f))).toPromise();return d.catch(()=>{}),await u.m,d}catch(u){const d=u,f=d.name!=="FirebaseError"&&l<3;if(he("SimpleDb","Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function sx(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class vj{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Ua(this.B.delete())}}class Wd extends ce{constructor(e,t){super(ee.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function aa(n){return n.name==="IndexedDbTransactionError"}class _j{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(he("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(he("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ua(r)}add(e){return he("SimpleDb","ADD",this.store.name,e,e),Ua(this.store.add(e))}get(e){return Ua(this.store.get(e)).next(t=>(t===void 0&&(t=null),he("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return he("SimpleDb","DELETE",this.store.name,e),Ua(this.store.delete(e))}count(){return he("SimpleDb","COUNT",this.store.name),Ua(this.store.count())}U(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new K((l,u)=>{s.onerror=d=>{u(d.target.error)},s.onsuccess=d=>{l(d.target.result)}})}{const s=this.cursor(r),l=[];return this.W(s,(u,d)=>{l.push(d)}).next(()=>l)}}G(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new K((i,s)=>{r.onerror=l=>{s(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}j(e,t){he("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const i=this.cursor(r);return this.W(i,(s,l,u)=>u.delete())}J(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Y(e){const t=this.cursor({});return new K((r,i)=>{t.onerror=s=>{const l=W0(s.target.error);i(l)},t.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next(u=>{u?l.continue():r()}):r()}})}W(e,t){const r=[];return new K((i,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void i();const d=new vj(u),f=t(u.primaryKey,u.value,d);if(f instanceof K){const m=f.catch(g=>(d.done(),K.reject(g)));r.push(m)}d.isDone?i():d.K===null?u.continue():u.continue(d.K)}}).next(()=>K.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ua(n){return new K((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=W0(r.target.error);t(i)}})}let xT=!1;function W0(n){const e=us.D(Yt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xT||(xT=!0,setTimeout(()=>{throw r},0)),r}}return n}class wj{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){he("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{he("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(t){aa(t)?he("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",t):await oa(t)}await this.X(6e4)})}}class Ej{constructor(e,t){this.localStore=e,this.persistence=t}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.te(t,e))}te(e,t){const r=new Set;let i=t,s=!0;return K.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(l!==null&&!r.has(l))return he("IndexBackfiller",`Processing collection: ${l}`),this.ne(e,l,i).next(u=>{i-=u,r.add(l)});s=!1})).next(()=>t-i)}ne(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.re(i,s)).next(u=>(he("IndexBackfiller",`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,t,u))).next(()=>l.size)}))}re(e,t){let r=e;return t.changes.forEach((i,s)=>{const l=nx(s);z0(l,r)>0&&(r=l)}),new Gr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ar.oe=-1;function Lh(n){return n==null}function ch(n){return n===0&&1/n==-1/0}function ox(n){return typeof n=="number"&&Number.isInteger(n)&&!ch(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=AT(e)),e=Ij(n.get(t),e);return AT(e)}function Ij(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case"":t+="";break;default:t+=s}}return t}function AT(n){return n+""}function as(n){const e=n.length;if(Me(e>=2),e===2)return Me(n.charAt(0)===""&&n.charAt(1)===""),it.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const l=n.indexOf("",s);switch((l<0||l>t)&&ke(),n.charAt(l+1)){case"":const u=n.substring(s,l);let d;i.length===0?d=u:(i+=u,d=i,i=""),r.push(d);break;case"":i+=n.substring(s,l),i+="\0";break;case"":i+=n.substring(s,l+1);break;default:ke()}s=l+2}return new it(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(n,e){return[n,or(e)]}function ax(n,e,t){return[n,or(e),t]}const Sj={},Tj=["prefixPath","collectionGroup","readTime","documentId"],bj=["prefixPath","collectionGroup","documentId"],Rj=["collectionGroup","readTime","prefixPath","documentId"],Cj=["canonicalId","targetId"],xj=["targetId","path"],Aj=["path","targetId"],Pj=["collectionId","parent"],kj=["indexId","uid"],Nj=["uid","sequenceNumber"],Dj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Oj=["indexId","uid","orderedDocumentKey"],Mj=["userId","collectionPath","documentId"],Lj=["userId","collectionPath","largestBatchId"],Vj=["userId","collectionGroup","largestBatchId"],lx=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Fj=[...lx,"documentOverlays"],ux=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],cx=ux,q0=[...cx,"indexConfiguration","indexState","indexEntries"],jj=q0,Uj=[...q0,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_ extends ix{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function Nn(n,e){const t=Ae(n);return us.C(t._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function la(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function dx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,t){this.comparator=e,this.root=t||qn.EMPTY}insert(e,t){return new Nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sp(this.root,e,this.comparator,!0)}}class Sp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??qn.RED,this.left=i??qn.EMPTY,this.right=s??qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new qn(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return qn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();const e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}}qn.EMPTY=null,qn.RED=!0,qn.BLACK=!1;qn.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(e,t,r,i,s){return this}insert(e,t,r){return new qn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new NT(this.data.getIterator())}getIteratorFrom(e){return new NT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Tt(this.comparator);return t.data=e,t}}class NT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function uu(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Pr([])}unionWith(e){let t=new Tt($t.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Pr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $u(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new hx("Invalid base64 string: "+s):s}}(e);return new an(t)}static fromUint8Array(e){const t=function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s}(e);return new an(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const $j=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(n){if(Me(!!n),typeof n=="string"){let e=0;const t=$j.exec(n);if(Me(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bt(n.seconds),nanos:Bt(n.nanos)}}function Bt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qs(n){return typeof n=="string"?an.fromBase64String(n):an.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function rg(n){const e=n.mapValue.fields.__previous_value__;return ng(e)?rg(e):e}function dh(n){const e=Ws(n.mapValue.fields.__local_write_time__.timestampValue);return new qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e,t,r,i,s,l,u,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f}}class Ko{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ko("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ko&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Gp={nullValue:"NULL_VALUE"};function Qo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ng(n)?4:fx(n)?9007199254740991:ig(n)?10:11:ke()}function ps(n,e){if(n===e)return!0;const t=Qo(n);if(t!==Qo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return dh(n).isEqual(dh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=Ws(i.timestampValue),u=Ws(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return qs(i.bytesValue).isEqual(qs(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Bt(i.geoPointValue.latitude)===Bt(s.geoPointValue.latitude)&&Bt(i.geoPointValue.longitude)===Bt(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Bt(i.integerValue)===Bt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Bt(i.doubleValue),u=Bt(s.doubleValue);return l===u?ch(l)===ch(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return $u(n.arrayValue.values||[],e.arrayValue.values||[],ps);case 10:case 11:return function(i,s){const l=i.mapValue.fields||{},u=s.mapValue.fields||{};if(kT(l)!==kT(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!ps(l[d],u[d])))return!1;return!0}(n,e);default:return ke()}}function hh(n,e){return(n.values||[]).find(t=>ps(t,e))!==void 0}function Jo(n,e){if(n===e)return 0;const t=Qo(n),r=Qo(e);if(t!==r)return Je(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Je(n.booleanValue,e.booleanValue);case 2:return function(s,l){const u=Bt(s.integerValue||s.doubleValue),d=Bt(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(n,e);case 3:return DT(n.timestampValue,e.timestampValue);case 4:return DT(dh(n),dh(e));case 5:return Je(n.stringValue,e.stringValue);case 6:return function(s,l){const u=qs(s),d=qs(l);return u.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(s,l){const u=s.split("/"),d=l.split("/");for(let f=0;f<u.length&&f<d.length;f++){const m=Je(u[f],d[f]);if(m!==0)return m}return Je(u.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,l){const u=Je(Bt(s.latitude),Bt(l.latitude));return u!==0?u:Je(Bt(s.longitude),Bt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return OT(n.arrayValue,e.arrayValue);case 10:return function(s,l){var u,d,f,m;const g=s.fields||{},v=l.fields||{},I=(u=g.value)===null||u===void 0?void 0:u.arrayValue,b=(d=v.value)===null||d===void 0?void 0:d.arrayValue,C=Je(((f=I==null?void 0:I.values)===null||f===void 0?void 0:f.length)||0,((m=b==null?void 0:b.values)===null||m===void 0?void 0:m.length)||0);return C!==0?C:OT(I,b)}(n.mapValue,e.mapValue);case 11:return function(s,l){if(s===Fo.mapValue&&l===Fo.mapValue)return 0;if(s===Fo.mapValue)return 1;if(l===Fo.mapValue)return-1;const u=s.fields||{},d=Object.keys(u),f=l.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let g=0;g<d.length&&g<m.length;++g){const v=Je(d[g],m[g]);if(v!==0)return v;const I=Jo(u[d[g]],f[m[g]]);if(I!==0)return I}return Je(d.length,m.length)}(n.mapValue,e.mapValue);default:throw ke()}}function DT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Je(n,e);const t=Ws(n),r=Ws(e),i=Je(t.seconds,r.seconds);return i!==0?i:Je(t.nanos,r.nanos)}function OT(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=Jo(t[i],r[i]);if(s)return s}return Je(t.length,r.length)}function zu(n){return y_(n)}function y_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ws(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return qs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return xe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=y_(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${y_(t.fields[l])}`;return i+"}"}(n.mapValue):ke()}function Kp(n){switch(Qo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rg(n);return e?16+Kp(e):16;case 5:return 2*n.stringValue.length;case 6:return qs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Kp(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return la(r.fields,(s,l)=>{i+=s.length+Kp(l)}),i}(n.mapValue);default:throw ke()}}function nl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function v_(n){return!!n&&"integerValue"in n}function fh(n){return!!n&&"arrayValue"in n}function MT(n){return!!n&&"nullValue"in n}function LT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qp(n){return!!n&&"mapValue"in n}function ig(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function qd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return la(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=qd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function fx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const px={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Wj(n){return"nullValue"in n?Gp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?nl(Ko.empty(),xe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?ig(n)?px:{mapValue:{}}:ke()}function qj(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?nl(Ko.empty(),xe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?px:"mapValue"in n?ig(n)?{mapValue:{}}:Fo:ke()}function VT(n,e){const t=Jo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function FT(n,e){const t=Jo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Qp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qd(t)}setAll(e){let t=$t.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=qd(l):i.push(u.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Qp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ps(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Qp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){la(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Gn(qd(this.value))}}function mx(n){const e=[];return la(n.fields,(t,r)=>{const i=new $t([t]);if(Qp(r)){const s=mx(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)}),new Pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,t,r,i,s,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Vt(e,0,Be.min(),Be.min(),Be.min(),Gn.empty(),0)}static newFoundDocument(e,t,r,i){return new Vt(e,1,t,Be.min(),r,i,0)}static newNoDocument(e,t){return new Vt(e,2,t,Be.min(),Be.min(),Gn.empty(),0)}static newUnknownDocument(e,t){return new Vt(e,3,t,Be.min(),Be.min(),Gn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,t){this.position=e,this.inclusive=t}}function jT(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],l=n.position[i];if(s.field.isKeyField()?r=xe.comparator(xe.fromName(l.referenceValue),t.key):r=Jo(l,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function UT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ps(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,t="asc"){this.field=e,this.dir=t}}function Hj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{}class ot extends gx{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Gj(e,t,r):t==="array-contains"?new Jj(e,r):t==="in"?new Ix(e,r):t==="not-in"?new Yj(e,r):t==="array-contains-any"?new Xj(e,r):new ot(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Kj(e,r):new Qj(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Jo(t,this.value)):t!==null&&Qo(this.value)===Qo(t)&&this.matchesComparison(Jo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class St extends gx{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new St(e,t)}matches(e){return Wu(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Wu(n){return n.op==="and"}function __(n){return n.op==="or"}function H0(n){return yx(n)&&Wu(n)}function yx(n){for(const e of n.filters)if(e instanceof St)return!1;return!0}function w_(n){if(n instanceof ot)return n.field.canonicalString()+n.op.toString()+zu(n.value);if(H0(n))return n.filters.map(e=>w_(e)).join(",");{const e=n.filters.map(t=>w_(t)).join(",");return`${n.op}(${e})`}}function vx(n,e){return n instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.field.isEqual(i.field)&&ps(r.value,i.value)}(n,e):n instanceof St?function(r,i){return i instanceof St&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,l,u)=>s&&vx(l,i.filters[u]),!0):!1}(n,e):void ke()}function _x(n,e){const t=n.filters.concat(e);return St.create(t,n.op)}function wx(n){return n instanceof ot?function(t){return`${t.field.canonicalString()} ${t.op} ${zu(t.value)}`}(n):n instanceof St?function(t){return t.op.toString()+" {"+t.getFilters().map(wx).join(" ,")+"}"}(n):"Filter"}class Gj extends ot{constructor(e,t,r){super(e,t,r),this.key=xe.fromName(r.referenceValue)}matches(e){const t=xe.comparator(e.key,this.key);return this.matchesComparison(t)}}class Kj extends ot{constructor(e,t){super(e,"in",t),this.keys=Ex("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Qj extends ot{constructor(e,t){super(e,"not-in",t),this.keys=Ex("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ex(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>xe.fromName(r.referenceValue))}class Jj extends ot{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fh(t)&&hh(t.arrayValue,this.value)}}class Ix extends ot{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&hh(this.value.arrayValue,t)}}class Yj extends ot{constructor(e,t){super(e,"not-in",t)}matches(e){if(hh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!hh(this.value.arrayValue,t)}}class Xj extends ot{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>hh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e,t=null,r=[],i=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=u,this.ue=null}}function E_(n,e=null,t=[],r=[],i=null,s=null,l=null){return new Zj(n,e,t,r,i,s,l)}function rl(n){const e=Ae(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>w_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Lh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>zu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>zu(r)).join(",")),e.ue=t}return e.ue}function Vh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Hj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!vx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!UT(n.startAt,e.startAt)&&UT(n.endAt,e.endAt)}function pm(n){return xe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function mm(n,e){return n.filters.filter(t=>t instanceof ot&&t.field.isEqual(e))}function BT(n,e,t){let r=Gp,i=!0;for(const s of mm(n,e)){let l=Gp,u=!0;switch(s.op){case"<":case"<=":l=Wj(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,u=!1;break;case"!=":case"not-in":l=Gp}VT({value:r,inclusive:i},{value:l,inclusive:u})<0&&(r=l,i=u)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];VT({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}function $T(n,e,t){let r=Fo,i=!0;for(const s of mm(n,e)){let l=Fo,u=!0;switch(s.op){case">=":case">":l=qj(s.value),u=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,u=!1;break;case"!=":case"not-in":l=Fo}FT({value:r,inclusive:i},{value:l,inclusive:u})>0&&(r=l,i=u)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];FT({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,t=null,r=[],i=[],s=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Sx(n,e,t,r,i,s,l,u){return new eo(n,e,t,r,i,s,l,u)}function fc(n){return new eo(n)}function zT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function G0(n){return n.collectionGroup!==null}function ku(n){const e=Ae(n);if(e.ce===null){e.ce=[];const t=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Tt($t.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ph(s,r))}),t.has($t.keyField().canonicalString())||e.ce.push(new ph($t.keyField(),r))}return e.ce}function gr(n){const e=Ae(n);return e.le||(e.le=eU(e,ku(n))),e.le}function eU(n,e){if(n.limitType==="F")return E_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ph(i.field,s)});const t=n.endAt?new Yo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Yo(n.startAt.position,n.startAt.inclusive):null;return E_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function I_(n,e){const t=n.filters.concat([e]);return new eo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function gm(n,e,t){return new eo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Fh(n,e){return Vh(gr(n),gr(e))&&n.limitType===e.limitType}function Tx(n){return`${rl(gr(n))}|lt:${n.limitType}`}function Eu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>wx(i)).join(", ")}]`),Lh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>zu(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>zu(i)).join(",")),`Target(${r})`}(gr(n))}; limitType=${n.limitType})`}function jh(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):xe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of ku(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,d){const f=jT(l,u,d);return l.inclusive?f<=0:f<0}(r.startAt,ku(r),i)||r.endAt&&!function(l,u,d){const f=jT(l,u,d);return l.inclusive?f>=0:f>0}(r.endAt,ku(r),i))}(n,e)}function bx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Rx(n){return(e,t)=>{let r=!1;for(const i of ku(n)){const s=tU(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function tU(n,e,t){const r=n.field.isKeyField()?xe.comparator(e.key,t.key):function(s,l,u){const d=l.data.field(s),f=u.data.field(s);return d!==null&&f!==null?Jo(d,f):ke()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return dx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU=new Nt(xe.comparator);function kr(){return nU}const Cx=new Nt(xe.comparator);function Dd(...n){let e=Cx;for(const t of n)e=e.insert(t.key,t);return e}function xx(n){let e=Cx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ls(){return Hd()}function Ax(){return Hd()}function Hd(){return new to(n=>n.toString(),(n,e)=>n.isEqual(e))}const rU=new Nt(xe.comparator),iU=new Tt(xe.comparator);function Ye(...n){let e=iU;for(const t of n)e=e.add(t);return e}const sU=new Tt(Je);function K0(){return sU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function Px(n){return{integerValue:""+n}}function kx(n,e){return ox(e)?Px(e):Q0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(){this._=void 0}}function oU(n,e,t){return n instanceof qu?function(i,s){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ng(s)&&(s=rg(s)),s&&(l.fields.__previous_value__=s),{mapValue:l}}(t,e):n instanceof il?Dx(n,e):n instanceof sl?Ox(n,e):function(i,s){const l=Nx(i,s),u=WT(l)+WT(i.Pe);return v_(l)&&v_(i.Pe)?Px(u):Q0(i.serializer,u)}(n,e)}function aU(n,e,t){return n instanceof il?Dx(n,e):n instanceof sl?Ox(n,e):t}function Nx(n,e){return n instanceof Hu?function(r){return v_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class qu extends sg{}class il extends sg{constructor(e){super(),this.elements=e}}function Dx(n,e){const t=Mx(e);for(const r of n.elements)t.some(i=>ps(i,r))||t.push(r);return{arrayValue:{values:t}}}class sl extends sg{constructor(e){super(),this.elements=e}}function Ox(n,e){let t=Mx(e);for(const r of n.elements)t=t.filter(i=>!ps(i,r));return{arrayValue:{values:t}}}class Hu extends sg{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function WT(n){return Bt(n.integerValue||n.doubleValue)}function Mx(n){return fh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t){this.field=e,this.transform=t}}function lU(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof il&&i instanceof il||r instanceof sl&&i instanceof sl?$u(r.elements,i.elements,ps):r instanceof Hu&&i instanceof Hu?ps(r.Pe,i.Pe):r instanceof qu&&i instanceof qu}(n.transform,e.transform)}class uU{constructor(e,t){this.version=e,this.transformResults=t}}class zt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zt}static exists(e){return new zt(void 0,e)}static updateTime(e){return new zt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class og{}function Lx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new mc(n.key,zt.none()):new pc(n.key,n.data,zt.none());{const t=n.data,r=Gn.empty();let i=new Tt($t.comparator);for(let s of e.fields)if(!i.has(s)){let l=t.field(s);l===null&&s.length>1&&(s=s.popLast(),l=t.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new no(n.key,r,new Pr(i.toArray()),zt.none())}}function cU(n,e,t){n instanceof pc?function(i,s,l){const u=i.value.clone(),d=HT(i.fieldTransforms,s,l.transformResults);u.setAll(d),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof no?function(i,s,l){if(!Jp(i.precondition,s))return void s.convertToUnknownDocument(l.version);const u=HT(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(Vx(i)),d.setAll(u),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Gd(n,e,t,r){return n instanceof pc?function(s,l,u,d){if(!Jp(s.precondition,l))return u;const f=s.value.clone(),m=GT(s.fieldTransforms,d,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof no?function(s,l,u,d){if(!Jp(s.precondition,l))return u;const f=GT(s.fieldTransforms,d,l),m=l.data;return m.setAll(Vx(s)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(s,l,u){return Jp(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function dU(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=Nx(r.transform,i||null);s!=null&&(t===null&&(t=Gn.empty()),t.set(r.field,s))}return t||null}function qT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$u(r,i,(s,l)=>lU(s,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class pc extends og{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class no extends og{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Vx(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function HT(n,e,t){const r=new Map;Me(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],l=s.transform,u=e.data.field(s.field);r.set(s.field,aU(l,u,t[i]))}return r}function GT(n,e,t){const r=new Map;for(const i of n){const s=i.transform,l=t.data.field(i.field);r.set(i.field,oU(s,l,e))}return r}class mc extends og{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class J0 extends og{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&cU(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Gd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Gd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Ax();return this.mutations.forEach(i=>{const s=e.get(i.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=t.has(i.key)?null:u;const d=Lx(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Be.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ye())}isEqual(e){return this.batchId===e.batchId&&$u(this.mutations,e.mutations,(t,r)=>qT(t,r))&&$u(this.baseMutations,e.baseMutations,(t,r)=>qT(t,r))}}class X0{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Me(e.mutations.length===r.length);let i=function(){return rU}();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new X0(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sn,ct;function Fx(n){switch(n){default:return ke();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function jx(n){if(n===void 0)return yn("GRPC error has no .code"),ee.UNKNOWN;switch(n){case Sn.OK:return ee.OK;case Sn.CANCELLED:return ee.CANCELLED;case Sn.UNKNOWN:return ee.UNKNOWN;case Sn.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Sn.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Sn.INTERNAL:return ee.INTERNAL;case Sn.UNAVAILABLE:return ee.UNAVAILABLE;case Sn.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Sn.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Sn.NOT_FOUND:return ee.NOT_FOUND;case Sn.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Sn.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Sn.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Sn.ABORTED:return ee.ABORTED;case Sn.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Sn.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Sn.DATA_LOSS:return ee.DATA_LOSS;default:return ke()}}(ct=Sn||(Sn={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=new Xa([4294967295,4294967295],0);function KT(n){const e=Ux().encode(n),t=new HC;return t.update(e),new Uint8Array(t.digest())}function QT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Xa([t,r],0),new Xa([i,s],0)]}class ew{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Od(`Invalid padding: ${t}`);if(r<0)throw new Od(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Od(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Od(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Xa.fromNumber(this.Te)}Ee(e,t,r){let i=e.add(t.multiply(Xa.fromNumber(r)));return i.compare(fU)===1&&(i=new Xa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=KT(e),[r,i]=QT(t);for(let s=0;s<this.hashCount;s++){const l=this.Ee(r,i,s);if(!this.de(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new ew(s,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.Te===0)return;const t=KT(e),[r,i]=QT(t);for(let s=0;s<this.hashCount;s++){const l=this.Ee(r,i,s);this.Ae(l)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Od extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,$h.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Bh(Be.min(),i,new Nt(Je),kr(),Ye())}}class $h{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new $h(r,t,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class Bx{constructor(e,t){this.targetId=e,this.me=t}}class $x{constructor(e,t,r=an.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class JT{constructor(){this.fe=0,this.ge=YT(),this.pe=an.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ye(),t=Ye(),r=Ye();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ke()}}),new $h(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=YT()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Me(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class pU{constructor(e){this.Le=e,this.Be=new Map,this.ke=kr(),this.qe=Tp(),this.Qe=Tp(),this.Ke=new Nt(Je)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:ke()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.me.count,i=this.Ye(t);if(i){const s=i.target;if(pm(s))if(r===0){const l=new xe(s.path);this.We(t,l,Vt.newNoDocument(l,Be.min()))}else Me(r===1);else{const l=this.Ze(t);if(l!==r){const u=this.Xe(e),d=u?this.et(u,e,l):1;if(d!==0){this.He(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,f)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let l,u;try{l=qs(r).toUint8Array()}catch(d){if(d instanceof hx)return fs("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new ew(l,i,s)}catch(d){return fs(d instanceof Od?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.Te===0?null:u}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const l=this.Le.nt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.We(t,s,null),i++)}),i}it(e){const t=new Map;this.Be.forEach((s,l)=>{const u=this.Ye(l);if(u){if(s.current&&pm(u.target)){const d=new xe(u.target.path);this.st(d).has(l)||this.ot(l,d)||this.We(l,d,Vt.newNoDocument(d,e))}s.be&&(t.set(l,s.ve()),s.Ce())}});let r=Ye();this.Qe.forEach((s,l)=>{let u=!0;l.forEachWhile(d=>{const f=this.Ye(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.ke.forEach((s,l)=>l.setReadTime(e));const i=new Bh(e,t,this.Ke,this.ke,r);return this.ke=kr(),this.qe=Tp(),this.Qe=Tp(),this.Ke=new Nt(Je),i}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,t)?i.Fe(t,1):i.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new JT,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Tt(Je),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Tt(Je),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new JT),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Tp(){return new Nt(xe.comparator)}function YT(){return new Nt(xe.comparator)}const mU={asc:"ASCENDING",desc:"DESCENDING"},gU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yU={and:"AND",or:"OR"};class vU{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function S_(n,e){return n.useProto3Json||Lh(e)?e:{value:e}}function Gu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function _U(n,e){return Gu(n,e.toTimestamp())}function vn(n){return Me(!!n),Be.fromTimestamp(function(t){const r=Ws(t);return new qt(r.seconds,r.nanos)}(n))}function tw(n,e){return T_(n,e).canonicalString()}function T_(n,e){const t=function(i){return new it(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Wx(n){const e=it.fromString(n);return Me(eA(e)),e}function mh(n,e){return tw(n.databaseId,e.path)}function cs(n,e){const t=Wx(e);if(t.get(1)!==n.databaseId.projectId)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new xe(Gx(t))}function qx(n,e){return tw(n.databaseId,e)}function Hx(n){const e=Wx(n);return e.length===4?it.emptyPath():Gx(e)}function b_(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Gx(n){return Me(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function XT(n,e,t){return{name:mh(n,e),fields:t.value.mapValue.fields}}function Kx(n,e,t){const r=cs(n,e.name),i=vn(e.updateTime),s=e.createTime?vn(e.createTime):Be.min(),l=new Gn({mapValue:{fields:e.fields}}),u=Vt.newFoundDocument(r,i,s,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function wU(n,e){return"found"in e?function(r,i){Me(!!i.found),i.found.name,i.found.updateTime;const s=cs(r,i.found.name),l=vn(i.found.updateTime),u=i.found.createTime?vn(i.found.createTime):Be.min(),d=new Gn({mapValue:{fields:i.found.fields}});return Vt.newFoundDocument(s,l,u,d)}(n,e):"missing"in e?function(r,i){Me(!!i.missing),Me(!!i.readTime);const s=cs(r,i.missing),l=vn(i.readTime);return Vt.newNoDocument(s,l)}(n,e):ke()}function EU(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(f,m){return f.useProto3Json?(Me(m===void 0||typeof m=="string"),an.fromBase64String(m||"")):(Me(m===void 0||m instanceof Buffer||m instanceof Uint8Array),an.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(f){const m=f.code===void 0?ee.UNKNOWN:jx(f.code);return new ce(m,f.message||"")}(l);t=new $x(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=cs(n,r.document.name),s=vn(r.document.updateTime),l=r.document.createTime?vn(r.document.createTime):Be.min(),u=new Gn({mapValue:{fields:r.document.fields}}),d=Vt.newFoundDocument(i,s,l,u),f=r.targetIds||[],m=r.removedTargetIds||[];t=new Yp(f,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=cs(n,r.document),s=r.readTime?vn(r.readTime):Be.min(),l=Vt.newNoDocument(i,s),u=r.removedTargetIds||[];t=new Yp([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=cs(n,r.document),s=r.removedTargetIds||[];t=new Yp([],s,i,null)}else{if(!("filter"in e))return ke();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new hU(i,s),u=r.targetId;t=new Bx(u,l)}}return t}function gh(n,e){let t;if(e instanceof pc)t={update:XT(n,e.key,e.value)};else if(e instanceof mc)t={delete:mh(n,e.key)};else if(e instanceof no)t={update:XT(n,e.key,e.data),updateMask:CU(e.fieldMask)};else{if(!(e instanceof J0))return ke();t={verify:mh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,l){const u=l.transform;if(u instanceof qu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof il)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof sl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Hu)return{fieldPath:l.field.canonicalString(),increment:u.Pe};throw ke()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:_U(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ke()}(n,e.precondition)),t}function R_(n,e){const t=e.currentDocument?function(s){return s.updateTime!==void 0?zt.updateTime(vn(s.updateTime)):s.exists!==void 0?zt.exists(s.exists):zt.none()}(e.currentDocument):zt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,u){let d=null;if("setToServerValue"in u)Me(u.setToServerValue==="REQUEST_TIME"),d=new qu;else if("appendMissingElements"in u){const m=u.appendMissingElements.values||[];d=new il(m)}else if("removeAllFromArray"in u){const m=u.removeAllFromArray.values||[];d=new sl(m)}else"increment"in u?d=new Hu(l,u.increment):ke();const f=$t.fromServerFormat(u.fieldPath);return new Uh(f,d)}(n,i)):[];if(e.update){e.update.name;const i=cs(n,e.update.name),s=new Gn({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=function(d){const f=d.fieldPaths||[];return new Pr(f.map(m=>$t.fromServerFormat(m)))}(e.updateMask);return new no(i,s,l,t,r)}return new pc(i,s,t,r)}if(e.delete){const i=cs(n,e.delete);return new mc(i,t)}if(e.verify){const i=cs(n,e.verify);return new J0(i,t)}return ke()}function IU(n,e){return n&&n.length>0?(Me(e!==void 0),n.map(t=>function(i,s){let l=i.updateTime?vn(i.updateTime):vn(s);return l.isEqual(Be.min())&&(l=vn(s)),new uU(l,i.transformResults||[])}(t,e))):[]}function Qx(n,e){return{documents:[qx(n,e.path)]}}function Jx(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=qx(n,i);const s=function(f){if(f.length!==0)return Zx(St.create(f,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const l=function(f){if(f.length!==0)return f.map(m=>function(v){return{field:Iu(v.field),direction:TU(v.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=S_(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ct:t,parent:i}}function Yx(n){let e=Hx(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Me(r===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];t.where&&(s=function(g){const v=Xx(g);return v instanceof St&&H0(v)?v.getFilters():[v]}(t.where));let l=[];t.orderBy&&(l=function(g){return g.map(v=>function(b){return new ph(Su(b.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(v))}(t.orderBy));let u=null;t.limit&&(u=function(g){let v;return v=typeof g=="object"?g.value:g,Lh(v)?null:v}(t.limit));let d=null;t.startAt&&(d=function(g){const v=!!g.before,I=g.values||[];return new Yo(I,v)}(t.startAt));let f=null;return t.endAt&&(f=function(g){const v=!g.before,I=g.values||[];return new Yo(I,v)}(t.endAt)),Sx(e,i,l,s,u,"F",d,f)}function SU(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Xx(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Su(t.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Su(t.unaryFilter.field);return ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Su(t.unaryFilter.field);return ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Su(t.unaryFilter.field);return ot.create(l,"!=",{nullValue:"NULL_VALUE"});default:return ke()}}(n):n.fieldFilter!==void 0?function(t){return ot.create(Su(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return St.create(t.compositeFilter.filters.map(r=>Xx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ke()}}(t.compositeFilter.op))}(n):ke()}function TU(n){return mU[n]}function bU(n){return gU[n]}function RU(n){return yU[n]}function Iu(n){return{fieldPath:n.canonicalString()}}function Su(n){return $t.fromServerFormat(n.fieldPath)}function Zx(n){return n instanceof ot?function(t){if(t.op==="=="){if(LT(t.value))return{unaryFilter:{field:Iu(t.field),op:"IS_NAN"}};if(MT(t.value))return{unaryFilter:{field:Iu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(LT(t.value))return{unaryFilter:{field:Iu(t.field),op:"IS_NOT_NAN"}};if(MT(t.value))return{unaryFilter:{field:Iu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Iu(t.field),op:bU(t.op),value:t.value}}}(n):n instanceof St?function(t){const r=t.getFilters().map(i=>Zx(i));return r.length===1?r[0]:{compositeFilter:{op:RU(t.op),filters:r}}}(n):ke()}function CU(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function eA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,t,r,i,s=Be.min(),l=Be.min(),u=an.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.ht=e}}function xU(n,e){let t;if(e.document)t=Kx(n.ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=xe.fromSegments(e.noDocument.path),i=al(e.noDocument.readTime);t=Vt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ke();{const r=xe.fromSegments(e.unknownDocument.path),i=al(e.unknownDocument.version);t=Vt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const s=new qt(i[0],i[1]);return Be.fromTimestamp(s)}(e.readTime)),t}function ZT(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ym(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,l){return{name:mh(s,l.key),fields:l.data.value.mapValue.fields,updateTime:Gu(s,l.version.toTimestamp()),createTime:Gu(s,l.createTime.toTimestamp())}}(n.ht,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:ol(e.version)};else{if(!e.isUnknownDocument())return ke();r.unknownDocument={path:t.path.toArray(),version:ol(e.version)}}return r}function ym(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ol(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function al(n){const e=new qt(n.seconds,n.nanoseconds);return Be.fromTimestamp(e)}function Ba(n,e){const t=(e.baseMutations||[]).map(s=>R_(n.ht,s));for(let s=0;s<e.mutations.length-1;++s){const l=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const u=e.mutations[s+1];l.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>R_(n.ht,s)),i=qt.fromMillis(e.localWriteTimeMs);return new Y0(e.batchId,i,t,r)}function Md(n){const e=al(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?al(n.lastLimboFreeSnapshotVersion):Be.min();let r;return r=function(s){return s.documents!==void 0}(n.query)?function(s){return Me(s.documents.length===1),gr(fc(Hx(s.documents[0])))}(n.query):function(s){return gr(Yx(s))}(n.query),new Vs(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,an.fromBase64String(n.resumeToken))}function nA(n,e){const t=ol(e.snapshotVersion),r=ol(e.lastLimboFreeSnapshotVersion);let i;i=pm(e.target)?Qx(n.ht,e.target):Jx(n.ht,e.target).ct;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:rl(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function nw(n){const e=Yx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?gm(e,e.limit,"L"):e}function Mv(n,e){return new Z0(e.largestBatchId,R_(n.ht,e.overlayMutation))}function eb(n,e){const t=e.path.lastSegment();return[n,or(e.path.popLast()),t]}function tb(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:ol(r.readTime),documentKey:or(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{getBundleMetadata(e,t){return nb(e).get(t).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:al(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,t){return nb(e).put(function(i){return{bundleId:i.id,createTime:ol(vn(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return rb(e).get(t).next(r=>{if(r)return function(s){return{name:s.name,query:nw(s.bundledQuery),readTime:al(s.readTime)}}(r)})}saveNamedQuery(e,t){return rb(e).put(function(i){return{name:i.name,readTime:ol(vn(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function nb(n){return Nn(n,"bundles")}function rb(n){return Nn(n,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,t){this.serializer=e,this.userId=t}static Pt(e,t){const r=t.uid||"";return new ag(e,r)}getOverlay(e,t){return md(e).get(eb(this.userId,t)).next(r=>r?Mv(this.serializer,r):null)}getOverlays(e,t){const r=ls();return K.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,l)=>{const u=new Z0(t,l);i.push(this.Tt(e,u))}),K.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(or(l.getCollectionPath())));const s=[];return i.forEach(l=>{const u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);s.push(md(e).j("collectionPathOverlayIndex",u))}),K.waitFor(s)}getOverlaysForCollection(e,t,r){const i=ls(),s=or(t),l=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return md(e).U("collectionPathOverlayIndex",l).next(u=>{for(const d of u){const f=Mv(this.serializer,d);i.set(f.getKey(),f)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=ls();let l;const u=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return md(e).J({index:"collectionGroupOverlayIndex",range:u},(d,f,m)=>{const g=Mv(this.serializer,f);s.size()<i||g.largestBatchId===l?(s.set(g.getKey(),g),l=g.largestBatchId):m.done()}).next(()=>s)}Tt(e,t){return md(e).put(function(i,s,l){const[u,d,f]=eb(s,l.mutation.key);return{userId:s,collectionPath:d,documentId:f,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:gh(i.ht,l.mutation)}}(this.serializer,this.userId,t))}}function md(n){return Nn(n,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{It(e){return Nn(e,"globals")}getSessionToken(e){return this.It(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?an.fromUint8Array(r):an.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.It(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){}Et(e,t){this.dt(e,t),t.At()}dt(e,t){if("nullValue"in e)this.Rt(t,5);else if("booleanValue"in e)this.Rt(t,10),t.Vt(e.booleanValue?1:0);else if("integerValue"in e)this.Rt(t,15),t.Vt(Bt(e.integerValue));else if("doubleValue"in e){const r=Bt(e.doubleValue);isNaN(r)?this.Rt(t,13):(this.Rt(t,15),ch(r)?t.Vt(0):t.Vt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Rt(t,20),typeof r=="string"&&(r=Ws(r)),t.ft(`${r.seconds||""}`),t.Vt(r.nanos||0)}else if("stringValue"in e)this.gt(e.stringValue,t),this.yt(t);else if("bytesValue"in e)this.Rt(t,30),t.wt(qs(e.bytesValue)),this.yt(t);else if("referenceValue"in e)this.St(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Rt(t,45),t.Vt(r.latitude||0),t.Vt(r.longitude||0)}else"mapValue"in e?fx(e)?this.Rt(t,Number.MAX_SAFE_INTEGER):ig(e)?this.bt(e.mapValue,t):(this.Dt(e.mapValue,t),this.yt(t)):"arrayValue"in e?(this.vt(e.arrayValue,t),this.yt(t)):ke()}gt(e,t){this.Rt(t,25),this.Ct(e,t)}Ct(e,t){t.ft(e)}Dt(e,t){const r=e.fields||{};this.Rt(t,55);for(const i of Object.keys(r))this.gt(i,t),this.dt(r[i],t)}bt(e,t){var r,i;const s=e.fields||{};this.Rt(t,53);const l="value",u=((i=(r=s[l].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Rt(t,15),t.Vt(Bt(u)),this.gt(l,t),this.dt(s[l],t)}vt(e,t){const r=e.values||[];this.Rt(t,50);for(const i of r)this.dt(i,t)}St(e,t){this.Rt(t,37),xe.fromName(e).path.forEach(r=>{this.Rt(t,60),this.Ct(r,t)})}Rt(e,t){e.Vt(t)}yt(e){e.Vt(2)}}$a.Ft=new $a;function kU(n){if(n===0)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function ib(n){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const l=kU(255&r[s]);if(i+=l,l!==8)break}return i}(n);return Math.ceil(e/8)}class NU{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Mt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.xt(r.value),r=t.next();this.Ot()}Nt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Lt(r.value),r=t.next();this.Bt()}kt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.xt(r);else if(r<2048)this.xt(960|r>>>6),this.xt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.xt(480|r>>>12),this.xt(128|63&r>>>6),this.xt(128|63&r);else{const i=t.codePointAt(0);this.xt(240|i>>>18),this.xt(128|63&i>>>12),this.xt(128|63&i>>>6),this.xt(128|63&i)}}this.Ot()}qt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Lt(r);else if(r<2048)this.Lt(960|r>>>6),this.Lt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Lt(480|r>>>12),this.Lt(128|63&r>>>6),this.Lt(128|63&r);else{const i=t.codePointAt(0);this.Lt(240|i>>>18),this.Lt(128|63&i>>>12),this.Lt(128|63&i>>>6),this.Lt(128|63&i)}}this.Bt()}Qt(e){const t=this.Kt(e),r=ib(t);this.$t(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ut(e){const t=this.Kt(e),r=ib(t);this.$t(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Wt(){this.Gt(255),this.Gt(255)}zt(){this.jt(255),this.jt(255)}reset(){this.position=0}seed(e){this.$t(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ht(){return this.buffer.slice(0,this.position)}Kt(e){const t=function(s){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,s,!1),new Uint8Array(l.buffer)}(e),r=(128&t[0])!=0;t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}xt(e){const t=255&e;t===0?(this.Gt(0),this.Gt(255)):t===255?(this.Gt(255),this.Gt(0)):this.Gt(t)}Lt(e){const t=255&e;t===0?(this.jt(0),this.jt(255)):t===255?(this.jt(255),this.jt(0)):this.jt(e)}Ot(){this.Gt(0),this.Gt(1)}Bt(){this.jt(0),this.jt(1)}Gt(e){this.$t(1),this.buffer[this.position++]=e}jt(e){this.$t(1),this.buffer[this.position++]=~e}$t(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class DU{constructor(e){this.Jt=e}wt(e){this.Jt.Mt(e)}ft(e){this.Jt.kt(e)}Vt(e){this.Jt.Qt(e)}At(){this.Jt.Wt()}}class OU{constructor(e){this.Jt=e}wt(e){this.Jt.Nt(e)}ft(e){this.Jt.qt(e)}Vt(e){this.Jt.Ut(e)}At(){this.Jt.zt()}}class gd{constructor(){this.Jt=new NU,this.Yt=new DU(this.Jt),this.Zt=new OU(this.Jt)}seed(e){this.Jt.seed(e)}Xt(e){return e===0?this.Yt:this.Zt}Ht(){return this.Jt.Ht()}reset(){this.Jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}en(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new za(this.indexId,this.documentKey,this.arrayValue,r)}}function ko(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=sb(n.arrayValue,e.arrayValue),t!==0?t:(t=sb(n.directionalValue,e.directionalValue),t!==0?t:xe.comparator(n.documentKey,e.documentKey)))}function sb(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this.tn=new Tt((t,r)=>$t.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.nn=e.orderBy,this.rn=[];for(const t of e.filters){const r=t;r.isInequality()?this.tn=this.tn.add(r):this.rn.push(r)}}get sn(){return this.tn.size>1}on(e){if(Me(e.collectionGroup===this.collectionId),this.sn)return!1;const t=m_(e);if(t!==void 0&&!this._n(t))return!1;const r=Va(e);let i=new Set,s=0,l=0;for(;s<r.length&&this._n(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.tn.size>0){const u=this.tn.getIterator().getNext();if(!i.has(u.field.canonicalString())){const d=r[s];if(!this.an(u,d)||!this.un(this.nn[l++],d))return!1}++s}for(;s<r.length;++s){const u=r[s];if(l>=this.nn.length||!this.un(this.nn[l++],u))return!1}return!0}cn(){if(this.sn)return null;let e=new Tt($t.comparator);const t=[];for(const r of this.rn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new qp(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new qp(r.field,0))}for(const r of this.nn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new qp(r.field,r.dir==="asc"?0:1)));return new fm(fm.UNKNOWN_ID,this.collectionId,t,uh.empty())}_n(e){for(const t of this.rn)if(this.an(t,e))return!0;return!1}an(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}un(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(n){var e,t;if(Me(n instanceof ot||n instanceof St),n instanceof ot){if(n instanceof Ix){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(s=>ot.create(n.field,"==",s)))||[];return St.create(i,"or")}return n}const r=n.filters.map(i=>rA(i));return St.create(r,n.op)}function MU(n){if(n.getFilters().length===0)return[];const e=A_(rA(n));return Me(iA(e)),C_(e)||x_(e)?[e]:e.getFilters()}function C_(n){return n instanceof ot}function x_(n){return n instanceof St&&H0(n)}function iA(n){return C_(n)||x_(n)||function(t){if(t instanceof St&&__(t)){for(const r of t.getFilters())if(!C_(r)&&!x_(r))return!1;return!0}return!1}(n)}function A_(n){if(Me(n instanceof ot||n instanceof St),n instanceof ot)return n;if(n.filters.length===1)return A_(n.filters[0]);const e=n.filters.map(r=>A_(r));let t=St.create(e,n.op);return t=vm(t),iA(t)?t:(Me(t instanceof St),Me(Wu(t)),Me(t.filters.length>1),t.filters.reduce((r,i)=>rw(r,i)))}function rw(n,e){let t;return Me(n instanceof ot||n instanceof St),Me(e instanceof ot||e instanceof St),t=n instanceof ot?e instanceof ot?function(i,s){return St.create([i,s],"and")}(n,e):ab(n,e):e instanceof ot?ab(e,n):function(i,s){if(Me(i.filters.length>0&&s.filters.length>0),Wu(i)&&Wu(s))return _x(i,s.getFilters());const l=__(i)?i:s,u=__(i)?s:i,d=l.filters.map(f=>rw(f,u));return St.create(d,"or")}(n,e),vm(t)}function ab(n,e){if(Wu(e))return _x(e,n.getFilters());{const t=e.filters.map(r=>rw(n,r));return St.create(t,"or")}}function vm(n){if(Me(n instanceof ot||n instanceof St),n instanceof ot)return n;const e=n.getFilters();if(e.length===1)return vm(e[0]);if(yx(n))return n;const t=e.map(i=>vm(i)),r=[];return t.forEach(i=>{i instanceof ot?r.push(i):i instanceof St&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:St.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(){this.ln=new iw}addToCollectionParentIndex(e,t){return this.ln.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(Gr.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(Gr.min())}updateCollectionGroup(e,t,r){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class iw{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Tt(it.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Tt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp=new Uint8Array(0);class VU{constructor(e,t){this.databaseId=t,this.hn=new iw,this.Pn=new to(r=>rl(r),(r,i)=>Vh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.hn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.hn.add(t)});const s={collectionId:r,parent:or(i)};return lb(e).put(s)}return K.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[ex(t),""],!1,!0);return lb(e).U(i).next(s=>{for(const l of s){if(l.collectionId!==t)break;r.push(as(l.parent))}return r})}addFieldIndex(e,t){const r=yd(e),i=function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])}}(t);delete i.indexId;const s=r.add(i);if(t.indexState){const l=du(e);return s.next(u=>{l.put(tb(u,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=yd(e),i=du(e),s=cu(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=yd(e),r=cu(e),i=du(e);return t.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,t){return K.forEach(this.Tn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new ob(r).cn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){const r=cu(e);let i=!0;const s=new Map;return K.forEach(this.Tn(t),l=>this.In(e,l).next(u=>{i&&(i=!!u),s.set(l,u)})).next(()=>{if(i){let l=Ye();const u=[];return K.forEach(s,(d,f)=>{he("IndexedDbIndexManager",`Using index ${function(M){return`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(j=>`${j.fieldPath}:${j.kind}`).join(",")}`}(d)} to execute ${rl(t)}`);const m=function(M,j){const A=m_(j);if(A===void 0)return null;for(const z of mm(M,A.fieldPath))switch(z.op){case"array-contains-any":return z.value.arrayValue.values||[];case"array-contains":return[z.value]}return null}(f,d),g=function(M,j){const A=new Map;for(const z of Va(j))for(const O of mm(M,z.fieldPath))switch(O.op){case"==":case"in":A.set(z.fieldPath.canonicalString(),O.value);break;case"not-in":case"!=":return A.set(z.fieldPath.canonicalString(),O.value),Array.from(A.values())}return null}(f,d),v=function(M,j){const A=[];let z=!0;for(const O of Va(j)){const k=O.kind===0?BT(M,O.fieldPath,M.startAt):$T(M,O.fieldPath,M.startAt);A.push(k.value),z&&(z=k.inclusive)}return new Yo(A,z)}(f,d),I=function(M,j){const A=[];let z=!0;for(const O of Va(j)){const k=O.kind===0?$T(M,O.fieldPath,M.endAt):BT(M,O.fieldPath,M.endAt);A.push(k.value),z&&(z=k.inclusive)}return new Yo(A,z)}(f,d),b=this.En(d,f,v),C=this.En(d,f,I),x=this.dn(d,f,g),D=this.An(d.indexId,m,b,v.inclusive,C,I.inclusive,x);return K.forEach(D,U=>r.G(U,t.limit).next(M=>{M.forEach(j=>{const A=xe.fromSegments(j.documentKey);l.has(A)||(l=l.add(A),u.push(A))})}))}).next(()=>u)}return K.resolve(null)})}Tn(e){let t=this.Pn.get(e);return t||(e.filters.length===0?t=[e]:t=MU(St.create(e.filters,"and")).map(r=>E_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Pn.set(e,t),t)}An(e,t,r,i,s,l,u){const d=(t!=null?t.length:1)*Math.max(r.length,s.length),f=d/(t!=null?t.length:1),m=[];for(let g=0;g<d;++g){const v=t?this.Rn(t[g/f]):bp,I=this.Vn(e,v,r[g%f],i),b=this.mn(e,v,s[g%f],l),C=u.map(x=>this.Vn(e,v,x,!0));m.push(...this.createRange(I,b,C))}return m}Vn(e,t,r,i){const s=new za(e,xe.empty(),t,r);return i?s:s.en()}mn(e,t,r,i){const s=new za(e,xe.empty(),t,r);return i?s.en():s}In(e,t){const r=new ob(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let l=null;for(const u of s)r.on(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l})}getIndexType(e,t){let r=2;const i=this.Tn(t);return K.forEach(i,s=>this.In(e,s).next(l=>{l?r!==0&&l.fields.length<function(d){let f=new Tt($t.comparator),m=!1;for(const g of d.filters)for(const v of g.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?m=!0:f=f.add(v.field));for(const g of d.orderBy)g.field.isKeyField()||(f=f.add(g.field));return f.size+(m?1:0)}(s)&&(r=1):r=0})).next(()=>function(l){return l.limit!==null}(t)&&i.length>1&&r===2?1:r)}fn(e,t){const r=new gd;for(const i of Va(e)){const s=t.data.field(i.fieldPath);if(s==null)return null;const l=r.Xt(i.kind);$a.Ft.Et(s,l)}return r.Ht()}Rn(e){const t=new gd;return $a.Ft.Et(e,t.Xt(0)),t.Ht()}gn(e,t){const r=new gd;return $a.Ft.Et(nl(this.databaseId,t),r.Xt(function(s){const l=Va(s);return l.length===0?0:l[l.length-1].kind}(e))),r.Ht()}dn(e,t,r){if(r===null)return[];let i=[];i.push(new gd);let s=0;for(const l of Va(e)){const u=r[s++];for(const d of i)if(this.pn(t,l.fieldPath)&&fh(u))i=this.yn(i,l,u);else{const f=d.Xt(l.kind);$a.Ft.Et(u,f)}}return this.wn(i)}En(e,t,r){return this.dn(e,t,r.position)}wn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Ht();return t}yn(e,t,r){const i=[...e],s=[];for(const l of r.arrayValue.values||[])for(const u of i){const d=new gd;d.seed(u.Ht()),$a.Ft.Et(l,d.Xt(t.kind)),s.push(d)}return s}pn(e,t){return!!e.filters.find(r=>r instanceof ot&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=yd(e),i=du(e);return(t?r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.U()).next(s=>{const l=[];return K.forEach(s,u=>i.get([u.indexId,this.uid]).next(d=>{l.push(function(m,g){const v=g?new uh(g.sequenceNumber,new Gr(al(g.readTime),new xe(as(g.documentKey)),g.largestBatchId)):uh.empty(),I=m.fields.map(([b,C])=>new qp($t.fromServerFormat(b),C));return new fm(m.indexId,m.collectionGroup,I,v)}(u,d))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Je(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=yd(e),s=du(e);return this.Sn(e).next(l=>i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(u=>K.forEach(u,d=>s.put(tb(d.indexId,this.uid,l,r)))))}updateIndexEntries(e,t){const r=new Map;return K.forEach(t,(i,s)=>{const l=r.get(i.collectionGroup);return(l?K.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(u=>(r.set(i.collectionGroup,u),K.forEach(u,d=>this.bn(e,i,d).next(f=>{const m=this.Dn(s,d);return f.isEqual(m)?K.resolve():this.vn(e,s,d,f,m)}))))})}Cn(e,t,r,i){return cu(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Fn(e,t,r,i){return cu(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}bn(e,t,r){const i=cu(e);let s=new Tt(ko);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(l,u)=>{s=s.add(new za(r.indexId,t,u.arrayValue,u.directionalValue))}).next(()=>s)}Dn(e,t){let r=new Tt(ko);const i=this.fn(t,e);if(i==null)return r;const s=m_(t);if(s!=null){const l=e.data.field(s.fieldPath);if(fh(l))for(const u of l.arrayValue.values||[])r=r.add(new za(t.indexId,e.key,this.Rn(u),i))}else r=r.add(new za(t.indexId,e.key,bp,i));return r}vn(e,t,r,i,s){he("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(d,f,m,g,v){const I=d.getIterator(),b=f.getIterator();let C=uu(I),x=uu(b);for(;C||x;){let D=!1,U=!1;if(C&&x){const M=m(C,x);M<0?U=!0:M>0&&(D=!0)}else C!=null?U=!0:D=!0;D?(g(x),x=uu(b)):U?(v(C),C=uu(I)):(C=uu(I),x=uu(b))}}(i,s,ko,u=>{l.push(this.Cn(e,t,r,u))},u=>{l.push(this.Fn(e,t,r,u))}),K.waitFor(l)}Sn(e){let t=1;return du(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,u)=>ko(l,u)).filter((l,u,d)=>!u||ko(l,d[u-1])!==0);const i=[];i.push(e);for(const l of r){const u=ko(l,e),d=ko(l,t);if(u===0)i[0]=e.en();else if(u>0&&d<0)i.push(l),i.push(l.en());else if(d>0)break}i.push(t);const s=[];for(let l=0;l<i.length;l+=2){if(this.Mn(i[l],i[l+1]))return[];const u=[i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,bp,[]],d=[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,bp,[]];s.push(IDBKeyRange.bound(u,d))}return s}Mn(e,t){return ko(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ub)}getMinOffset(e,t){return K.mapArray(this.Tn(t),r=>this.In(e,r).next(i=>i||ke())).next(ub)}}function lb(n){return Nn(n,"collectionParents")}function cu(n){return Nn(n,"indexEntries")}function yd(n){return Nn(n,"indexConfiguration")}function du(n){return Nn(n,"indexState")}function ub(n){Me(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;z0(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Gr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ir{static withCacheSize(e){return new ir(e,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],l=IDBKeyRange.only(t.batchId);let u=0;const d=r.J({range:l},(m,g,v)=>(u++,v.delete()));s.push(d.next(()=>{Me(u===1)}));const f=[];for(const m of t.mutations){const g=ax(e,m.key.path,t.batchId);s.push(i.delete(g)),f.push(m.key)}return K.waitFor(s).next(()=>f)}function _m(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ke();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ir.DEFAULT_COLLECTION_PERCENTILE=10,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ir.DEFAULT=new ir(41943040,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ir.DISABLED=new ir(-1,0,0);class lg{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.xn={}}static Pt(e,t,r,i){Me(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new lg(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return No(e).J({index:"userMutationsIndex",range:r},(i,s,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=Tu(e),l=No(e);return l.add({}).next(u=>{Me(typeof u=="number");const d=new Y0(u,t,r,i),f=function(I,b,C){const x=C.baseMutations.map(U=>gh(I.ht,U)),D=C.mutations.map(U=>gh(I.ht,U));return{userId:b,batchId:C.batchId,localWriteTimeMs:C.localWriteTime.toMillis(),baseMutations:x,mutations:D}}(this.serializer,this.userId,d),m=[];let g=new Tt((v,I)=>Je(v.canonicalString(),I.canonicalString()));for(const v of i){const I=ax(this.userId,v.key.path,u);g=g.add(v.key.path.popLast()),m.push(l.put(f)),m.push(s.put(I,Sj))}return g.forEach(v=>{m.push(this.indexManager.addToCollectionParentIndex(e,v))}),e.addOnCommittedListener(()=>{this.xn[u]=d.keys()}),K.waitFor(m).next(()=>d)})}lookupMutationBatch(e,t){return No(e).get(t).next(r=>r?(Me(r.userId===this.userId),Ba(this.serializer,r)):null)}On(e,t){return this.xn[t]?K.resolve(this.xn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.xn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return No(e).J({index:"userMutationsIndex",range:i},(l,u,d)=>{u.userId===this.userId&&(Me(u.batchId>=r),s=Ba(this.serializer,u)),d.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return No(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,s,l)=>{r=s.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return No(e).U("userMutationsIndex",t).next(r=>r.map(i=>Ba(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Hp(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return Tu(e).J({range:i},(l,u,d)=>{const[f,m,g]=l,v=as(m);if(f===this.userId&&t.path.isEqual(v))return No(e).get(g).next(I=>{if(!I)throw ke();Me(I.userId===this.userId),s.push(Ba(this.serializer,I))});d.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Tt(Je);const i=[];return t.forEach(s=>{const l=Hp(this.userId,s.path),u=IDBKeyRange.lowerBound(l),d=Tu(e).J({range:u},(f,m,g)=>{const[v,I,b]=f,C=as(I);v===this.userId&&s.path.isEqual(C)?r=r.add(b):g.done()});i.push(d)}),K.waitFor(i).next(()=>this.Nn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=Hp(this.userId,r),l=IDBKeyRange.lowerBound(s);let u=new Tt(Je);return Tu(e).J({range:l},(d,f,m)=>{const[g,v,I]=d,b=as(v);g===this.userId&&r.isPrefixOf(b)?b.length===i&&(u=u.add(I)):m.done()}).next(()=>this.Nn(e,u))}Nn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(No(e).get(s).next(l=>{if(l===null)throw ke();Me(l.userId===this.userId),r.push(Ba(this.serializer,l))}))}),K.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return sA(e._e,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Ln(t.batchId)}),K.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Ln(e){delete this.xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return K.resolve();const r=IDBKeyRange.lowerBound(function(l){return[l]}(this.userId)),i=[];return Tu(e).J({range:r},(s,l,u)=>{if(s[0]===this.userId){const d=as(s[1]);i.push(d)}else u.done()}).next(()=>{Me(i.length===0)})})}containsKey(e,t){return oA(e,this.userId,t)}Bn(e){return aA(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function oA(n,e,t){const r=Hp(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let l=!1;return Tu(n).J({range:s,H:!0},(u,d,f)=>{const[m,g,v]=u;m===e&&g===i&&(l=!0),f.done()}).next(()=>l)}function No(n){return Nn(n,"mutations")}function Tu(n){return Nn(n,"documentMutations")}function aA(n){return Nn(n,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ll(0)}static Qn(){return new ll(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Kn(e).next(t=>{const r=new ll(t.highestTargetId);return t.highestTargetId=r.next(),this.$n(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Kn(e).next(t=>Be.fromTimestamp(new qt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Kn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Kn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.$n(e,i)))}addTargetData(e,t){return this.Un(e,t).next(()=>this.Kn(e).next(r=>(r.targetCount+=1,this.Wn(t,r),this.$n(e,r))))}updateTargetData(e,t){return this.Un(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>hu(e).delete(t.targetId)).next(()=>this.Kn(e)).next(r=>(Me(r.targetCount>0),r.targetCount-=1,this.$n(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return hu(e).J((l,u)=>{const d=Md(u);d.sequenceNumber<=t&&r.get(d.targetId)===null&&(i++,s.push(this.removeTargetData(e,d)))}).next(()=>K.waitFor(s)).next(()=>i)}forEachTarget(e,t){return hu(e).J((r,i)=>{const s=Md(i);t(s)})}Kn(e){return db(e).get("targetGlobalKey").next(t=>(Me(t!==null),t))}$n(e,t){return db(e).put("targetGlobalKey",t)}Un(e,t){return hu(e).put(nA(this.serializer,t))}Wn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Kn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=rl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return hu(e).J({range:i,index:"queryTargetsIndex"},(l,u,d)=>{const f=Md(u);Vh(t,f.target)&&(s=f,d.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=Mo(e);return t.forEach(l=>{const u=or(l.path);i.push(s.put({targetId:r,path:u})),i.push(this.referenceDelegate.addReference(e,r,l))}),K.waitFor(i)}removeMatchingKeys(e,t,r){const i=Mo(e);return K.forEach(t,s=>{const l=or(s.path);return K.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=Mo(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Mo(e);let s=Ye();return i.J({range:r,H:!0},(l,u,d)=>{const f=as(l[1]),m=new xe(f);s=s.add(m)}).next(()=>s)}containsKey(e,t){const r=or(t.path),i=IDBKeyRange.bound([r],[ex(r)],!1,!0);let s=0;return Mo(e).J({index:"documentTargetsIndex",H:!0,range:i},([l,u],d,f)=>{l!==0&&(s++,f.done())}).next(()=>s>0)}ut(e,t){return hu(e).get(t).next(r=>r?Md(r):null)}}function hu(n){return Nn(n,"targets")}function db(n){return Nn(n,"targetGlobal")}function Mo(n){return Nn(n,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb([n,e],[t,r]){const i=Je(n,t);return i===0?Je(e,r):i}class jU{constructor(e){this.Gn=e,this.buffer=new Tt(hb),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();hb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lA{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){he("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){aa(t)?he("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await oa(t)}await this.Yn(3e5)})}}class UU{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return K.resolve(Ar.oe);const r=new jU(t);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(cb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cb):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,i,s,l,u,d,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,u=Date.now(),this.removeTargets(e,r,t))).next(g=>(s=g,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(f=Date.now(),wu()<=nt.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${s} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(f-d)+`ms
Total Duration: ${f-m}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}}function uA(n,e){return new UU(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e,t){this.db=e,this.garbageCollector=uA(this,t)}Xn(e){const t=this.nr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}er(e,t){return this.rr(e,(r,i)=>t(i))}addReference(e,t,r){return Rp(e,r)}removeReference(e,t,r){return Rp(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Rp(e,t)}ir(e,t){return function(i,s){let l=!1;return aA(i).Y(u=>oA(i,u,s).next(d=>(d&&(l=!0),K.resolve(!d)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.rr(e,(l,u)=>{if(u<=t){const d=this.ir(e,l).next(f=>{if(!f)return s++,r.getEntry(e,l).next(()=>(r.removeEntry(l,Be.min()),Mo(e).delete(function(g){return[0,or(g.path)]}(l))))});i.push(d)}}).next(()=>K.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Rp(e,t)}rr(e,t){const r=Mo(e);let i,s=Ar.oe;return r.J({index:"documentTargetsIndex"},([l,u],{path:d,sequenceNumber:f})=>{l===0?(s!==Ar.oe&&t(new xe(as(i)),s),s=f,i=d):s=Ar.oe}).next(()=>{s!==Ar.oe&&t(new xe(as(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Rp(n,e){return Mo(n).put(function(r,i){return{targetId:0,path:or(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(){this.changes=new to(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?K.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Oa(e).put(r)}removeEntry(e,t,r){return Oa(e).delete(function(s,l){const u=s.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],ym(l),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.sr(e,r)))}getEntry(e,t){let r=Vt.newInvalidDocument(t);return Oa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(vd(t))},(i,s)=>{r=this._r(t,s)}).next(()=>r)}ar(e,t){let r={size:0,document:Vt.newInvalidDocument(t)};return Oa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(vd(t))},(i,s)=>{r={document:this._r(t,s),size:_m(s)}}).next(()=>r)}getEntries(e,t){let r=kr();return this.ur(e,t,(i,s)=>{const l=this._r(i,s);r=r.insert(i,l)}).next(()=>r)}cr(e,t){let r=kr(),i=new Nt(xe.comparator);return this.ur(e,t,(s,l)=>{const u=this._r(s,l);r=r.insert(s,u),i=i.insert(s,_m(l))}).next(()=>({documents:r,lr:i}))}ur(e,t,r){if(t.isEmpty())return K.resolve();let i=new Tt(mb);t.forEach(d=>i=i.add(d));const s=IDBKeyRange.bound(vd(i.first()),vd(i.last())),l=i.getIterator();let u=l.getNext();return Oa(e).J({index:"documentKeyIndex",range:s},(d,f,m)=>{const g=xe.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;u&&mb(u,g)<0;)r(u,null),u=l.getNext();u&&u.isEqual(g)&&(r(u,f),u=l.hasNext()?l.getNext():null),u?m.$(vd(u)):m.done()}).next(()=>{for(;u;)r(u,null),u=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,s){const l=t.path,u=[l.popLast().toArray(),l.lastSegment(),ym(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Oa(e).U(IDBKeyRange.bound(u,d,!0)).next(f=>{s==null||s.incrementDocumentReadCount(f.length);let m=kr();for(const g of f){const v=this._r(xe.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);v.isFoundDocument()&&(jh(t,v)||i.has(v.key))&&(m=m.insert(v.key,v))}return m})}getAllFromCollectionGroup(e,t,r,i){let s=kr();const l=pb(t,r),u=pb(t,Gr.max());return Oa(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,u,!0)},(d,f,m)=>{const g=this._r(xe.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);s=s.insert(g.key,g),s.size===i&&m.done()}).next(()=>s)}newChangeBuffer(e){return new zU(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return fb(e).get("remoteDocumentGlobalKey").next(t=>(Me(!!t),t))}sr(e,t){return fb(e).put("remoteDocumentGlobalKey",t)}_r(e,t){if(t){const r=xU(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Be.min())))return r}return Vt.newInvalidDocument(e)}}function dA(n){return new $U(n)}class zU extends cA{constructor(e,t){super(),this.hr=e,this.trackRemovals=t,this.Pr=new to(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Tt((s,l)=>Je(s.canonicalString(),l.canonicalString()));return this.changes.forEach((s,l)=>{const u=this.Pr.get(s);if(t.push(this.hr.removeEntry(e,s,u.readTime)),l.isValidDocument()){const d=ZT(this.hr.serializer,l);i=i.add(s.path.popLast());const f=_m(d);r+=f-u.size,t.push(this.hr.addEntry(e,s,d))}else if(r-=u.size,this.trackRemovals){const d=ZT(this.hr.serializer,l.convertToNoDocument(Be.min()));t.push(this.hr.addEntry(e,s,d))}}),i.forEach(s=>{t.push(this.hr.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.hr.updateMetadata(e,r)),K.waitFor(t)}getFromCache(e,t){return this.hr.ar(e,t).next(r=>(this.Pr.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.hr.cr(e,t).next(({documents:r,lr:i})=>(i.forEach((s,l)=>{this.Pr.set(s,{size:l,readTime:r.get(s).readTime})}),r))}}function fb(n){return Nn(n,"remoteDocumentGlobal")}function Oa(n){return Nn(n,"remoteDocumentsV14")}function vd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function pb(n,e){const t=e.documentKey.path.toArray();return[n,ym(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function mb(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Je(t[s],r[s]),i)return i;return i=Je(t.length,r.length),i||(i=Je(t[t.length-2],r[r.length-2]),i||Je(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Gd(r.mutation,i,Pr.empty(),qt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ye()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ye()){const i=ls();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let l=Dd();return s.forEach((u,d)=>{l=l.insert(u,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=ls();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ye()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let s=kr();const l=Hd(),u=function(){return Hd()}();return t.forEach((d,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof no)?s=s.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),Gd(m.mutation,f,m.mutation.getFieldMask(),qt.now())):l.set(f.key,Pr.empty())}),this.recalculateAndSaveOverlays(e,s).next(d=>(d.forEach((f,m)=>l.set(f,m)),t.forEach((f,m)=>{var g;return u.set(f,new WU(m,(g=l.get(f))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,t){const r=Hd();let i=new Nt((l,u)=>l-u),s=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(d=>{const f=t.get(d);if(f===null)return;let m=r.get(d)||Pr.empty();m=u.applyToLocalView(f,m),r.set(d,m);const g=(i.get(u.batchId)||Ye()).add(d);i=i.insert(u.batchId,g)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),f=d.key,m=d.value,g=Ax();m.forEach(v=>{if(!s.has(v)){const I=Lx(t.get(v),r.get(v));I!==null&&g.set(v,I),s=s.add(v)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,g))}return K.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return xe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):G0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):K.resolve(ls());let u=-1,d=s;return l.next(f=>K.forEach(f,(m,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(m)?K.resolve():this.remoteDocumentCache.getEntry(e,m).next(v=>{d=d.insert(m,v)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,d,f,Ye())).next(m=>({batchId:u,changes:xx(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xe(t)).next(r=>{let i=Dd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let l=Dd();return this.indexManager.getCollectionParents(e,s).next(u=>K.forEach(u,d=>{const f=function(g,v){return new eo(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(m=>{m.forEach((g,v)=>{l=l.insert(g,v)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(l=>{s.forEach((d,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,Vt.newInvalidDocument(m)))});let u=Dd();return l.forEach((d,f)=>{const m=s.get(d);m!==void 0&&Gd(m.mutation,f,Pr.empty(),qt.now()),jh(t,f)&&(u=u.insert(d,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return K.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:vn(i.createTime)}}(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(i){return{name:i.name,query:nw(i.bundledQuery),readTime:vn(i.readTime)}}(t)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(){this.overlays=new Nt(xe.comparator),this.Er=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ls();return K.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Tt(e,t,s)}),K.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Er.delete(r)),K.resolve()}getOverlaysForCollection(e,t,r){const i=ls(),s=t.length+1,l=new xe(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return K.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Nt((f,m)=>f-m);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let m=s.get(f.largestBatchId);m===null&&(m=ls(),s=s.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const u=ls(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,m)=>u.set(f,m)),!(u.size()>=i)););return K.resolve(u)}Tt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Z0(t,r));let s=this.Er.get(t);s===void 0&&(s=Ye(),this.Er.set(t,s)),this.Er.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.dr=new Tt(Vn.Ar),this.Rr=new Tt(Vn.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const r=new Vn(e,t);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new Vn(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new xe(new it([])),r=new Vn(t,e),i=new Vn(t,e+1),s=[];return this.Rr.forEachInRange([r,i],l=>{this.gr(l),s.push(l.key)}),s}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new xe(new it([])),r=new Vn(t,e),i=new Vn(t,e+1);let s=Ye();return this.Rr.forEachInRange([r,i],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new Vn(e,0),r=this.dr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Vn{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return xe.comparator(e.key,t.key)||Je(e.br,t.br)}static Vr(e,t){return Je(e.br,t.br)||xe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Tt(Vn.Ar)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Y0(s,t,r,i);this.mutationQueue.push(l);for(const u of i)this.vr=this.vr.add(new Vn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return K.resolve(l)}lookupMutationBatch(e,t){return K.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Fr(r),s=i<0?0:i;return K.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Vn(t,0),i=new Vn(t,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([r,i],l=>{const u=this.Cr(l.br);s.push(u)}),K.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Tt(Je);return t.forEach(i=>{const s=new Vn(i,0),l=new Vn(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([s,l],u=>{r=r.add(u.br)})}),K.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;xe.isDocumentKey(s)||(s=s.child(""));const l=new Vn(new xe(s),0);let u=new Tt(Je);return this.vr.forEachWhile(d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(d.br)),!0)},l),K.resolve(this.Mr(u))}Mr(e){const t=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Me(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return K.forEach(t.mutations,i=>{const s=new Vn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,t){const r=new Vn(t,0),i=this.vr.firstAfterOrEqual(r);return K.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e){this.Nr=e,this.docs=function(){return new Nt(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,l=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return K.resolve(r?r.document.mutableCopy():Vt.newInvalidDocument(t))}getEntries(e,t){let r=kr();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Vt.newInvalidDocument(i))}),K.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=kr();const l=t.path,u=new xe(l.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:m}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||z0(nx(m),r)<=0||(i.has(m.key)||jh(t,m))&&(s=s.insert(m.key,m.mutableCopy()))}return K.resolve(s)}getAllFromCollectionGroup(e,t,r,i){ke()}Lr(e,t){return K.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new JU(this)}getSize(e){return K.resolve(this.size)}}class JU extends cA{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),K.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e){this.persistence=e,this.Br=new to(t=>rl(t),Vh),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.kr=0,this.qr=new sw,this.targetCount=0,this.Qr=ll.qn()}forEachTarget(e,t){return this.Br.forEach((r,i)=>t(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),K.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new ll(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.Un(t),K.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Br.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.Br.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),K.waitFor(s).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const r=this.Br.get(t)||null;return K.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),K.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(l=>{s.push(i.markPotentiallyOrphaned(e,l))}),K.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return K.resolve(r)}containsKey(e,t){return K.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Ar(0),this.Ur=!1,this.Ur=!0,this.Wr=new GU,this.referenceDelegate=e(this),this.Gr=new YU(this),this.indexManager=new LU,this.remoteDocumentCache=function(i){return new QU(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new tA(t),this.jr=new qU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new HU,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new KU(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const i=new XU(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(s=>this.referenceDelegate.Jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Yr(e,t){return K.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class XU extends ix{constructor(e){super(),this.currentSequenceNumber=e}}class ug{constructor(e){this.persistence=e,this.Zr=new sw,this.Xr=null}static ei(e){return new ug(e)}get ti(){if(this.Xr)return this.Xr;throw ke()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),K.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),K.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.ti.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ti,r=>{const i=xe.fromPath(r);return this.ni(e,i).next(s=>{s||t.removeEntry(i,Be.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return K.or([()=>K.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class wm{constructor(e,t){this.persistence=e,this.ri=new to(r=>or(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=uA(this,t)}static ei(e,t){return new wm(e,t)}Hr(){}Jr(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return K.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(s=>s?K.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Lr(e,l=>this.ir(e,l,t).next(u=>{u||(r++,s.removeEntry(l,Be.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),K.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Kp(e.data.value)),t}ir(e,t,r){return K.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.ri.get(t);return K.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e){this.serializer=e}O(e,t,r,i){const s=new tg("createOrUpgrade",t);r<1&&i>=1&&(function(d){d.createObjectStore("owner")}(e),function(d){d.createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",PT,{unique:!0}),d.createObjectStore("documentMutations")}(e),gb(e),function(d){d.createObjectStore("remoteDocuments")}(e));let l=K.resolve();return r<3&&i>=3&&(r!==0&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(e),gb(e)),l=l.next(()=>function(d){const f=d.store("targetGlobal"),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Be.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",m)}(s))),r<4&&i>=4&&(r!==0&&(l=l.next(()=>function(d,f){return f.store("mutations").U().next(m=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",PT,{unique:!0});const g=f.store("mutations"),v=m.map(I=>g.put(I));return K.waitFor(v)})}(e,s))),l=l.next(()=>{(function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(l=l.next(()=>this.ii(s))),r<6&&i>=6&&(l=l.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(e),this.si(s)))),r<7&&i>=7&&(l=l.next(()=>this.oi(s))),r<8&&i>=8&&(l=l.next(()=>this._i(e,s))),r<9&&i>=9&&(l=l.next(()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(l=l.next(()=>this.ai(s))),r<11&&i>=11&&(l=l.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(l=l.next(()=>{(function(d){const f=d.createObjectStore("documentOverlays",{keyPath:Mj});f.createIndex("collectionPathOverlayIndex",Lj,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",Vj,{unique:!1})})(e)})),r<13&&i>=13&&(l=l.next(()=>function(d){const f=d.createObjectStore("remoteDocumentsV14",{keyPath:Tj});f.createIndex("documentKeyIndex",bj),f.createIndex("collectionGroupIndex",Rj)}(e)).next(()=>this.ui(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(l=l.next(()=>this.ci(e,s))),r<15&&i>=15&&(l=l.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:kj}).createIndex("sequenceNumberIndex",Nj,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:Dj}).createIndex("documentKeyIndex",Oj,{unique:!1})}(e))),r<16&&i>=16&&(l=l.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),r<17&&i>=17&&(l=l.next(()=>{(function(d){d.createObjectStore("globals",{keyPath:"name"})})(e)})),l}si(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=_m(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ii(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.U().next(i=>K.forEach(i,s=>{const l=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",l).next(u=>K.forEach(u,d=>{Me(d.userId===s.userId);const f=Ba(this.serializer,d);return sA(e,s.userId,f).next(()=>{})}))}))}oi(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((l,u)=>{const d=new it(l),f=function(g){return[0,or(g)]}(d);s.push(t.get(f).next(m=>m?K.resolve():(g=>t.put({targetId:0,path:or(g),sequenceNumber:i.highestListenSequenceNumber}))(d)))}).next(()=>K.waitFor(s))})}_i(e,t){e.createObjectStore("collectionParents",{keyPath:Pj});const r=t.store("collectionParents"),i=new iw,s=l=>{if(i.add(l)){const u=l.lastSegment(),d=l.popLast();return r.put({collectionId:u,parent:or(d)})}};return t.store("remoteDocuments").J({H:!0},(l,u)=>{const d=new it(l);return s(d.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([l,u,d],f)=>{const m=as(u);return s(m.popLast())}))}ai(e){const t=e.store("targets");return t.J((r,i)=>{const s=Md(i),l=nA(this.serializer,s);return t.put(l)})}ui(e,t){const r=t.store("remoteDocuments"),i=[];return r.J((s,l)=>{const u=t.store("remoteDocumentsV14"),d=function(g){return g.document?new xe(it.fromString(g.document.name).popFirst(5)):g.noDocument?xe.fromSegments(g.noDocument.path):g.unknownDocument?xe.fromSegments(g.unknownDocument.path):ke()}(l).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(u.put(f))}).next(()=>K.waitFor(i))}ci(e,t){const r=t.store("mutations"),i=dA(this.serializer),s=new ow(ug.ei,this.serializer.ht);return r.U().next(l=>{const u=new Map;return l.forEach(d=>{var f;let m=(f=u.get(d.userId))!==null&&f!==void 0?f:Ye();Ba(this.serializer,d).keys().forEach(g=>m=m.add(g)),u.set(d.userId,m)}),K.forEach(u,(d,f)=>{const m=new Fn(f),g=ag.Pt(this.serializer,m),v=s.getIndexManager(m),I=lg.Pt(m,this.serializer,v,s.referenceDelegate);return new hA(i,I,g,v).recalculateAndSaveOverlaysForDocumentKeys(new g_(t,Ar.oe),d).next()})})}}function gb(n){n.createObjectStore("targetDocuments",{keyPath:xj}).createIndex("documentTargetsIndex",Aj,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Cj,{unique:!0}),n.createObjectStore("targetGlobal")}const Lv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class aw{constructor(e,t,r,i,s,l,u,d,f,m,g=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.li=s,this.window=l,this.document=u,this.hi=f,this.Pi=m,this.Ti=g,this.$r=null,this.Ur=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ii=null,this.inForeground=!1,this.Ei=null,this.di=null,this.Ai=Number.NEGATIVE_INFINITY,this.Ri=v=>Promise.resolve(),!aw.p())throw new ce(ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new BU(this,i),this.Vi=t+"main",this.serializer=new tA(d),this.mi=new us(this.Vi,this.Ti,new ZU(this.serializer)),this.Wr=new PU,this.Gr=new FU(this.referenceDelegate,this.serializer),this.remoteDocumentCache=dA(this.serializer),this.jr=new AU,this.window&&this.window.localStorage?this.fi=this.window.localStorage:(this.fi=null,m===!1&&yn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ce(ee.FAILED_PRECONDITION,Lv);return this.pi(),this.yi(),this.wi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Gr.getHighestSequenceNumber(e))}).then(e=>{this.$r=new Ar(e,this.hi)}).then(()=>{this.Ur=!0}).catch(e=>(this.mi&&this.mi.close(),Promise.reject(e)))}Si(e){return this.Ri=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.mi.L(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.li.enqueueAndForget(async()=>{this.started&&await this.gi()}))}gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Cp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.bi(e).next(t=>{t||(this.isPrimary=!1,this.li.enqueueRetryable(()=>this.Ri(!1)))})}).next(()=>this.Di(e)).next(t=>this.isPrimary&&!t?this.vi(e).next(()=>!1):!!t&&this.Ci(e).next(()=>!0))).catch(e=>{if(aa(e))return he("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return he("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.li.enqueueRetryable(()=>this.Ri(e)),this.isPrimary=e})}bi(e){return _d(e).get("owner").next(t=>K.resolve(this.Fi(t)))}Mi(e){return Cp(e).delete(this.clientId)}async xi(){if(this.isPrimary&&!this.Oi(this.Ai,18e5)){this.Ai=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=Nn(t,"clientMetadata");return r.U().next(i=>{const s=this.Ni(i,18e5),l=i.filter(u=>s.indexOf(u)===-1);return K.forEach(l,u=>r.delete(u.clientId)).next(()=>l)})}).catch(()=>[]);if(this.fi)for(const t of e)this.fi.removeItem(this.Li(t.clientId))}}wi(){this.di=this.li.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gi().then(()=>this.xi()).then(()=>this.wi()))}Fi(e){return!!e&&e.ownerId===this.clientId}Di(e){return this.Pi?K.resolve(!0):_d(e).get("owner").next(t=>{if(t!==null&&this.Oi(t.leaseTimestampMs,5e3)&&!this.Bi(t.ownerId)){if(this.Fi(t)&&this.networkEnabled)return!0;if(!this.Fi(t)){if(!t.allowTabSynchronization)throw new ce(ee.FAILED_PRECONDITION,Lv);return!1}}return!(!this.networkEnabled||!this.inForeground)||Cp(e).U().next(r=>this.Ni(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,u=this.networkEnabled===i.networkEnabled;if(s||l&&u)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&he("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.Ur=!1,this.ki(),this.di&&(this.di.cancel(),this.di=null),this.qi(),this.Qi(),await this.mi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const t=new g_(e,Ar.oe);return this.vi(t).next(()=>this.Mi(t))}),this.mi.close(),this.Ki()}Ni(e,t){return e.filter(r=>this.Oi(r.updateTimeMs,t)&&!this.Bi(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Cp(e).U().next(t=>this.Ni(t,18e5).map(r=>r.clientId)))}get started(){return this.Ur}getGlobalsCache(){return this.Wr}getMutationQueue(e,t){return lg.Pt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new VU(e,this.serializer.ht.databaseId)}getDocumentOverlayCache(e){return ag.Pt(this.serializer,e)}getBundleCache(){return this.jr}runTransaction(e,t,r){he("IndexedDbPersistence","Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",s=function(d){return d===17?Uj:d===16?jj:d===15?q0:d===14?cx:d===13?ux:d===12?Fj:d===11?lx:void ke()}(this.Ti);let l;return this.mi.runTransaction(e,i,s,u=>(l=new g_(u,this.$r?this.$r.next():Ar.oe),t==="readwrite-primary"?this.bi(l).next(d=>!!d||this.Di(l)).next(d=>{if(!d)throw yn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.li.enqueueRetryable(()=>this.Ri(!1)),new ce(ee.FAILED_PRECONDITION,rx);return r(l)}).next(d=>this.Ci(l).next(()=>d)):this.Ui(l).next(()=>r(l)))).then(u=>(l.raiseOnCommittedEvent(),u))}Ui(e){return _d(e).get("owner").next(t=>{if(t!==null&&this.Oi(t.leaseTimestampMs,5e3)&&!this.Bi(t.ownerId)&&!this.Fi(t)&&!(this.Pi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ce(ee.FAILED_PRECONDITION,Lv)})}Ci(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _d(e).put("owner",t)}static p(){return us.p()}vi(e){const t=_d(e);return t.get("owner").next(r=>this.Fi(r)?(he("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):K.resolve())}Oi(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(yn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}pi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ei=()=>{this.li.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.gi()))},this.document.addEventListener("visibilitychange",this.Ei),this.inForeground=this.document.visibilityState==="visible")}qi(){this.Ei&&(this.document.removeEventListener("visibilitychange",this.Ei),this.Ei=null)}yi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ii=()=>{this.ki();const t=/(?:Version|Mobile)\/1[456]/;wR()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.li.enterRestrictedMode(!0),this.li.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ii))}Qi(){this.Ii&&(this.window.removeEventListener("pagehide",this.Ii),this.Ii=null)}Bi(e){var t;try{const r=((t=this.fi)===null||t===void 0?void 0:t.getItem(this.Li(e)))!==null;return he("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return yn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}ki(){if(this.fi)try{this.fi.setItem(this.Li(this.clientId),String(Date.now()))}catch(e){yn("Failed to set zombie client id.",e)}}Ki(){if(this.fi)try{this.fi.removeItem(this.Li(this.clientId))}catch{}}Li(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function _d(n){return Nn(n,"owner")}function Cp(n){return Nn(n,"clientMetadata")}function lw(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=i}static zi(e,t){let r=Ye(),i=Ye();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new uw(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return wR()?8:sx(Yt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.Xi(e,t).next(l=>{s.result=l}).next(()=>{if(!s.result)return this.es(e,t,i,r).next(l=>{s.result=l})}).next(()=>{if(s.result)return;const l=new e4;return this.ts(e,t,l).next(u=>{if(s.result=u,this.Hi)return this.ns(e,t,l,u.size)})}).next(()=>s.result)}ns(e,t,r,i){return r.documentReadCount<this.Ji?(wu()<=nt.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Eu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),K.resolve()):(wu()<=nt.DEBUG&&he("QueryEngine","Query:",Eu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(wu()<=nt.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Eu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(t))):K.resolve())}Xi(e,t){if(zT(t))return K.resolve(null);let r=gr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=gm(t,null,"F"),r=gr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const l=Ye(...s);return this.Zi.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(d=>{const f=this.rs(t,u);return this.ss(t,f,l,d.readTime)?this.Xi(e,gm(t,null,"F")):this.os(e,f,t,d)}))})))}es(e,t,r,i){return zT(t)||i.isEqual(Be.min())?K.resolve(null):this.Zi.getDocuments(e,r).next(s=>{const l=this.rs(t,s);return this.ss(t,l,r,i)?K.resolve(null):(wu()<=nt.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Eu(t)),this.os(e,l,t,tx(i,-1)).next(u=>u))})}rs(e,t){let r=new Tt(Rx(e));return t.forEach((i,s)=>{jh(e,s)&&(r=r.add(s))}),r}ss(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ts(e,t,r){return wu()<=nt.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Eu(t)),this.Zi.getDocumentsMatchingQuery(e,t,Gr.min(),r)}os(e,t,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(l=>{s=s.insert(l.key,l)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,t,r,i){this.persistence=e,this._s=t,this.serializer=i,this.us=new Nt(Je),this.cs=new to(s=>rl(s),Vh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hA(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function pA(n,e,t,r){return new t4(n,e,t,r)}async function mA(n,e){const t=Ae(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const l=[],u=[];let d=Ye();for(const f of i){l.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}for(const f of s){u.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(r,d).next(f=>({Ts:f,removedBatchIds:l,addedBatchIds:u}))})})}function n4(n,e){const t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.hs.newChangeBuffer({trackRemovals:!0});return function(u,d,f,m){const g=f.batch,v=g.keys();let I=K.resolve();return v.forEach(b=>{I=I.next(()=>m.getEntry(d,b)).next(C=>{const x=f.docVersions.get(b);Me(x!==null),C.version.compareTo(x)<0&&(g.applyToRemoteDocument(C,f),C.isValidDocument()&&(C.setReadTime(f.commitVersion),m.addEntry(C)))})}),I.next(()=>u.mutationQueue.removeMutationBatch(d,g))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let d=Ye();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function gA(n){const e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function r4(n,e){const t=Ae(n),r=e.snapshotVersion;let i=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=t.hs.newChangeBuffer({trackRemovals:!0});i=t.us;const u=[];e.targetChanges.forEach((m,g)=>{const v=i.get(g);if(!v)return;u.push(t.Gr.removeMatchingKeys(s,m.removedDocuments,g).next(()=>t.Gr.addMatchingKeys(s,m.addedDocuments,g)));let I=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?I=I.withResumeToken(an.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):m.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(m.resumeToken,r)),i=i.insert(g,I),function(C,x,D){return C.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(v,I,m)&&u.push(t.Gr.updateTargetData(s,I))});let d=kr(),f=Ye();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,m))}),u.push(yA(s,l,e.documentUpdates).next(m=>{d=m.Is,f=m.Es})),!r.isEqual(Be.min())){const m=t.Gr.getLastRemoteSnapshotVersion(s).next(g=>t.Gr.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(m)}return K.waitFor(u).next(()=>l.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,d,f)).next(()=>d)}).then(s=>(t.us=i,s))}function yA(n,e,t){let r=Ye(),i=Ye();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let l=kr();return t.forEach((u,d)=>{const f=s.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Be.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):he("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)}),{Is:l,Es:i}})}function i4(n,e){const t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ku(n,e){const t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Gr.getTargetData(r,e).next(s=>s?(i=s,K.resolve(i)):t.Gr.allocateTargetId(r).next(l=>(i=new Vs(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function Qu(n,e,t){const r=Ae(n),i=r.us.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!aa(l))throw l;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function Em(n,e,t){const r=Ae(n);let i=Be.min(),s=Ye();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,f,m){const g=Ae(d),v=g.cs.get(m);return v!==void 0?K.resolve(g.us.get(v)):g.Gr.getTargetData(f,m)}(r,l,gr(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(l,u.targetId).next(d=>{s=d})}).next(()=>r._s.getDocumentsMatchingQuery(l,e,t?i:Be.min(),t?s:Ye())).next(u=>(wA(r,bx(e),u),{documents:u,ds:s})))}function vA(n,e){const t=Ae(n),r=Ae(t.Gr),i=t.us.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.ut(s,e).next(l=>l?l.target:null))}function _A(n,e){const t=Ae(n),r=t.ls.get(e)||Be.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.hs.getAllFromCollectionGroup(i,e,tx(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(wA(t,e,i),i))}function wA(n,e,t){let r=n.ls.get(e)||Be.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.ls.set(e,r)}async function s4(n,e,t,r){const i=Ae(n);let s=Ye(),l=kr();for(const f of t){const m=e.As(f.metadata.name);f.document&&(s=s.add(m));const g=e.Rs(f);g.setReadTime(e.Vs(f.metadata.readTime)),l=l.insert(m,g)}const u=i.hs.newChangeBuffer({trackRemovals:!0}),d=await Ku(i,function(m){return gr(fc(it.fromString(`__bundle__/docs/${m}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",f=>yA(f,u,l).next(m=>(u.apply(f),m)).next(m=>i.Gr.removeMatchingKeysForTargetId(f,d.targetId).next(()=>i.Gr.addMatchingKeys(f,s,d.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,m.Is,m.Es)).next(()=>m.Is)))}async function o4(n,e,t=Ye()){const r=await Ku(n,gr(nw(e.bundledQuery))),i=Ae(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const l=vn(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.jr.saveNamedQuery(s,e);const u=r.withResumeToken(an.EMPTY_BYTE_STRING,l);return i.us=i.us.insert(u.targetId,u),i.Gr.updateTargetData(s,u).next(()=>i.Gr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Gr.addMatchingKeys(s,t,r.targetId)).next(()=>i.jr.saveNamedQuery(s,e))})}function yb(n,e){return`firestore_clients_${n}_${e}`}function vb(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Vv(n,e){return`firestore_targets_${n}_${e}`}class Im{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static fs(e,t,r){const i=JSON.parse(r);let s,l=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(s=new ce(i.error.code,i.error.message))),l?new Im(e,t,i.state,s):(yn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Kd{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static fs(e,t){const r=JSON.parse(t);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new ce(r.error.code,r.error.message))),s?new Kd(e,r.state,i):(yn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Sm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static fs(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=K0();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=ox(r.activeTargetIds[l]),s=s.add(r.activeTargetIds[l]);return i?new Sm(e,s):(yn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class cw{constructor(e,t){this.clientId=e,this.onlineState=t}static fs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new cw(t.clientId,t.onlineState):(yn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class P_{constructor(){this.activeTargetIds=K0()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Fv{constructor(e,t,r,i,s){this.window=e,this.li=t,this.persistenceKey=r,this.ws=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ss=this.bs.bind(this),this.Ds=new Nt(Je),this.started=!1,this.vs=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Cs=yb(this.persistenceKey,this.ws),this.Fs=function(d){return`firestore_sequence_number_${d}`}(this.persistenceKey),this.Ds=this.Ds.insert(this.ws,new P_),this.Ms=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.xs=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Os=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.Ns=function(d){return`firestore_online_state_${d}`}(this.persistenceKey),this.Ls=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.Ss)}static p(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const r of e){if(r===this.ws)continue;const i=this.getItem(yb(this.persistenceKey,r));if(i){const s=Sm.fs(r,i);s&&(this.Ds=this.Ds.insert(s.clientId,s))}}this.Bs();const t=this.storage.getItem(this.Ns);if(t){const r=this.ks(t);r&&this.qs(r)}for(const r of this.vs)this.bs(r);this.vs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Fs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Qs(this.Ds)}isActiveQueryTarget(e){let t=!1;return this.Ds.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ks(e,"pending")}updateMutationState(e,t,r){this.Ks(e,t,r),this.$s(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Vv(this.persistenceKey,e));if(i){const s=Kd.fs(e,i);s&&(r=s.state)}}return t&&this.Us.ps(e),this.Bs(),r}removeLocalQueryTarget(e){this.Us.ys(e),this.Bs()}isLocalQueryTarget(e){return this.Us.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Vv(this.persistenceKey,e))}updateQueryState(e,t,r){this.Ws(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.$s(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Gs(e)}notifyBundleLoaded(e){this.zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ss),this.removeItem(this.Cs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return he("SharedClientState","READ",e,t),t}setItem(e,t){he("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){he("SharedClientState","REMOVE",e),this.storage.removeItem(e)}bs(e){const t=e;if(t.storageArea===this.storage){if(he("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Cs)return void yn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.li.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Ms.test(t.key)){if(t.newValue==null){const r=this.js(t.key);return this.Hs(r,null)}{const r=this.Js(t.key,t.newValue);if(r)return this.Hs(r.clientId,r)}}else if(this.xs.test(t.key)){if(t.newValue!==null){const r=this.Ys(t.key,t.newValue);if(r)return this.Zs(r)}}else if(this.Os.test(t.key)){if(t.newValue!==null){const r=this.Xs(t.key,t.newValue);if(r)return this.eo(r)}}else if(t.key===this.Ns){if(t.newValue!==null){const r=this.ks(t.newValue);if(r)return this.qs(r)}}else if(t.key===this.Fs){const r=function(s){let l=Ar.oe;if(s!=null)try{const u=JSON.parse(s);Me(typeof u=="number"),l=u}catch(u){yn("SharedClientState","Failed to read sequence number from WebStorage",u)}return l}(t.newValue);r!==Ar.oe&&this.sequenceNumberHandler(r)}else if(t.key===this.Ls){const r=this.no(t.newValue);await Promise.all(r.map(i=>this.syncEngine.ro(i)))}}}else this.vs.push(t)})}}get Us(){return this.Ds.get(this.ws)}Bs(){this.setItem(this.Cs,this.Us.gs())}Ks(e,t,r){const i=new Im(this.currentUser,e,t,r),s=vb(this.persistenceKey,this.currentUser,e);this.setItem(s,i.gs())}$s(e){const t=vb(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Gs(e){const t={clientId:this.ws,onlineState:e};this.storage.setItem(this.Ns,JSON.stringify(t))}Ws(e,t,r){const i=Vv(this.persistenceKey,e),s=new Kd(e,t,r);this.setItem(i,s.gs())}zs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Ls,t)}js(e){const t=this.Ms.exec(e);return t?t[1]:null}Js(e,t){const r=this.js(e);return Sm.fs(r,t)}Ys(e,t){const r=this.xs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Im.fs(new Fn(s),i,t)}Xs(e,t){const r=this.Os.exec(e),i=Number(r[1]);return Kd.fs(i,t)}ks(e){return cw.fs(e)}no(e){return JSON.parse(e)}async Zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.io(e.batchId,e.state,e.error);he("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}eo(e){return this.syncEngine.so(e.targetId,e.state,e.error)}Hs(e,t){const r=t?this.Ds.insert(e,t):this.Ds.remove(e),i=this.Qs(this.Ds),s=this.Qs(r),l=[],u=[];return s.forEach(d=>{i.has(d)||l.push(d)}),i.forEach(d=>{s.has(d)||u.push(d)}),this.syncEngine.oo(l,u).then(()=>{this.Ds=r})}qs(e){this.Ds.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Qs(e){let t=K0();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class EA{constructor(){this._o=new P_,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new P_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xp=null;function jv(){return xp===null?xp=function(){return 268435456+Math.round(2147483648*Math.random())}():xp++,"0x"+xp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr="WebChannelConnection";class c4 extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${i}/databases/${s}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Oo(t,r,i,s,l){const u=jv(),d=this.No(t,r.toUriEncodedString());he("RestConnection",`Sending RPC '${t}' ${u}:`,d,i);const f={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(f,s,l),this.Bo(t,d,f,i).then(m=>(he("RestConnection",`Received RPC '${t}' ${u}: `,m),m),m=>{throw fs("RestConnection",`RPC '${t}' ${u} failed with error: `,m,"url: ",d,"request:",i),m})}ko(t,r,i,s,l,u){return this.Oo(t,r,i,s,l)}Lo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,l)=>t[l]=s),i&&i.headers.forEach((s,l)=>t[l]=s)}No(t,r){const i=l4[t];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,r,i){const s=jv();return new Promise((l,u)=>{const d=new GC;d.setWithCredentials(!0),d.listenOnce(KC.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Wp.NO_ERROR:const m=d.getResponseJson();he(nr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),l(m);break;case Wp.TIMEOUT:he(nr,`RPC '${e}' ${s} timed out`),u(new ce(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Wp.HTTP_ERROR:const g=d.getStatus();if(he(nr,`RPC '${e}' ${s} failed with status:`,g,"response text:",d.getResponseText()),g>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const I=v==null?void 0:v.error;if(I&&I.status&&I.message){const b=function(x){const D=x.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(D)>=0?D:ee.UNKNOWN}(I.status);u(new ce(b,I.message))}else u(new ce(ee.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new ce(ee.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{he(nr,`RPC '${e}' ${s} completed.`)}});const f=JSON.stringify(i);he(nr,`RPC '${e}' ${s} sending request:`,i),d.send(t,"POST",f,r,15)})}qo(e,t,r){const i=jv(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=YC(),u=JC(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Lo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=s.join("");he(nr,`Creating RPC '${e}' stream ${i}: ${m}`,d);const g=l.createWebChannel(m,d);let v=!1,I=!1;const b=new u4({Eo:x=>{I?he(nr,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(v||(he(nr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),he(nr,`RPC '${e}' stream ${i} sending:`,x),g.send(x))},Ao:()=>g.close()}),C=(x,D,U)=>{x.listen(D,M=>{try{U(M)}catch(j){setTimeout(()=>{throw j},0)}})};return C(g,Nd.EventType.OPEN,()=>{I||(he(nr,`RPC '${e}' stream ${i} transport opened.`),b.So())}),C(g,Nd.EventType.CLOSE,()=>{I||(I=!0,he(nr,`RPC '${e}' stream ${i} transport closed`),b.Do())}),C(g,Nd.EventType.ERROR,x=>{I||(I=!0,fs(nr,`RPC '${e}' stream ${i} transport errored:`,x),b.Do(new ce(ee.UNAVAILABLE,"The operation could not be completed")))}),C(g,Nd.EventType.MESSAGE,x=>{var D;if(!I){const U=x.data[0];Me(!!U);const M=U,j=(M==null?void 0:M.error)||((D=M[0])===null||D===void 0?void 0:D.error);if(j){he(nr,`RPC '${e}' stream ${i} received error:`,j);const A=j.status;let z=function(L){const E=Sn[L];if(E!==void 0)return jx(E)}(A),O=j.message;z===void 0&&(z=ee.INTERNAL,O="Unknown error status: "+A+" with message "+j.message),I=!0,b.Do(new ce(z,O)),g.close()}else he(nr,`RPC '${e}' stream ${i} received:`,U),b.vo(U)}}),C(u,QC.STAT_EVENT,x=>{x.stat===p_.PROXY?he(nr,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===p_.NOPROXY&&he(nr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.bo()},0),b}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(){return typeof window<"u"?window:null}function Xp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(n){return new vU(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,t,r=1e3,i=1.5,s=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=i,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,t-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,t,r,i,s,l,u,d){this.li=e,this.Yo=r,this.Zo=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new dw(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(yn(t.toString()),yn("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===t&&this.I_(r,i)},r=>{e(()=>{const i=new ce(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class d4 extends SA{constructor(e,t,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=EU(this.serializer,e),r=function(s){if(!("targetChange"in s))return Be.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Be.min():l.readTime?vn(l.readTime):Be.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=b_(this.serializer),t.addTarget=function(s,l){let u;const d=l.target;if(u=pm(d)?{documents:Qx(s,d)}:{query:Jx(s,d).ct},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=zx(s,l.resumeToken);const f=S_(s,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Be.min())>0){u.readTime=Gu(s,l.snapshotVersion.toTimestamp());const f=S_(s,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const r=SU(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=b_(this.serializer),t.removeTarget=e,this.c_(t)}}class h4 extends SA{constructor(e,t,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Me(!!e.streamToken),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=IU(e.writeResults,e.commitTime),r=vn(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=b_(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>gh(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Oo(e,T_(t,r),i,s,l)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ce(ee.UNKNOWN,s.toString())})}ko(e,t,r,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.ko(e,T_(t,r),i,l,u,s)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(ee.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class p4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(yn(t),this.C_=!1):he("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo(l=>{r.enqueueAndForget(async()=>{ua(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(d){const f=Ae(d);f.k_.add(4),await gc(f),f.K_.set("Unknown"),f.k_.delete(4),await Wh(f)}(this))})}),this.K_=new p4(r,i)}}async function Wh(n){if(ua(n))for(const e of n.q_)await e(!0)}async function gc(n){for(const e of n.q_)await e(!1)}function cg(n,e){const t=Ae(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),pw(t)?fw(t):vc(t).s_()&&hw(t,e))}function Ju(n,e){const t=Ae(n),r=vc(t);t.B_.delete(e),r.s_()&&TA(t,e),t.B_.size===0&&(r.s_()?r.a_():ua(t)&&t.K_.set("Unknown"))}function hw(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}vc(n).V_(e)}function TA(n,e){n.U_.xe(e),vc(n).m_(e)}function fw(n){n.U_=new pU({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),vc(n).start(),n.K_.F_()}function pw(n){return ua(n)&&!vc(n).i_()&&n.B_.size>0}function ua(n){return Ae(n).k_.size===0}function bA(n){n.U_=void 0}async function g4(n){n.K_.set("Online")}async function y4(n){n.B_.forEach((e,t)=>{hw(n,e)})}async function v4(n,e){bA(n),pw(n)?(n.K_.O_(e),fw(n)):n.K_.set("Unknown")}async function _4(n,e,t){if(n.K_.set("Online"),e instanceof $x&&e.state===2&&e.cause)try{await async function(i,s){const l=s.cause;for(const u of s.targetIds)i.B_.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.B_.delete(u),i.U_.removeTarget(u))}(n,e)}catch(r){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Tm(n,r)}else if(e instanceof Yp?n.U_.$e(e):e instanceof Bx?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Be.min()))try{const r=await gA(n.localStore);t.compareTo(r)>=0&&await function(s,l){const u=s.U_.it(l);return u.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=s.B_.get(f);m&&s.B_.set(f,m.withResumeToken(d.resumeToken,l))}}),u.targetMismatches.forEach((d,f)=>{const m=s.B_.get(d);if(!m)return;s.B_.set(d,m.withResumeToken(an.EMPTY_BYTE_STRING,m.snapshotVersion)),TA(s,d);const g=new Vs(m.target,d,f,m.sequenceNumber);hw(s,g)}),s.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){he("RemoteStore","Failed to raise snapshot:",r),await Tm(n,r)}}async function Tm(n,e,t){if(!aa(e))throw e;n.k_.add(1),await gc(n),n.K_.set("Offline"),t||(t=()=>gA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Wh(n)})}function RA(n,e){return e().catch(t=>Tm(n,t,e))}async function yc(n){const e=Ae(n),t=Xo(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;w4(e);)try{const i=await i4(e.localStore,r);if(i===null){e.L_.length===0&&t.a_();break}r=i.batchId,E4(e,i)}catch(i){await Tm(e,i)}CA(e)&&xA(e)}function w4(n){return ua(n)&&n.L_.length<10}function E4(n,e){n.L_.push(e);const t=Xo(n);t.s_()&&t.f_&&t.g_(e.mutations)}function CA(n){return ua(n)&&!Xo(n).i_()&&n.L_.length>0}function xA(n){Xo(n).start()}async function I4(n){Xo(n).w_()}async function S4(n){const e=Xo(n);for(const t of n.L_)e.g_(t.mutations)}async function T4(n,e,t){const r=n.L_.shift(),i=X0.from(r,e,t);await RA(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await yc(n)}async function b4(n,e){e&&Xo(n).f_&&await async function(r,i){if(function(l){return Fx(l)&&l!==ee.ABORTED}(i.code)){const s=r.L_.shift();Xo(r).__(),await RA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await yc(r)}}(n,e),CA(n)&&xA(n)}async function wb(n,e){const t=Ae(n);t.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const r=ua(t);t.k_.add(3),await gc(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Wh(t)}async function k_(n,e){const t=Ae(n);e?(t.k_.delete(2),await Wh(t)):e||(t.k_.add(2),await gc(t),t.K_.set("Unknown"))}function vc(n){return n.W_||(n.W_=function(t,r,i){const s=Ae(t);return s.b_(),new d4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Ro:g4.bind(null,n),mo:y4.bind(null,n),po:v4.bind(null,n),R_:_4.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),pw(n)?fw(n):n.K_.set("Unknown")):(await n.W_.stop(),bA(n))})),n.W_}function Xo(n){return n.G_||(n.G_=function(t,r,i){const s=Ae(t);return s.b_(),new h4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:I4.bind(null,n),po:b4.bind(null,n),p_:S4.bind(null,n),y_:T4.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await yc(n)):(await n.G_.stop(),n.L_.length>0&&(he("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const l=Date.now()+r,u=new mw(e,t,l,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _c(n,e){if(yn("AsyncQueue",`${e}: ${n}`),aa(n))return new ce(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{static emptySet(e){return new Nu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||xe.comparator(t.key,r.key):(t,r)=>xe.comparator(t.key,r.key),this.keyedMap=Dd(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Nu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(){this.z_=new Nt(xe.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):ke():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Yu{constructor(e,t,r,i,s,l,u,d,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,s){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new Yu(e,t,Nu.emptySet(t),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class C4{constructor(){this.queries=Ib(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const i=Ae(t),s=i.queries;i.queries=Ib(),s.forEach((l,u)=>{for(const d of u.J_)d.onError(r)})})(this,new ce(ee.ABORTED,"Firestore shutting down"))}}function Ib(){return new to(n=>Tx(n),Fh)}async function gw(n,e){const t=Ae(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.Y_()&&e.Z_()&&(r=2):(s=new R4,r=e.Z_()?0:1);try{switch(r){case 0:s.H_=await t.onListen(i,!0);break;case 1:s.H_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=_c(l,`Initialization of query '${Eu(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,s),s.J_.push(e),e.ea(t.onlineState),s.H_&&e.ta(s.H_)&&vw(t)}async function yw(n,e){const t=Ae(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const l=s.J_.indexOf(e);l>=0&&(s.J_.splice(l,1),s.J_.length===0?i=e.Z_()?0:1:!s.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function x4(n,e){const t=Ae(n);let r=!1;for(const i of e){const s=i.query,l=t.queries.get(s);if(l){for(const u of l.J_)u.ta(i)&&(r=!0);l.H_=i}}r&&vw(t)}function A4(n,e,t){const r=Ae(n),i=r.queries.get(e);if(i)for(const s of i.J_)s.onError(t);r.queries.delete(e)}function vw(n){n.X_.forEach(e=>{e.next()})}var N_,Sb;(Sb=N_||(N_={})).na="default",Sb.Cache="cache";class _w{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Yu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Yu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==N_.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,t){this.ca=e,this.byteLength=t}la(){return"metadata"in this.ca}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.serializer=e}As(e){return cs(this.serializer,e)}Rs(e){return e.metadata.exists?Kx(this.serializer,e.document,!1):Vt.newNoDocument(this.As(e.metadata.name),this.Vs(e.metadata.readTime))}Vs(e){return vn(e)}}class k4{constructor(e,t,r){this.ha=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=AA(e)}Pa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ca.namedQuery)this.queries.push(e.ca.namedQuery);else if(e.ca.documentMetadata){this.documents.push({metadata:e.ca.documentMetadata}),e.ca.documentMetadata.exists||++t;const r=it.fromString(e.ca.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ca.document&&(this.documents[this.documents.length-1].document=e.ca.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ta(e){const t=new Map,r=new Tb(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.As(i.metadata.name);for(const l of i.metadata.queries){const u=(t.get(l)||Ye()).add(s);t.set(l,u)}}return t}async complete(){const e=await s4(this.localStore,new Tb(this.serializer),this.documents,this.ha.id),t=this.Ta(this.documents);for(const r of this.queries)await o4(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Ia:this.collectionGroups,Ea:e}}}function AA(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e){this.key=e}}class kA{constructor(e){this.key=e}}class NA{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ye(),this.mutatedKeys=Ye(),this.Va=Rx(e),this.ma=new Nu(this.Va)}get fa(){return this.da}ga(e,t){const r=t?t.pa:new Eb,i=t?t.ma:this.ma;let s=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,g)=>{const v=i.get(m),I=jh(this.query,g)?g:null,b=!!v&&this.mutatedKeys.has(v.key),C=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let x=!1;v&&I?v.data.isEqual(I.data)?b!==C&&(r.track({type:3,doc:I}),x=!0):this.ya(v,I)||(r.track({type:2,doc:I}),x=!0,(d&&this.Va(I,d)>0||f&&this.Va(I,f)<0)&&(u=!0)):!v&&I?(r.track({type:0,doc:I}),x=!0):v&&!I&&(r.track({type:1,doc:v}),x=!0,(d||f)&&(u=!0)),x&&(I?(l=l.add(I),s=C?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{ma:l,pa:r,ss:u,mutatedKeys:s}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const l=e.pa.j_();l.sort((m,g)=>function(I,b){const C=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return C(I)-C(b)}(m.type,g.type)||this.Va(m.doc,g.doc)),this.wa(r),i=i!=null&&i;const u=t&&!i?this.Sa():[],d=this.Ra.size===0&&this.current&&!i?1:0,f=d!==this.Aa;return this.Aa=d,l.length!==0||f?{snapshot:new Yu(this.query,e.ma,s,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:u}:{ba:u}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Eb,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ye(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new kA(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new PA(r))}),t}va(e){this.da=e.ds,this.Ra=Ye();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Yu.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class N4{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class D4{constructor(e){this.key=e,this.Fa=!1}}class O4{constructor(e,t,r,i,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new to(u=>Tx(u),Fh),this.Oa=new Map,this.Na=new Set,this.La=new Nt(xe.comparator),this.Ba=new Map,this.ka=new sw,this.qa={},this.Qa=new Map,this.Ka=ll.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function M4(n,e,t=!0){const r=dg(n);let i;const s=r.xa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=await DA(r,e,t,!0),i}async function L4(n,e){const t=dg(n);await DA(t,e,!0,!1)}async function DA(n,e,t,r){const i=await Ku(n.localStore,gr(e)),s=i.targetId,l=n.sharedClientState.addLocalQueryTarget(s,t);let u;return r&&(u=await ww(n,e,s,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&cg(n.remoteStore,i),u}async function ww(n,e,t,r,i){n.Ua=(g,v,I)=>async function(C,x,D,U){let M=x.view.ga(D);M.ss&&(M=await Em(C.localStore,x.query,!1).then(({documents:O})=>x.view.ga(O,M)));const j=U&&U.targetChanges.get(x.targetId),A=U&&U.targetMismatches.get(x.targetId)!=null,z=x.view.applyChanges(M,C.isPrimaryClient,j,A);return D_(C,x.targetId,z.ba),z.snapshot}(n,g,v,I);const s=await Em(n.localStore,e,!0),l=new NA(e,s.ds),u=l.ga(s.documents),d=$h.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=l.applyChanges(u,n.isPrimaryClient,d);D_(n,t,f.ba);const m=new N4(e,t,l);return n.xa.set(e,m),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),f.snapshot}async function V4(n,e,t){const r=Ae(n),i=r.xa.get(e),s=r.Oa.get(i.targetId);if(s.length>1)return r.Oa.set(i.targetId,s.filter(l=>!Fh(l,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Qu(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Ju(r.remoteStore,i.targetId),Xu(r,i.targetId)}).catch(oa)):(Xu(r,i.targetId),await Qu(r.localStore,i.targetId,!0))}async function F4(n,e){const t=Ae(n),r=t.xa.get(e),i=t.Oa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ju(t.remoteStore,r.targetId))}async function j4(n,e,t){const r=Tw(n);try{const i=await function(l,u){const d=Ae(l),f=qt.now(),m=u.reduce((I,b)=>I.add(b.key),Ye());let g,v;return d.persistence.runTransaction("Locally write mutations","readwrite",I=>{let b=kr(),C=Ye();return d.hs.getEntries(I,m).next(x=>{b=x,b.forEach((D,U)=>{U.isValidDocument()||(C=C.add(D))})}).next(()=>d.localDocuments.getOverlayedDocuments(I,b)).next(x=>{g=x;const D=[];for(const U of u){const M=dU(U,g.get(U.key).overlayedDocument);M!=null&&D.push(new no(U.key,M,mx(M.value.mapValue),zt.exists(!0)))}return d.mutationQueue.addMutationBatch(I,f,D,u)}).next(x=>{v=x;const D=x.applyToLocalDocumentSet(g,C);return d.documentOverlayCache.saveOverlays(I,x.batchId,D)})}).then(()=>({batchId:v.batchId,changes:xx(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,d){let f=l.qa[l.currentUser.toKey()];f||(f=new Nt(Je)),f=f.insert(u,d),l.qa[l.currentUser.toKey()]=f}(r,i.batchId,t),await ro(r,i.changes),await yc(r.remoteStore)}catch(i){const s=_c(i,"Failed to persist write");t.reject(s)}}async function OA(n,e){const t=Ae(n);try{const r=await r4(t.localStore,e);e.targetChanges.forEach((i,s)=>{const l=t.Ba.get(s);l&&(Me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Fa=!0:i.modifiedDocuments.size>0?Me(l.Fa):i.removedDocuments.size>0&&(Me(l.Fa),l.Fa=!1))}),await ro(t,r,e)}catch(r){await oa(r)}}function bb(n,e,t){const r=Ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.xa.forEach((s,l)=>{const u=l.view.ea(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const d=Ae(l);d.onlineState=u;let f=!1;d.queries.forEach((m,g)=>{for(const v of g.J_)v.ea(u)&&(f=!0)}),f&&vw(d)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function U4(n,e,t){const r=Ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ba.get(e),s=i&&i.key;if(s){let l=new Nt(xe.comparator);l=l.insert(s,Vt.newNoDocument(s,Be.min()));const u=Ye().add(s),d=new Bh(Be.min(),new Map,new Nt(Je),l,u);await OA(r,d),r.La=r.La.remove(s),r.Ba.delete(e),Sw(r)}else await Qu(r.localStore,e,!1).then(()=>Xu(r,e,t)).catch(oa)}async function B4(n,e){const t=Ae(n),r=e.batch.batchId;try{const i=await n4(t.localStore,e);Iw(t,r,null),Ew(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await ro(t,i)}catch(i){await oa(i)}}async function $4(n,e,t){const r=Ae(n);try{const i=await function(l,u){const d=Ae(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return d.mutationQueue.lookupMutationBatch(f,u).next(g=>(Me(g!==null),m=g.keys(),d.mutationQueue.removeMutationBatch(f,g))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>d.localDocuments.getDocuments(f,m))})}(r.localStore,e);Iw(r,e,t),Ew(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await ro(r,i)}catch(i){await oa(i)}}async function z4(n,e){const t=Ae(n);ua(t.remoteStore)||he("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(l){const u=Ae(l);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>u.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(r===-1)return void e.resolve();const i=t.Qa.get(r)||[];i.push(e),t.Qa.set(r,i)}catch(r){const i=_c(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function Ew(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function Iw(n,e,t){const r=Ae(n);let i=r.qa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function Xu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||MA(n,r)})}function MA(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Ju(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),Sw(n))}function D_(n,e,t){for(const r of t)r instanceof PA?(n.ka.addReference(r.key,e),W4(n,r)):r instanceof kA?(he("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||MA(n,r.key)):ke()}function W4(n,e){const t=e.key,r=t.path.canonicalString();n.La.get(t)||n.Na.has(r)||(he("SyncEngine","New document in limbo: "+t),n.Na.add(r),Sw(n))}function Sw(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new xe(it.fromString(e)),r=n.Ka.next();n.Ba.set(r,new D4(t)),n.La=n.La.insert(t,r),cg(n.remoteStore,new Vs(gr(fc(t.path)),r,"TargetPurposeLimboResolution",Ar.oe))}}async function ro(n,e,t){const r=Ae(n),i=[],s=[],l=[];r.xa.isEmpty()||(r.xa.forEach((u,d)=>{l.push(r.Ua(d,e,t).then(f=>{var m;if((f||t)&&r.isPrimaryClient){const g=f?!f.fromCache:(m=t==null?void 0:t.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(f){i.push(f);const g=uw.zi(d.targetId,f);s.push(g)}}))}),await Promise.all(l),r.Ma.R_(i),await async function(d,f){const m=Ae(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>K.forEach(f,v=>K.forEach(v.Wi,I=>m.persistence.referenceDelegate.addReference(g,v.targetId,I)).next(()=>K.forEach(v.Gi,I=>m.persistence.referenceDelegate.removeReference(g,v.targetId,I)))))}catch(g){if(!aa(g))throw g;he("LocalStore","Failed to update sequence numbers: "+g)}for(const g of f){const v=g.targetId;if(!g.fromCache){const I=m.us.get(v),b=I.snapshotVersion,C=I.withLastLimboFreeSnapshotVersion(b);m.us=m.us.insert(v,C)}}}(r.localStore,s))}async function q4(n,e){const t=Ae(n);if(!t.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const r=await mA(t.localStore,e);t.currentUser=e,function(s,l){s.Qa.forEach(u=>{u.forEach(d=>{d.reject(new ce(ee.CANCELLED,l))})}),s.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ro(t,r.Ts)}}function H4(n,e){const t=Ae(n),r=t.Ba.get(e);if(r&&r.Fa)return Ye().add(r.key);{let i=Ye();const s=t.Oa.get(e);if(!s)return i;for(const l of s){const u=t.xa.get(l);i=i.unionWith(u.view.fa)}return i}}async function G4(n,e){const t=Ae(n),r=await Em(t.localStore,e.query,!0),i=e.view.va(r);return t.isPrimaryClient&&D_(t,e.targetId,i.ba),i}async function K4(n,e){const t=Ae(n);return _A(t.localStore,e).then(r=>ro(t,r))}async function Q4(n,e,t,r){const i=Ae(n),s=await function(u,d){const f=Ae(u),m=Ae(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",g=>m.On(g,d).next(v=>v?f.localDocuments.getDocuments(g,v):K.resolve(null)))}(i.localStore,e);s!==null?(t==="pending"?await yc(i.remoteStore):t==="acknowledged"||t==="rejected"?(Iw(i,e,r||null),Ew(i,e),function(u,d){Ae(Ae(u).mutationQueue).Ln(d)}(i.localStore,e)):ke(),await ro(i,s)):he("SyncEngine","Cannot apply mutation batch with id: "+e)}async function J4(n,e){const t=Ae(n);if(dg(t),Tw(t),e===!0&&t.$a!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await Rb(t,r.toArray());t.$a=!0,await k_(t.remoteStore,!0);for(const s of i)cg(t.remoteStore,s)}else if(e===!1&&t.$a!==!1){const r=[];let i=Promise.resolve();t.Oa.forEach((s,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(Xu(t,l),Qu(t.localStore,l,!0))),Ju(t.remoteStore,l)}),await i,await Rb(t,r),function(l){const u=Ae(l);u.Ba.forEach((d,f)=>{Ju(u.remoteStore,f)}),u.ka.wr(),u.Ba=new Map,u.La=new Nt(xe.comparator)}(t),t.$a=!1,await k_(t.remoteStore,!1)}}async function Rb(n,e,t){const r=Ae(n),i=[],s=[];for(const l of e){let u;const d=r.Oa.get(l);if(d&&d.length!==0){u=await Ku(r.localStore,gr(d[0]));for(const f of d){const m=r.xa.get(f),g=await G4(r,m);g.snapshot&&s.push(g.snapshot)}}else{const f=await vA(r.localStore,l);u=await Ku(r.localStore,f),await ww(r,LA(f),l,!1,u.resumeToken)}i.push(u)}return r.Ma.R_(s),i}function LA(n){return Sx(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Y4(n){return function(t){return Ae(Ae(t).persistence).$i()}(Ae(n).localStore)}async function X4(n,e,t,r){const i=Ae(n);if(i.$a)return void he("SyncEngine","Ignoring unexpected query state notification.");const s=i.Oa.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const l=await _A(i.localStore,bx(s[0])),u=Bh.createSynthesizedRemoteEventForCurrentChange(e,t==="current",an.EMPTY_BYTE_STRING);await ro(i,l,u);break}case"rejected":await Qu(i.localStore,e,!0),Xu(i,e,r);break;default:ke()}}async function Z4(n,e,t){const r=dg(n);if(r.$a){for(const i of e){if(r.Oa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){he("SyncEngine","Adding an already active target "+i);continue}const s=await vA(r.localStore,i),l=await Ku(r.localStore,s);await ww(r,LA(s),l.targetId,!1,l.resumeToken),cg(r.remoteStore,l)}for(const i of t)r.Oa.has(i)&&await Qu(r.localStore,i,!1).then(()=>{Ju(r.remoteStore,i),Xu(r,i)}).catch(oa)}}function dg(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=OA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=H4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U4.bind(null,e),e.Ma.R_=x4.bind(null,e.eventManager),e.Ma.Wa=A4.bind(null,e.eventManager),e}function Tw(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=B4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$4.bind(null,e),e}function eB(n,e,t){const r=Ae(n);(async function(s,l,u){try{const d=await l.getMetadata();if(await function(I,b){const C=Ae(I),x=vn(b.createTime);return C.persistence.runTransaction("hasNewerBundle","readonly",D=>C.jr.getBundleMetadata(D,b.id)).then(D=>!!D&&D.createTime.compareTo(x)>=0)}(s.localStore,d))return await l.close(),u._completeWith(function(I){return{taskState:"Success",documentsLoaded:I.totalDocuments,bytesLoaded:I.totalBytes,totalDocuments:I.totalDocuments,totalBytes:I.totalBytes}}(d)),Promise.resolve(new Set);u._updateProgress(AA(d));const f=new k4(d,s.localStore,l.serializer);let m=await l.Ga();for(;m;){const v=await f.Pa(m);v&&u._updateProgress(v),m=await l.Ga()}const g=await f.complete();return await ro(s,g.Ea,void 0),await function(I,b){const C=Ae(I);return C.persistence.runTransaction("Save bundle","readwrite",x=>C.jr.saveBundleMetadata(x,b))}(s.localStore,d),u._completeWith(g.progress),Promise.resolve(g.Ia)}catch(d){return fs("SyncEngine",`Loading bundle failed with ${d}`),u._failWith(d),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return pA(this.persistence,new fA,e.initialUser,this.serializer)}ja(e){return new ow(ug.ei,this.serializer)}za(e){return new EA}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yh.provider={build:()=>new yh};class tB extends yh{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Me(this.persistence.referenceDelegate instanceof wm);const r=this.persistence.referenceDelegate.garbageCollector;return new lA(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?ir.withCacheSize(this.cacheSizeBytes):ir.DEFAULT;return new ow(r=>wm.ei(r,t),this.serializer)}}class VA extends yh{constructor(e,t,r){super(),this.Za=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Za.initialize(this,e),await Tw(this.Za.syncEngine),await yc(this.Za.remoteStore),await this.persistence.Si(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Ha(e){return pA(this.persistence,new fA,e.initialUser,this.serializer)}Ja(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new lA(r,e.asyncQueue,t)}Ya(e,t){const r=new Ej(t,this.persistence);return new wj(e.asyncQueue,r)}ja(e){const t=lw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?ir.withCacheSize(this.cacheSizeBytes):ir.DEFAULT;return new aw(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,IA(),Xp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}za(e){return new EA}}class nB extends VA{constructor(e,t){super(e,t,!1),this.Za=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Za.syncEngine;this.sharedClientState instanceof Fv&&(this.sharedClientState.syncEngine={io:Q4.bind(null,t),so:X4.bind(null,t),oo:Z4.bind(null,t),$i:Y4.bind(null,t),ro:K4.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Si(async r=>{await J4(this.Za.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}za(e){const t=IA();if(!Fv.p(t))throw new ce(ee.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=lw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Fv(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class vh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=q4.bind(null,this.syncEngine),await k_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new C4}()}createDatastore(e){const t=zh(e.databaseInfo.databaseId),r=function(s){return new c4(s)}(e.databaseInfo);return function(s,l,u,d){return new f4(s,l,u,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,l,u){return new m4(r,i,s,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>bb(this.syncEngine,t,0),function(){return _b.p()?new _b:new a4}())}createSyncEngine(e,t){return function(i,s,l,u,d,f,m){const g=new O4(i,s,l,u,d,f);return m&&(g.$a=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=Ae(i);he("RemoteStore","RemoteStore shutting down."),s.k_.add(5),await gc(s),s.Q_.shutdown(),s.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}vh.provider={build:()=>new vh};function Cb(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):yn("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(e,t){this.tu=e,this.serializer=t,this.metadata=new Kn,this.buffer=new Uint8Array,this.nu=function(){return new TextDecoder("utf-8")}(),this.ru().then(r=>{r&&r.la()?this.metadata.resolve(r.ca.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.ca)}`))},r=>this.metadata.reject(r))}close(){return this.tu.cancel()}async getMetadata(){return this.metadata.promise}async Ga(){return await this.getMetadata(),this.ru()}async ru(){const e=await this.iu();if(e===null)return null;const t=this.nu.decode(e),r=Number(t);isNaN(r)&&this.su(`length string (${t}) is not valid number`);const i=await this.ou(r);return new P4(JSON.parse(i),e.length+r)}_u(){return this.buffer.findIndex(e=>e===123)}async iu(){for(;this._u()<0&&!await this.au(););if(this.buffer.length===0)return null;const e=this._u();e<0&&this.su("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async ou(e){for(;this.buffer.length<e;)await this.au()&&this.su("Reached the end of bundle when more is expected.");const t=this.nu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}su(e){throw this.tu.cancel(),new Error(`Invalid bundle format: ${e}`)}async au(){const e=await this.tu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ce(ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,s){const l=Ae(i),u={documents:s.map(g=>mh(l.serializer,g))},d=await l.ko("BatchGetDocuments",l.serializer.databaseId,it.emptyPath(),u,s.length),f=new Map;d.forEach(g=>{const v=wU(l.serializer,g);f.set(v.key.toString(),v)});const m=[];return s.forEach(g=>{const v=f.get(g.toString());Me(!!v),m.push(v)}),m}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new mc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=xe.fromPath(r);this.mutations.push(new J0(i,this.precondition(i)))}),await async function(r,i){const s=Ae(r),l={writes:i.map(u=>gh(s.serializer,u))};await s.Oo("Commit",s.serializer.databaseId,it.emptyPath(),l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ke();t=Be.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ce(ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Be.min())?zt.exists(!1):zt.updateTime(t):zt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Be.min()))throw new ce(ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zt.updateTime(t)}return zt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.uu=r.maxAttempts,this.r_=new dw(this.asyncQueue,"transaction_retry")}cu(){this.uu-=1,this.lu()}lu(){this.r_.jo(async()=>{const e=new iB(this.datastore),t=this.hu(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Pu(i)}))}).catch(r=>{this.Pu(r)})})}hu(e){try{const t=this.updateFunction(e);return!Lh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Pu(e){this.uu>0&&this.Tu(e)?(this.uu-=1,this.asyncQueue.enqueueAndForget(()=>(this.lu(),Promise.resolve()))):this.deferred.reject(e)}Tu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!Fx(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Fn.UNAUTHENTICATED,this.clientId=ZC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async l=>{he("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(he("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=_c(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Uv(n,e){n.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await mA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function xb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await bw(n);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>wb(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>wb(e.remoteStore,i)),n._onlineComponents=e}async function bw(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await Uv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ee.FAILED_PRECONDITION||i.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;fs("Error using user provided cache. Falling back to memory cache: "+t),await Uv(n,new yh)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await Uv(n,new tB(void 0));return n._offlineComponents}async function fg(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await xb(n,n._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await xb(n,new vh))),n._onlineComponents}function FA(n){return bw(n).then(e=>e.persistence)}function Rw(n){return bw(n).then(e=>e.localStore)}function jA(n){return fg(n).then(e=>e.remoteStore)}function Cw(n){return fg(n).then(e=>e.syncEngine)}function aB(n){return fg(n).then(e=>e.datastore)}async function Zu(n){const e=await fg(n),t=e.eventManager;return t.onListen=M4.bind(null,e.syncEngine),t.onUnlisten=V4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=L4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=F4.bind(null,e.syncEngine),t}function lB(n){return n.asyncQueue.enqueue(async()=>{const e=await FA(n),t=await jA(n);return e.setNetworkEnabled(!0),function(i){const s=Ae(i);return s.k_.delete(0),Wh(s)}(t)})}function uB(n){return n.asyncQueue.enqueue(async()=>{const e=await FA(n),t=await jA(n);return e.setNetworkEnabled(!1),async function(i){const s=Ae(i);s.k_.add(0),await gc(s),s.K_.set("Offline")}(t)})}function cB(n,e){const t=new Kn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,s,l){try{const u=await function(f,m){const g=Ae(f);return g.persistence.runTransaction("read document","readonly",v=>g.localDocuments.getDocument(v,m))}(i,s);u.isFoundDocument()?l.resolve(u):u.isNoDocument()?l.resolve(null):l.reject(new ce(ee.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const d=_c(u,`Failed to get document '${s} from cache`);l.reject(d)}}(await Rw(n),e,t)),t.promise}function UA(n,e,t={}){const r=new Kn;return n.asyncQueue.enqueueAndForget(async()=>function(s,l,u,d,f){const m=new hg({next:v=>{m.eu(),l.enqueueAndForget(()=>yw(s,g));const I=v.docs.has(u);!I&&v.fromCache?f.reject(new ce(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&v.fromCache&&d&&d.source==="server"?f.reject(new ce(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),g=new _w(fc(u.path),m,{includeMetadataChanges:!0,ua:!0});return gw(s,g)}(await Zu(n),n.asyncQueue,e,t,r)),r.promise}function dB(n,e){const t=new Kn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,s,l){try{const u=await Em(i,s,!0),d=new NA(s,u.ds),f=d.ga(u.documents),m=d.applyChanges(f,!1);l.resolve(m.snapshot)}catch(u){const d=_c(u,`Failed to execute query '${s} against cache`);l.reject(d)}}(await Rw(n),e,t)),t.promise}function BA(n,e,t={}){const r=new Kn;return n.asyncQueue.enqueueAndForget(async()=>function(s,l,u,d,f){const m=new hg({next:v=>{m.eu(),l.enqueueAndForget(()=>yw(s,g)),v.fromCache&&d.source==="server"?f.reject(new ce(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),g=new _w(u,m,{includeMetadataChanges:!0,ua:!0});return gw(s,g)}(await Zu(n),n.asyncQueue,e,t,r)),r.promise}function hB(n,e){const t=new hg(e);return n.asyncQueue.enqueueAndForget(async()=>function(i,s){Ae(i).X_.add(s),s.next()}(await Zu(n),t)),()=>{t.eu(),n.asyncQueue.enqueueAndForget(async()=>function(i,s){Ae(i).X_.delete(s)}(await Zu(n),t))}}function fB(n,e,t,r){const i=function(l,u){let d;return d=typeof l=="string"?Ux().encode(l):l,function(m,g){return new rB(m,g)}(function(m,g){if(m instanceof Uint8Array)return Cb(m,g);if(m instanceof ArrayBuffer)return Cb(new Uint8Array(m),g);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),u)}(t,zh(e));n.asyncQueue.enqueueAndForget(async()=>{eB(await Cw(n),i,r)})}function pB(n,e){return n.asyncQueue.enqueue(async()=>function(r,i){const s=Ae(r);return s.persistence.runTransaction("Get named query","readonly",l=>s.jr.getNamedQuery(l,i))}(await Rw(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(n,e,t){if(!t)throw new ce(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function zA(n,e,t,r){if(e===!0&&r===!0)throw new ce(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Pb(n){if(!xe.isDocumentKey(n))throw new ce(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kb(n){if(xe.isDocumentKey(n))throw new ce(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function pg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ke()}function mt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ce(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=pg(n);throw new ce(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function WA(n,e){if(e<=0)throw new ce(ee.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$A((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nb(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uj;switch(r.type){case"firstParty":return new fj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Ab.get(t);r&&(he("ComponentProvider","Removing Datastore"),Ab.delete(t),r.terminate())}(this),Promise.resolve()}}function qA(n,e,t,r={}){var i;const s=(n=mt(n,qh))._getSettings(),l=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==l&&fs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:l,ssl:!1})),r.mockUserToken){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=Fn.MOCK_USER;else{u=gR(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new ce(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Fn(f)}n._authCredentials=new cj(new XC(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yr=class HA{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new HA(this.firestore,e,this._query)}},Jt=class GA{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $o(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new GA(this.firestore,e,this._key)}},$o=class KA extends yr{constructor(e,t,r){super(e,t,fc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new xe(e))}withConverter(e){return new KA(this.firestore,e,this._path)}};function tt(n,e,...t){if(n=Ue(n),xw("collection","path",e),n instanceof qh){const r=it.fromString(e,...t);return kb(r),new $o(n,null,r)}{if(!(n instanceof Jt||n instanceof $o))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(it.fromString(e,...t));return kb(r),new $o(n.firestore,null,r)}}function mB(n,e){if(n=mt(n,qh),xw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new yr(n,null,function(r){return new eo(it.emptyPath(),r)}(e))}function Xe(n,e,...t){if(n=Ue(n),arguments.length===1&&(e=ZC.newId()),xw("doc","path",e),n instanceof qh){const r=it.fromString(e,...t);return Pb(r),new Jt(n,null,new xe(r))}{if(!(n instanceof Jt||n instanceof $o))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(it.fromString(e,...t));return Pb(r),new Jt(n.firestore,n instanceof $o?n.converter:null,new xe(r))}}function QA(n,e){return n=Ue(n),e=Ue(e),(n instanceof Jt||n instanceof $o)&&(e instanceof Jt||e instanceof $o)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function JA(n,e){return n=Ue(n),e=Ue(e),n instanceof yr&&e instanceof yr&&n.firestore===e.firestore&&Fh(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new dw(this,"async_queue_retry"),this.fu=()=>{const r=Xp();r&&he("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=Xp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Xp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Kn;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!aa(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(r);throw yn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const i=mw.createAndSchedule(this,e,t,r,s=>this.Su(s));return this.du.push(i),i}pu(){this.Au&&ke()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function O_(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}class gB{constructor(){this._progressObserver={},this._taskCompletionResolver=new Kn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yB=-1;let _n=class extends qh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Db,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Db(e),this._firestoreClient=void 0,await e}}};function Ve(n,e){const t=typeof n=="object"?n:zm(),r=typeof n=="string"?n:"(default)",i=ac(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=fR("firestore");s&&qA(i,...s)}return i}function lr(n){if(n._terminated)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||YA(n),n._firestoreClient}function YA(n){var e,t,r;const i=n._freezeSettings(),s=function(u,d,f,m){return new zj(u,d,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,$A(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new oB(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(u){const d=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(d),_online:d}}(n._componentsProvider))}function vB(n,e){fs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return XA(n,vh.provider,{build:r=>new VA(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function _B(n){fs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();XA(n,vh.provider,{build:t=>new nB(t,e.cacheSizeBytes)})}function XA(n,e,t){if((n=mt(n,_n))._firestoreClient||n._terminated)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new ce(ee.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},YA(n)}function wB(n){if(n._initialized&&!n._terminated)throw new ce(ee.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Kn;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!us.p())return Promise.resolve();const i=r+"main";await us.delete(i)}(lw(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function EB(n){return function(t){const r=new Kn;return t.asyncQueue.enqueueAndForget(async()=>z4(await Cw(t),r)),r.promise}(lr(n=mt(n,_n)))}function IB(n){return lB(lr(n=mt(n,_n)))}function SB(n){return uB(lr(n=mt(n,_n)))}function TB(n,e){const t=lr(n=mt(n,_n)),r=new gB;return fB(t,n._databaseId,e,r),r}function bB(n,e){return pB(lr(n=mt(n,_n)),e).then(t=>t?new yr(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ms(an.fromBase64String(e))}catch(t){throw new ce(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ms(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB=/^__.*__$/;class CB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new no(e,this.data,this.fieldMask,t,this.fieldTransforms):new pc(e,this.data,t,this.fieldTransforms)}}class ZA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new no(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function eP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}class gg{constructor(e,t,r,i,s,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new gg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return bm(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(eP(this.Mu)&&RB.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class xB{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||zh(e)}$u(e,t,r,i=!1){return new gg({Mu:e,methodName:t,Ku:r,path:$t.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _l(n){const e=n._freezeSettings(),t=zh(n._databaseId);return new xB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function yg(n,e,t,r,i,s={}){const l=n.$u(s.merge||s.mergeFields?2:0,e,t,i);Lw("Data must be an object, but it was:",l,r);const u=rP(r,l);let d,f;if(s.merge)d=new Pr(l.fieldMask),f=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const g of s.mergeFields){const v=M_(e,g,t);if(!l.contains(v))throw new ce(ee.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);sP(m,v)||m.push(v)}d=new Pr(m),f=l.fieldTransforms.filter(g=>d.covers(g.field))}else d=null,f=l.fieldTransforms;return new CB(new Gn(u),d,f)}class Hh extends vl{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hh}}function tP(n,e,t){return new gg({Mu:3,Ku:e.settings.Ku,methodName:n._methodName,Nu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Pw extends vl{_toFieldTransform(e){return new Uh(e.path,new qu)}isEqual(e){return e instanceof Pw}}class kw extends vl{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=tP(this,e,!0),r=this.Uu.map(s=>wl(s,t)),i=new il(r);return new Uh(e.path,i)}isEqual(e){return e instanceof kw&&Lu(this.Uu,e.Uu)}}class Nw extends vl{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=tP(this,e,!0),r=this.Uu.map(s=>wl(s,t)),i=new sl(r);return new Uh(e.path,i)}isEqual(e){return e instanceof Nw&&Lu(this.Uu,e.Uu)}}class Dw extends vl{constructor(e,t){super(e),this.Wu=t}_toFieldTransform(e){const t=new Hu(e.serializer,kx(e.serializer,this.Wu));return new Uh(e.path,t)}isEqual(e){return e instanceof Dw&&this.Wu===e.Wu}}function Ow(n,e,t,r){const i=n.$u(1,e,t);Lw("Data must be an object, but it was:",i,r);const s=[],l=Gn.empty();la(r,(d,f)=>{const m=Vw(e,d,t);f=Ue(f);const g=i.Bu(m);if(f instanceof Hh)s.push(m);else{const v=wl(f,g);v!=null&&(s.push(m),l.set(m,v))}});const u=new Pr(s);return new ZA(l,u,i.fieldTransforms)}function Mw(n,e,t,r,i,s){const l=n.$u(1,e,t),u=[M_(e,r,t)],d=[i];if(s.length%2!=0)throw new ce(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)u.push(M_(e,s[v])),d.push(s[v+1]);const f=[],m=Gn.empty();for(let v=u.length-1;v>=0;--v)if(!sP(f,u[v])){const I=u[v];let b=d[v];b=Ue(b);const C=l.Bu(I);if(b instanceof Hh)f.push(I);else{const x=wl(b,C);x!=null&&(f.push(I),m.set(I,x))}}const g=new Pr(f);return new ZA(m,g,l.fieldTransforms)}function nP(n,e,t,r=!1){return wl(t,n.$u(r?4:3,e))}function wl(n,e){if(iP(n=Ue(n)))return Lw("Unsupported field value:",e,n),rP(n,e);if(n instanceof vl)return function(r,i){if(!eP(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const s=[];let l=0;for(const u of r){let d=wl(u,i.ku(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Ue(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kx(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=qt.fromDate(r);return{timestampValue:Gu(i.serializer,s)}}if(r instanceof qt){const s=new qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gu(i.serializer,s)}}if(r instanceof mg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ms)return{bytesValue:zx(i.serializer,r._byteString)};if(r instanceof Jt){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.qu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:tw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Aw)return function(l,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw u.qu("VectorValues must only contain numeric values.");return Q0(u.serializer,d)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${pg(r)}`)}(n,e)}function rP(n,e){const t={};return dx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(n,(r,i)=>{const s=wl(i,e.Ou(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function iP(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof qt||n instanceof mg||n instanceof ms||n instanceof Jt||n instanceof vl||n instanceof Aw)}function Lw(n,e,t){if(!iP(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=pg(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function M_(n,e,t){if((e=Ue(e))instanceof Zo)return e._internalPath;if(typeof e=="string")return Vw(n,e);throw bm("Field path arguments must be of type string or ",n,!1,void 0,t)}const AB=new RegExp("[~\\*/\\[\\]]");function Vw(n,e,t){if(e.search(AB)>=0)throw bm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Zo(...e.split("."))._internalPath}catch{throw bm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function bm(n,e,t,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new ce(ee.INVALID_ARGUMENT,u+n+d)}function sP(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class PB extends _h{data(){return super.data()}}function vg(n,e){return typeof e=="string"?Vw(n,e):e instanceof Zo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ce(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fw{}class Gh extends Fw{}function Do(n,e,...t){let r=[];e instanceof Fw&&r.push(e),r=r.concat(t),function(s){const l=s.filter(d=>d instanceof jw).length,u=s.filter(d=>d instanceof _g).length;if(l>1||l>0&&u>0)throw new ce(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class _g extends Gh{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new _g(e,t,r)}_apply(e){const t=this._parse(e);return lP(e._query,t),new yr(e.firestore,e.converter,I_(e._query,t))}_parse(e){const t=_l(e.firestore);return function(s,l,u,d,f,m,g){let v;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){Mb(g,m);const I=[];for(const b of g)I.push(Ob(d,s,b));v={arrayValue:{values:I}}}else v=Ob(d,s,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||Mb(g,m),v=nP(u,l,g,m==="in"||m==="not-in");return ot.create(f,m,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function kB(n,e,t){const r=e,i=vg("where",n);return _g._create(i,r,t)}class jw extends Fw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new jw(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:St.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let l=i;const u=s.getFlattenedFilters();for(const d of u)lP(l,d),l=I_(l,d)}(e._query,t),new yr(e.firestore,e.converter,I_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Uw extends Gh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Uw(e,t)}_apply(e){const t=function(i,s,l){if(i.startAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ph(s,l)}(e._query,this._field,this._direction);return new yr(e.firestore,e.converter,function(i,s){const l=i.explicitOrderBy.concat([s]);return new eo(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function NB(n,e="asc"){const t=e,r=vg("orderBy",n);return Uw._create(r,t)}class wg extends Gh{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new wg(e,t,r)}_apply(e){return new yr(e.firestore,e.converter,gm(e._query,this._limit,this._limitType))}}function DB(n){return WA("limit",n),wg._create("limit",n,"F")}function OB(n){return WA("limitToLast",n),wg._create("limitToLast",n,"L")}class Eg extends Gh{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Eg(e,t,r)}_apply(e){const t=aP(e,this.type,this._docOrFields,this._inclusive);return new yr(e.firestore,e.converter,function(i,s){return new eo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,t))}}function MB(...n){return Eg._create("startAt",n,!0)}function LB(...n){return Eg._create("startAfter",n,!1)}class Ig extends Gh{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Ig(e,t,r)}_apply(e){const t=aP(e,this.type,this._docOrFields,this._inclusive);return new yr(e.firestore,e.converter,function(i,s){return new eo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,t))}}function VB(...n){return Ig._create("endBefore",n,!1)}function FB(...n){return Ig._create("endAt",n,!0)}function aP(n,e,t,r){if(t[0]=Ue(t[0]),t[0]instanceof _h)return function(s,l,u,d,f){if(!d)throw new ce(ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const m=[];for(const g of ku(s))if(g.field.isKeyField())m.push(nl(l,d.key));else{const v=d.data.field(g.field);if(ng(v))throw new ce(ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const I=g.field.canonicalString();throw new ce(ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}m.push(v)}return new Yo(m,f)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=_l(n.firestore);return function(l,u,d,f,m,g){const v=l.explicitOrderBy;if(m.length>v.length)throw new ce(ee.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const I=[];for(let b=0;b<m.length;b++){const C=m[b];if(v[b].field.isKeyField()){if(typeof C!="string")throw new ce(ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof C}`);if(!G0(l)&&C.indexOf("/")!==-1)throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${C}' contains a slash.`);const x=l.path.child(it.fromString(C));if(!xe.isDocumentKey(x))throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const D=new xe(x);I.push(nl(u,D))}else{const x=nP(d,f,C);I.push(x)}}return new Yo(I,g)}(n._query,n.firestore._databaseId,i,e,t,r)}}function Ob(n,e,t){if(typeof(t=Ue(t))=="string"){if(t==="")throw new ce(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!G0(e)&&t.indexOf("/")!==-1)throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(it.fromString(t));if(!xe.isDocumentKey(r))throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nl(n,new xe(r))}if(t instanceof Jt)return nl(n,t._key);throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pg(t)}.`)}function Mb(n,e){if(!Array.isArray(n)||n.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lP(n,e){const t=function(i,s){for(const l of i)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Bw{convertValue(e,t="none"){switch(Qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return la(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Bt(l.doubleValue));return new Aw(s)}convertGeoPoint(e){return new mg(Bt(e.latitude),Bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=rg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(dh(e));default:return null}}convertTimestamp(e){const t=Ws(e);return new qt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=it.fromString(e);Me(eA(r));const i=new Ko(r.get(1),r.get(3)),s=new xe(r.popFirst(5));return i.isEqual(t)||yn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class jB extends Bw{constructor(e){super(),this.firestore=e}convertBytes(e){return new ms(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Hs=class extends _h{constructor(e,t,r,i,s,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(vg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Qd=class extends Hs{data(e={}){return super.data(e)}},ea=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ha(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Qd(this._firestore,this._userDataWriter,r.key,r,new Ha(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const d=new Qd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ha(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const d=new Qd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ha(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:UB(u.type),doc:d,oldIndex:f,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function UB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke()}}function uP(n,e){return n instanceof Hs&&e instanceof Hs?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ea&&e instanceof ea&&n._firestore===e._firestore&&JA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(n){n=mt(n,Jt);const e=mt(n.firestore,_n);return UA(lr(e),n._key).then(t=>$w(e,n,t))}class El extends Bw{constructor(e){super(),this.firestore=e}convertBytes(e){return new ms(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,t)}}function BB(n){n=mt(n,Jt);const e=mt(n.firestore,_n),t=lr(e),r=new El(e);return cB(t,n._key).then(i=>new Hs(e,r,n._key,i,new Ha(i!==null&&i.hasLocalMutations,!0),n.converter))}function $B(n){n=mt(n,Jt);const e=mt(n.firestore,_n);return UA(lr(e),n._key,{source:"server"}).then(t=>$w(e,n,t))}function Zt(n){n=mt(n,yr);const e=mt(n.firestore,_n),t=lr(e),r=new El(e);return oP(n._query),BA(t,n._query).then(i=>new ea(e,r,n,i))}function zB(n){n=mt(n,yr);const e=mt(n.firestore,_n),t=lr(e),r=new El(e);return dB(t,n._query).then(i=>new ea(e,r,n,i))}function WB(n){n=mt(n,yr);const e=mt(n.firestore,_n),t=lr(e),r=new El(e);return BA(t,n._query,{source:"server"}).then(i=>new ea(e,r,n,i))}function Rt(n,e,t){n=mt(n,Jt);const r=mt(n.firestore,_n),i=Sg(n.converter,e,t);return Kh(r,[yg(_l(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,zt.none())])}function wh(n,e,t,...r){n=mt(n,Jt);const i=mt(n.firestore,_n),s=_l(i);let l;return l=typeof(e=Ue(e))=="string"||e instanceof Zo?Mw(s,"updateDoc",n._key,e,t,r):Ow(s,"updateDoc",n._key,e),Kh(i,[l.toMutation(n._key,zt.exists(!0))])}function qB(n){return Kh(mt(n.firestore,_n),[new mc(n._key,zt.none())])}function HB(n,e){const t=mt(n.firestore,_n),r=Xe(n),i=Sg(n.converter,e);return Kh(t,[yg(_l(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,zt.exists(!1))]).then(()=>r)}function ta(n,...e){var t,r,i;n=Ue(n);let s={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||O_(e[l])||(s=e[l],l++);const u={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(O_(e[l])){const g=e[l];e[l]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[l+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[l+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let d,f,m;if(n instanceof Jt)f=mt(n.firestore,_n),m=fc(n._key.path),d={next:g=>{e[l]&&e[l]($w(f,n,g))},error:e[l+1],complete:e[l+2]};else{const g=mt(n,yr);f=mt(g.firestore,_n),m=g._query;const v=new El(f);d={next:I=>{e[l]&&e[l](new ea(f,v,g,I))},error:e[l+1],complete:e[l+2]},oP(n._query)}return function(v,I,b,C){const x=new hg(C),D=new _w(I,x,b);return v.asyncQueue.enqueueAndForget(async()=>gw(await Zu(v),D)),()=>{x.eu(),v.asyncQueue.enqueueAndForget(async()=>yw(await Zu(v),D))}}(lr(f),m,u,d)}function GB(n,e){return hB(lr(n=mt(n,_n)),O_(e)?e:{next:e})}function Kh(n,e){return function(r,i){const s=new Kn;return r.asyncQueue.enqueueAndForget(async()=>j4(await Cw(r),i,s)),s.promise}(lr(n),e)}function $w(n,e,t){const r=t.docs.get(e._key),i=new El(n);return new Hs(n,i,e._key,r,new Ha(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QB=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=_l(e)}set(e,t,r){this._verifyNotCommitted();const i=Lo(e,this._firestore),s=Sg(i.converter,t,r),l=yg(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,zt.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=Lo(e,this._firestore);let l;return l=typeof(t=Ue(t))=="string"||t instanceof Zo?Mw(this._dataReader,"WriteBatch.update",s._key,t,r,i):Ow(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(l.toMutation(s._key,zt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Lo(e,this._firestore);return this._mutations=this._mutations.concat(new mc(t._key,zt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ce(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Lo(n,e){if((n=Ue(n)).firestore!==e)throw new ce(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JB=class extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=_l(t)}get(t){const r=Lo(t,this._firestore),i=new jB(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return ke();const l=s[0];if(l.isFoundDocument())return new _h(this._firestore,i,l.key,l,r.converter);if(l.isNoDocument())return new _h(this._firestore,i,r._key,null,r.converter);throw ke()})}set(t,r,i){const s=Lo(t,this._firestore),l=Sg(s.converter,r,i),u=yg(this._dataReader,"Transaction.set",s._key,l,s.converter!==null,i);return this._transaction.set(s._key,u),this}update(t,r,i,...s){const l=Lo(t,this._firestore);let u;return u=typeof(r=Ue(r))=="string"||r instanceof Zo?Mw(this._dataReader,"Transaction.update",l._key,r,i,s):Ow(this._dataReader,"Transaction.update",l._key,r),this._transaction.update(l._key,u),this}delete(t){const r=Lo(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Lo(e,this._firestore),r=new El(this._firestore);return super.get(e).then(i=>new Hs(this._firestore,r,t._key,i._document,new Ha(!1,!1),t.converter))}};function YB(n,e,t){n=mt(n,_n);const r=Object.assign(Object.assign({},KB),t);return function(s){if(s.maxAttempts<1)throw new ce(ee.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,l,u){const d=new Kn;return s.asyncQueue.enqueueAndForget(async()=>{const f=await aB(s);new sB(s.asyncQueue,f,u,l,d).cu()}),d.promise}(lr(n),i=>e(new JB(n,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XB(){return new Hh("deleteField")}function ZB(){return new Pw("serverTimestamp")}function e$(...n){return new kw("arrayUnion",n)}function t$(...n){return new Nw("arrayRemove",n)}function n$(n){return new Dw("increment",n)}(function(e,t=!0){(function(i){hc=i})(Ys),$s(new Ni("firestore",(r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new _n(new dj(r.getProvider("auth-internal")),new mj(r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ce(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ko(f.options.projectId,m)}(l,i),l);return s=Object.assign({useFetchStreams:t},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),Nr(CT,"4.7.5",e),Nr(CT,"4.7.5","esm2017")})();const r$={apiKey:"AIzaSyB-w2G9WC95i3sFFhSYFXxHbT40ObpKS1U",authDomain:"cinematd-9539c.firebaseapp.com",projectId:"cinematd-9539c",storageBucket:"cinematd-9539c.appspot.com",messagingSenderId:"850036754321",appId:"1:850036754321:web:ccccc81903b70c33ee3c30"},Fe=$m(r$),na=HV();yl();const Pi=Ve();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e,t){this._delegate=e,this.firebase=t,rh(e,new Ni("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),v0(this._delegate)))}_getService(e,t=Wo){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=Wo){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){rh(this._delegate,e)}_addOrOverwriteComponent(e){RR(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Lb=new ml("app-compat","Firebase",s$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(n){const e={},t={__esModule:!0,initializeApp:s,app:i,registerVersion:Nr,setLogLevel:PR,onLog:AR,apps:null,SDK_VERSION:Ys,INTERNAL:{registerComponent:u,removeApp:r,useAsService:d,modularAPIs:D2}};t.default=t,Object.defineProperty(t,"apps",{get:l});function r(f){delete e[f]}function i(f){if(f=f||Wo,!GS(e,f))throw Lb.create("no-app",{appName:f});return e[f]}i.App=n;function s(f,m={}){const g=$m(f,m);if(GS(e,g.name))return e[g.name];const v=new n(g,t);return e[g.name]=v,v}function l(){return Object.keys(e).map(f=>e[f])}function u(f){const m=f.name,g=m.replace("-compat","");if($s(f)&&f.type==="PUBLIC"){const v=(I=i())=>{if(typeof I[g]!="function")throw Lb.create("invalid-app-argument",{appName:m});return I[g]()};f.serviceProps!==void 0&&om(v,f.serviceProps),t[g]=v,n.prototype[g]=function(...I){return this._getService.bind(this,m).apply(this,f.multipleInstances?I:[])}}return f.type==="PUBLIC"?t[g]:null}function d(f,m){return m==="serverAuth"?null:m}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(){const n=o$(i$);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:dP,extendNamespace:e,createSubscribe:ER,ErrorFactory:ml,deepExtend:om});function e(t){om(n,t)}return n}const a$=dP();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=new Bm("@firebase/app-compat"),l$="@firebase/app-compat",u$="0.2.47";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c$(n){Nr(l$,u$,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=dR();if(n.firebase!==void 0){Vb.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Vb.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Qh=a$;c$();var d$="firebase",h$="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qh.registerVersion(d$,h$,"app-compat");function f$(){const[n,e]=R.useState(null),[t,r]=R.useState({}),[i,s]=R.useState("/signin");R.useEffect(()=>{(async()=>{tt(Ve(Fe),"authentications"),(await Zt(tt(Ve(Fe),"authentications"))).forEach(m=>{m.data().test===void 0&&r(m.data())})})()},[]),R.useEffect(()=>{const d=Dh(na,f=>{f?(e(f),t!==void 0&&t[f.email]!==void 0&&s("/profile/"+t[f.email].username)):(e(null),s("/signin"))});return()=>{d()}},[]),t!==void 0&&n!==void 0&&i==="/signin"&&n!==null&&t[n.email]!==void 0&&s("/profile/"+t[n.email].username);let l=pl();const u=d=>{l(d)};return S.jsxs("nav",{className:"nav",children:[S.jsx(dt,{to:"/",className:"site-title",children:"Cinematd"}),S.jsxs("ul",{children:[S.jsx(wd,{to:"/home",children:"Home"}),S.jsx(wd,{to:"/films",children:"Films"}),S.jsx(wd,{to:"/moviemap",children:"Movie Map"}),S.jsx(wd,{to:"/members",children:"Members"}),S.jsx(wd,{to:"/chat",children:"Chat"}),S.jsx(dt,{onClick:()=>{u(i),window.location.reload()},children:"Profile"})]})]})}function wd({to:n,children:e,...t}){const r=sc(n),i=oD({path:r.pathname,end:!0});return S.jsx("li",{className:i?"active":"",children:S.jsx(dt,{to:n,...t,children:e})})}const p$=()=>{const[n,e]=R.useState(null),[t,r]=R.useState({}),[i,s]=R.useState("");R.useEffect(()=>{(async()=>{tt(Ve(Fe),"authentications"),(await Zt(tt(Ve(Fe),"authentications"))).forEach(g=>{g.data().test===void 0&&r(g.data())})})()},{}),R.useEffect(()=>{const f=Dh(na,m=>{e(m||null)});return()=>{f()}},[]),t!==void 0&&n!==void 0&&n!==null&&t[n.email]!==void 0&&i===""&&s(t[n.email].username);let l=pl();const u=f=>{l(f)},d=()=>{yL(na).then(()=>{u("/home"),console.log("sign out successful")}).catch(f=>console.log(f))};return S.jsx("div",{className:"signout-container",children:n?S.jsxs(S.Fragment,{children:[S.jsx("h2",{children:"Are you sure you want to sign out?"}),S.jsx("button",{className:"signoutpage-button",onClick:d,children:"Sign Out"})]}):S.jsx("p",{children:"Signed Out"})})};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$=2e3;async function g$(n,e,t){var r;const{BuildInfo:i}=ul();Di(e.sessionId,"AuthEvent did not contain a session ID");const s=await E$(e.sessionId),l={};return Ph()?l.ibi=i.packageName:Ah()?l.apn=i.packageName:Un(n,"operation-not-supported-in-this-environment"),i.displayName&&(l.appDisplayName=i.displayName),l.sessionId=s,h_(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,l)}async function y$(n){const{BuildInfo:e}=ul(),t={};Ph()?t.iosBundleId=e.packageName:Ah()?t.androidPackageName=e.packageName:Un(n,"operation-not-supported-in-this-environment"),await RC(n,t)}function v$(n){const{cordova:e}=ul();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,eM()?"_blank":"_system","location=yes"),t(i)})})}async function _$(n,e,t){const{cordova:r}=ul();let i=()=>{};try{await new Promise((s,l)=>{let u=null;function d(){var g;s();const v=(g=r.plugins.browsertab)===null||g===void 0?void 0:g.close;typeof v=="function"&&v(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function f(){u||(u=window.setTimeout(()=>{l(kn(n,"redirect-cancelled-by-user"))},m$))}function m(){(document==null?void 0:document.visibilityState)==="visible"&&f()}e.addPassiveListener(d),document.addEventListener("resume",f,!1),Ah()&&document.addEventListener("visibilitychange",m,!1),i=()=>{e.removePassiveListener(d),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",m,!1),u&&window.clearTimeout(u)}})}finally{i()}}function w$(n){var e,t,r,i,s,l,u,d,f,m;const g=ul();ve(typeof((e=g==null?void 0:g.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ve(typeof((t=g==null?void 0:g.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ve(typeof((s=(i=(r=g==null?void 0:g.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ve(typeof((d=(u=(l=g==null?void 0:g.cordova)===null||l===void 0?void 0:l.plugins)===null||u===void 0?void 0:u.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ve(typeof((m=(f=g==null?void 0:g.cordova)===null||f===void 0?void 0:f.InAppBrowser)===null||m===void 0?void 0:m.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function E$(n){const e=I$(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function I$(n){if(Di(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$=20;class T$ extends TC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function b$(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:x$(),postBody:null,tenantId:n.tenantId,error:kn(n,"no-auth-event")}}function R$(n,e){return L_()._set(V_(n),e)}async function Fb(n){const e=await L_()._get(V_(n));return e&&await L_()._remove(V_(n)),e}function C$(n,e){var t,r;const i=P$(e);if(i.includes("/__/auth/callback")){const s=Zp(i),l=s.firebaseError?A$(decodeURIComponent(s.firebaseError)):null,u=(r=(t=l==null?void 0:l.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],d=u?kn(u):null;return d?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}function x$(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<S$;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function L_(){return Wr(Jm)}function V_(n){return Qa("authEvent",n.config.apiKey,n.name)}function A$(n){try{return JSON.parse(n)}catch{return null}}function P$(n){const e=Zp(n),t=e.link?decodeURIComponent(e.link):void 0,r=Zp(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Zp(i).link||i||r||t||n}function Zp(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return Ru(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$=500;class N${constructor(){this._redirectPersistence=Ho,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=eg,this._overrideRedirectResult=M0}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new T$(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Un(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){w$(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),rV(),await this._originValidation(e);const l=b$(e,r,i);await R$(e,l);const u=await g$(e,l,t),d=await v$(u);return _$(e,s,d)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=y$(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=ul(),l=setTimeout(async()=>{await Fb(e),t.onEvent(jb())},k$),u=async m=>{clearTimeout(l);const g=await Fb(e);let v=null;g&&(m!=null&&m.url)&&(v=C$(g,m.url)),t.onEvent(v||jb())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,u);const d=i,f=`${s.packageName.toLowerCase()}://`;ul().handleOpenURL=async m=>{if(m.toLowerCase().startsWith(f)&&u({url:m}),typeof d=="function")try{d(m)}catch(g){console.error(g)}}}}const D$=N$;function jb(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:kn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(n,e){Xt(n)._logFramework(e)}var M$="@firebase/auth-compat",L$="0.5.16";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$=1e3;function Jd(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function F$(){return Jd()==="http:"||Jd()==="https:"}function hP(n=Yt()){return!!((Jd()==="file:"||Jd()==="ionic:"||Jd()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function j$(){return m0()||p0()}function U$(){return _R()&&(document==null?void 0:document.documentMode)===11}function B$(n=Yt()){return/Edge\/\d+/.test(n)}function $$(n=Yt()){return U$()||B$(n)}function fP(){try{const n=self.localStorage,e=Oh();if(n)return n.setItem(e,"1"),n.removeItem(e),$$()?nh():!0}catch{return zw()&&nh()}return!1}function zw(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Bv(){return(F$()||vR()||hP())&&!j$()&&fP()&&!zw()}function pP(){return hP()&&typeof document<"u"}async function z$(){return pP()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},V$);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function W$(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r={LOCAL:"local",NONE:"none",SESSION:"session"},Ed=ve,mP="persistence";function q$(n,e){if(Ed(Object.values($r).includes(e),n,"invalid-persistence-type"),m0()){Ed(e!==$r.SESSION,n,"unsupported-persistence-type");return}if(p0()){Ed(e===$r.NONE,n,"unsupported-persistence-type");return}if(zw()){Ed(e===$r.NONE||e===$r.LOCAL&&nh(),n,"unsupported-persistence-type");return}Ed(e===$r.NONE||fP(),n,"unsupported-persistence-type")}async function F_(n){await n._initializationPromise;const e=gP(),t=Qa(mP,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())}function H$(n,e){const t=gP();if(!t)return[];const r=Qa(mP,n,e);switch(t.getItem(r)){case $r.NONE:return[ju];case $r.LOCAL:return[Bu,Ho];case $r.SESSION:return[Ho];default:return[]}}function gP(){var n;try{return((n=W$())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$=ve;class jo{constructor(){this.browserResolver=Wr(CC),this.cordovaResolver=Wr(D$),this.underlyingResolver=null,this._redirectPersistence=Ho,this._completeRedirectFn=eg,this._overrideRedirectResult=M0}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return pP()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return G$(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await z$();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(n){return n.unwrap()}function K$(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(n){return vP(n)}function J$(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new Y$(n,vL(n,e))}else if(r){const i=vP(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function vP(n){const{_tokenResponse:e}=n instanceof sr?n.customData:n;if(!e)return null;if(!(n instanceof sr)&&"temporaryProof"in e&&"phoneNumber"in e)return Za.credentialFromResult(n);const t=e.providerId;if(!t||t===hd.PASSWORD)return null;let r;switch(t){case hd.GOOGLE:r=es;break;case hd.FACEBOOK:r=Zi;break;case hd.GITHUB:r=ts;break;case hd.TWITTER:r=ns;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:l,pendingToken:u,nonce:d}=e;return!s&&!l&&!i&&!u?null:u?t.startsWith("saml.")?Uu._create(t,u):hs._fromParams({providerId:t,signInMethod:t,pendingToken:u,idToken:i,accessToken:s}):new Au(t).credential({idToken:i,accessToken:s,rawNonce:d})}return n instanceof sr?r.credentialFromError(n):r.credentialFromResult(n)}function xr(n,e){return e.catch(t=>{throw t instanceof sr&&J$(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:Q$(t),additionalUserInfo:pL(t),user:Fs.getOrCreate(i)}})}async function j_(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>xr(n,t.confirm(r))}}class Y${constructor(e,t){this.resolver=t,this.auth=K$(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return xr(yP(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this._delegate=e,this.multiFactor=EL(e)}static getOrCreate(e){return Fs.USER_MAP.has(e)||Fs.USER_MAP.set(e,new Fs(e)),Fs.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return xr(this.auth,aC(this._delegate,e))}async linkWithPhoneNumber(e,t){return j_(this.auth,WL(this._delegate,e,t))}async linkWithPopup(e){return xr(this.auth,ZL(this._delegate,e,jo))}async linkWithRedirect(e){return await F_(Xt(this.auth)),lV(this._delegate,e,jo)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return xr(this.auth,lC(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return j_(this.auth,qL(this._delegate,e,t))}reauthenticateWithPopup(e){return xr(this.auth,XL(this._delegate,e,jo))}async reauthenticateWithRedirect(e){return await F_(Xt(this.auth)),oV(this._delegate,e,jo)}sendEmailVerification(e){return rL(this._delegate,e)}async unlink(e){return await qM(this._delegate,e),this}updateEmail(e){return aL(this._delegate,e)}updatePassword(e){return lL(this._delegate,e)}updatePhoneNumber(e){return HL(this._delegate,e)}updateProfile(e){return oL(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return iL(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Fs.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id=ve;class U_{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Id(r,"invalid-api-key",{appName:e.name}),Id(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?jo:void 0;this._delegate=t.initialize({options:{persistence:X$(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(M2),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Fs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){ZR(this._delegate,e,t)}applyActionCode(e){return JM(this._delegate,e)}checkActionCode(e){return uC(this._delegate,e)}confirmPasswordReset(e,t){return QM(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return xr(this._delegate,cC(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return nL(this._delegate,e)}isSignInWithEmailLink(e){return ZM(this._delegate,e)}async getRedirectResult(){Id(Bv(),this._delegate,"operation-not-supported-in-this-environment");const e=await cV(this._delegate,jo);return e?xr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){O$(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:s,complete:l}=Ub(e,t,r);return this._delegate.onAuthStateChanged(i,s,l)}onIdTokenChanged(e,t,r){const{next:i,error:s,complete:l}=Ub(e,t,r);return this._delegate.onIdTokenChanged(i,s,l)}sendSignInLinkToEmail(e,t){return XM(this._delegate,e,t)}sendPasswordResetEmail(e,t){return KM(this._delegate,e,t||void 0)}async setPersistence(e){q$(this._delegate,e);let t;switch(e){case $r.SESSION:t=Ho;break;case $r.LOCAL:t=await Wr(Bu)._isAvailable()?Bu:Jm;break;case $r.NONE:t=ju;break;default:return Un("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return xr(this._delegate,WM(this._delegate))}signInWithCredential(e){return xr(this._delegate,Km(this._delegate,e))}signInWithCustomToken(e){return xr(this._delegate,GM(this._delegate,e))}signInWithEmailAndPassword(e,t){return xr(this._delegate,dC(this._delegate,e,t))}signInWithEmailLink(e,t){return xr(this._delegate,eL(this._delegate,e,t))}signInWithPhoneNumber(e,t){return j_(this._delegate,zL(this._delegate,e,t))}async signInWithPopup(e){return Id(Bv(),this._delegate,"operation-not-supported-in-this-environment"),xr(this._delegate,YL(this._delegate,e,jo))}async signInWithRedirect(e){return Id(Bv(),this._delegate,"operation-not-supported-in-this-environment"),await F_(this._delegate),iV(this._delegate,e,jo)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return YM(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}U_.Persistence=$r;function Ub(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:l=>i(l&&Fs.getOrCreate(l)),error:e,complete:t}}function X$(n,e){const t=H$(n,e);if(typeof self<"u"&&!t.includes(Bu)&&t.push(Bu),typeof window<"u")for(const r of[Jm,Ho])t.includes(r)||t.push(r);return t.includes(ju)||t.push(ju),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{static credential(e,t){return Za.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new Za(yP(Qh.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Ww.PHONE_SIGN_IN_METHOD=Za.PHONE_SIGN_IN_METHOD;Ww.PROVIDER_ID=Za.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z$=ve;class e5{constructor(e,t,r=Qh.app()){var i;Z$((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new BL(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5="auth-compat";function n5(n){n.INTERNAL.registerComponent(new Ni(t5,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new U_(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:lu.EMAIL_SIGNIN,PASSWORD_RESET:lu.PASSWORD_RESET,RECOVER_EMAIL:lu.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:lu.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:lu.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:lu.VERIFY_EMAIL}},EmailAuthProvider:sa,FacebookAuthProvider:Zi,GithubAuthProvider:ts,GoogleAuthProvider:es,OAuthProvider:Au,SAMLAuthProvider:um,PhoneAuthProvider:Ww,PhoneMultiFactorGenerator:xC,RecaptchaVerifier:e5,TwitterAuthProvider:ns,Auth:U_,AuthCredential:uc,Error:sr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(M$,L$)}n5(Qh);const r5="@firebase/firestore-compat",i5="0.3.40";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ce("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(){if(typeof Uint8Array>"u")throw new ce("unimplemented","Uint8Arrays are not available in this environment.")}function $b(){if(!Bj())throw new ce("unimplemented","Blobs are unavailable in Firestore in this environment.")}let _P=class B_{constructor(e){this._delegate=e}static fromBase64String(e){return $b(),new B_(ms.fromBase64String(e))}static fromUint8Array(e){return Bb(),new B_(ms.fromUint8Array(e))}toBase64(){return $b(),this._delegate.toBase64()}toUint8Array(){return Bb(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(n){return s5(n,["next","error","complete"])}function s5(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{enableIndexedDbPersistence(e,t){return vB(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return _B(e._delegate)}clearIndexedDbPersistence(e){return wB(e._delegate)}}class wP{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ko||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&fs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){qA(this._delegate,e,t,r)}enableNetwork(){return IB(this._delegate)}disableNetwork(){return SB(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,zA("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return EB(this._delegate)}onSnapshotsInSync(e){return GB(this._delegate,e)}get app(){if(!this._appCompat)throw new ce("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ec(this,tt(this._delegate,e))}catch(t){throw mr(t,"collection()","Firestore.collection()")}}doc(e){try{return new li(this,Xe(this._delegate,e))}catch(t){throw mr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new pr(this,mB(this._delegate,e))}catch(t){throw mr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return YB(this._delegate,t=>e(new EP(this,t)))}batch(){return lr(this._delegate),new IP(new QB(this._delegate,e=>Kh(this._delegate,e)))}loadBundle(e){return TB(this._delegate,e)}namedQuery(e){return bB(this._delegate,e).then(t=>t?new pr(this,t):null)}}class Tg extends Bw{constructor(e){super(),this.firestore=e}convertBytes(e){return new _P(new ms(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return li.forKey(t,this.firestore,null)}}function a5(n){aj(n)}class EP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Tg(e)}get(e){const t=Ga(e);return this._delegate.get(t).then(r=>new Eh(this._firestore,new Hs(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Ga(e);return r?(qw("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Ga(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Ga(e);return this._delegate.delete(t),this}}class IP{constructor(e){this._delegate=e}set(e,t,r){const i=Ga(e);return r?(qw("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Ga(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Ga(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class cl{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Qd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ih(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=cl.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new cl(e,new Tg(e),t),i.set(t,s)),s}}cl.INSTANCES=new WeakMap;class li{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Tg(e)}static forPath(e,t,r){if(e.length%2!==0)throw new ce("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new li(t,new Jt(t._delegate,r,new xe(e)))}static forKey(e,t,r){return new li(t,new Jt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ec(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ec(this.firestore,tt(this._delegate,e))}catch(t){throw mr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ue(e),e instanceof Jt?QA(this._delegate,e):!1}set(e,t){t=qw("DocumentReference.set",t);try{return t?Rt(this._delegate,e,t):Rt(this._delegate,e)}catch(r){throw mr(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?wh(this._delegate,e):wh(this._delegate,e,t,...r)}catch(i){throw mr(i,"updateDoc()","DocumentReference.update()")}}delete(){return qB(this._delegate)}onSnapshot(...e){const t=SP(e),r=TP(e,i=>new Eh(this.firestore,new Hs(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return ta(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=BB(this._delegate):(e==null?void 0:e.source)==="server"?t=$B(this._delegate):t=cP(this._delegate),t.then(r=>new Eh(this.firestore,new Hs(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new li(this.firestore,e?this._delegate.withConverter(cl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function mr(n,e,t){return n.message=n.message.replace(e,t),n}function SP(n){for(const e of n)if(typeof e=="object"&&!$_(e))return e;return{}}function TP(n,e){var t,r;let i;return $_(n[0])?i=n[0]:$_(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Eh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new li(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return uP(this._delegate,e._delegate)}}class Ih extends Eh{data(e){const t=this._delegate.data(e);return this._delegate._converter||lj(t!==void 0),t}}class pr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Tg(e)}where(e,t,r){try{return new pr(this.firestore,Do(this._delegate,kB(e,t,r)))}catch(i){throw mr(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new pr(this.firestore,Do(this._delegate,NB(e,t)))}catch(r){throw mr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new pr(this.firestore,Do(this._delegate,DB(e)))}catch(t){throw mr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new pr(this.firestore,Do(this._delegate,OB(e)))}catch(t){throw mr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new pr(this.firestore,Do(this._delegate,MB(...e)))}catch(t){throw mr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new pr(this.firestore,Do(this._delegate,LB(...e)))}catch(t){throw mr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new pr(this.firestore,Do(this._delegate,VB(...e)))}catch(t){throw mr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new pr(this.firestore,Do(this._delegate,FB(...e)))}catch(t){throw mr(t,"endAt()","Query.endAt()")}}isEqual(e){return JA(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=zB(this._delegate):(e==null?void 0:e.source)==="server"?t=WB(this._delegate):t=Zt(this._delegate),t.then(r=>new z_(this.firestore,new ea(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=SP(e),r=TP(e,i=>new z_(this.firestore,new ea(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return ta(this._delegate,t,r)}withConverter(e){return new pr(this.firestore,e?this._delegate.withConverter(cl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class l5{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ih(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class z_{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new pr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ih(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new l5(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Ih(this._firestore,r))})}isEqual(e){return uP(this._delegate,e._delegate)}}class ec extends pr{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new li(this.firestore,e):null}doc(e){try{return e===void 0?new li(this.firestore,Xe(this._delegate)):new li(this.firestore,Xe(this._delegate,e))}catch(t){throw mr(t,"doc()","CollectionReference.doc()")}}add(e){return HB(this._delegate,e).then(t=>new li(this.firestore,t))}isEqual(e){return QA(this._delegate,e._delegate)}withConverter(e){return new ec(this.firestore,e?this._delegate.withConverter(cl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ga(n){return mt(n,Jt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(...e){this._delegate=new Zo(...e)}static documentId(){return new Hw($t.keyField().canonicalString())}isEqual(e){return e=Ue(e),e instanceof Zo?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{static serverTimestamp(){const e=ZB();return e._methodName="FieldValue.serverTimestamp",new Wa(e)}static delete(){const e=XB();return e._methodName="FieldValue.delete",new Wa(e)}static arrayUnion(...e){const t=e$(...e);return t._methodName="FieldValue.arrayUnion",new Wa(t)}static arrayRemove(...e){const t=t$(...e);return t._methodName="FieldValue.arrayRemove",new Wa(t)}static increment(e){const t=n$(e);return t._methodName="FieldValue.increment",new Wa(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5={Firestore:wP,GeoPoint:mg,Timestamp:qt,Blob:_P,Transaction:EP,WriteBatch:IP,DocumentReference:li,DocumentSnapshot:Eh,Query:pr,QueryDocumentSnapshot:Ih,QuerySnapshot:z_,CollectionReference:ec,FieldPath:Hw,FieldValue:Wa,setLogLevel:a5,CACHE_SIZE_UNLIMITED:yB};function c5(n,e){n.INTERNAL.registerComponent(new Ni("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},u5)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(n){c5(n,(e,t)=>new wP(e,t,new o5)),n.registerVersion(r5,i5)}d5(Qh);const io=R.createContext(),h5=({children:n})=>{const[e,t]=R.useState({}),[r,i]=R.useState(null),[s,l]=R.useState({});return R.useEffect(()=>{(async()=>{tt(Ve(Fe),"members"),(await Zt(tt(Ve(Fe),"members"))).forEach(f=>{f.data().test===void 0&&l(f.data())})})()},[]),R.useEffect(()=>{(async()=>{tt(Ve(Fe),"authentications"),(await Zt(tt(Ve(Fe),"authentications"))).forEach(f=>{f.data().test===void 0&&t(f.data())})})()},[]),R.useEffect(()=>{const u=Dh(na,d=>{i(d||null)});return()=>{u()}},[]),S.jsx(io.Provider,{value:{authUser:r},children:n})},f5=()=>{const{authUser:n}=R.useContext(io),[e,t]=R.useState({}),[r,i]=R.useState("");return R.useEffect(()=>{(async()=>{(await Zt(tt(Ve(Fe),"authentications"))).forEach(u=>{u.data().test===void 0&&t(u.data())})})()},{}),n!==null&&e!==null&&e[n.email]!==void 0&&r===""&&i(e[n.email].username),S.jsxs("div",{className:"chat-navbar",children:[S.jsx("span",{className:"chat-title",children:"Chat"}),S.jsx("div",{className:"user",children:S.jsx("span",{children:r})})]})},p5=()=>{const[n,e]=R.useState(""),[t,r]=R.useState(""),[i,s]=R.useState(!1),{authUser:l}=R.useContext(io),[u,d]=R.useState(""),[f,m]=R.useState(""),g=async()=>{r("");try{(await Zt(tt(Ve(Fe),"users"))).forEach(C=>{if(C.data().username!==void 0&&C.data().username===n&&C.id!==l.uid){const x=yl(),D=dc(x,`avatars/${C.id}`);tl(D).then(U=>{m(U)}).catch(U=>{console.log(U)}),s(!1),r(C.data().username),l.uid<C.id?d(l.uid+C.id):d(C.id+l.uid)}else if(C.id===l.uid&&C.data().username===n)throw new Error})}catch{s(!0)}},v=b=>{b.code==="Enter"&&g()},I=async()=>{try{if(!(await cP(Xe(Pi,"messages",u))).exists())await Rt(Xe(Pi,"messages",u),{messages:[]}),await wh(Xe(Pi,"userChats",l.uid),{other:[],username:n,chatID:u});else{const C=Math.floor(Math.random()*1e3);await wh(Xe(Pi,"userChats",l.uid),{other:[C],username:n,chatID:u})}}catch{}};return S.jsxs("div",{className:"search",children:[S.jsx("div",{className:"searchForm",children:S.jsx("input",{type:"text",placeholder:"Find a user",onKeyDown:v,onChange:b=>e(b.target.value)})}),i&&S.jsx("span",{children:"User not found!"}),t&&S.jsxs("div",{className:"userChat",onClick:I,children:[S.jsx("img",{src:f,alt:""}),S.jsx("div",{className:"userChatInfo",children:S.jsx("span",{children:t})})]})]})},m5=()=>{const[n,e]=R.useState([]),[t,r]=R.useState({}),[i,s]=R.useState({}),[l,u]=R.useState([]),[d,f]=R.useState(!1),{authUser:m}=R.useContext(io);if(n!==void 0&&n.length===0&&m!==null&&(()=>{const v=ta(Xe(Pi,"userChats",m.uid),I=>{e(I.data())});return()=>{v()}})(),R.useEffect(()=>{(async()=>{(await Zt(tt(Ve(Fe),"members"))).forEach(I=>{I.data().test===void 0&&r(I.data())})})()},{}),R.useEffect(()=>{(async()=>{(await Zt(tt(Ve(Fe),"authentications"))).forEach(I=>{I.data().test===void 0&&s(I.data())})})()},{}),m!==null&&i!==null&&t!==null&&!d&&i[m.email]!==void 0&&t[i[m.email].username]!==void 0){const g=[],v=t[i[m.email].username].friends;for(let I=0;I<v.length;I++)if(v[I]!==void 0&&v[I]!==""){const b=async()=>{for(let x=0;x<i.usernames.length;x++)if(i.usernames[x].username===v[I]){const D=yl(),U=dc(D,`avatars/${i.usernames[x].uid}`);await tl(U).then(M=>{g.push(S.jsxs("div",{className:"userChat",onClick:()=>{(async()=>{let A="";m.uid<Xe.id?A=m.uid+i.usernames[x].uid:A=i.usernames[x].uid+m.uid;const z=Math.floor(Math.random()*1e3);await wh(Xe(Pi,"userChats",m.uid),{other:[z],username:v[I],chatID:A})})()},children:[S.jsx("img",{src:M,alt:""}),S.jsx("div",{className:"userChatInfo",children:S.jsx("span",{children:v[I]})})]}))}).catch(M=>{console.log(M)})}};(async()=>{await b(),u(g),f(!0)})()}}return S.jsx("div",{className:"chats",children:S.jsx("ol",{children:l})})},g5=()=>S.jsxs("div",{className:"sidebar",children:[S.jsx(f5,{}),S.jsx(p5,{}),S.jsx(m5,{})]}),y5=({message:n})=>{const{authUser:e}=R.useContext(io),t=R.useRef();return R.useEffect(()=>{var r;(r=t.current)==null||r.scrollIntoView({behavior:"smooth"})},[n]),S.jsxs("div",{ref:t,className:`message ${n.senderId===(e===null?"":e.uid)?"owner":""}`,children:[S.jsxs("div",{className:"messageInfo",children:[S.jsx("img",{src:n.avatar,alt:""}),S.jsx("span",{children:n.time})]}),S.jsx("div",{className:"messageContent",children:S.jsx("p",{children:n.message})})]})},v5=()=>{const[n,e]=R.useState({}),[t,r]=R.useState([]),[i,s]=R.useState(!1),{authUser:l}=R.useContext(io);if(n!==void 0&&n.chatID===void 0&&l!==null&&(()=>{const d=ta(Xe(Pi,"userChats",l.uid),f=>{s(!1),e(f.data())});return()=>{d()}})(),n!==void 0&&n.chatID!==void 0&&!i)try{(()=>{const d=ta(Xe(Pi,"messages",n.chatID),f=>{r(f.data().messages)});return()=>{d()}})(),s(!0)}catch{}return S.jsx("div",{className:"messages",children:t.map(u=>S.jsx(y5,{message:u},u.time))})},_5=()=>{const[n,e]=R.useState({}),[t,r]=R.useState([]),[i,s]=R.useState(""),[l,u]=R.useState(!1),[d,f]=R.useState(""),{authUser:m}=R.useContext(io);if(m!==null){const I=yl(),b=dc(I,`avatars/${m.uid}`);tl(b).then(C=>{f(C)}).catch(C=>{console.log(C)})}n!==void 0&&n.chatID===void 0&&m!==null&&(()=>{const b=ta(Xe(Pi,"userChats",m.uid),C=>{u(!1),e(C.data())});return()=>{b()}})(),n!==void 0&&n.chatID!==void 0&&!l&&((()=>{const b=ta(Xe(Pi,"messages",n.chatID),C=>{C!==void 0&&C.data()!==void 0&&r(C.data().messages)});return()=>{b()}})(),u(!0));const g=I=>{t.push({message:I,senderId:m.uid,time:new Date().toLocaleString(),avatar:d}),(async()=>{await Rt(Xe(Ve(Fe),"messages",n.chatID),{messages:t})})(),s("")},v=I=>{I.code==="Enter"&&g(i)};return S.jsxs("div",{className:"input",children:[S.jsx("input",{type:"text",value:i,placeholder:"Type something...",onKeyDown:v,onChange:I=>s(I.target.value)}),S.jsxs("div",{className:"send",children:[S.jsx("img",{src:"",alt:""}),S.jsx("button",{onClick:()=>{g(i)},children:"Send"})]})]})},w5=()=>{const[n,e]=R.useState({}),[t,r]=R.useState(""),{authUser:i}=R.useContext(io);return n!==void 0&&n.chatID===void 0&&i!==null&&(()=>{const l=ta(Xe(Pi,"userChats",i.uid),u=>{r(u.data().username),e(u.data())});return()=>{l()}})(),S.jsxs("div",{className:"chat",children:[S.jsx("div",{className:"chatInfo",children:S.jsx("span",{children:t})}),S.jsx(v5,{}),S.jsx(_5,{})]})},E5=()=>S.jsx("div",{className:"chatpage",children:S.jsxs("div",{className:"chat-container",children:[S.jsx(g5,{}),S.jsx(w5,{})]})});let Ap=new Date().toLocaleDateString().split("/");Ap=[parseInt(Ap[0]),parseInt(Ap[1]),parseInt(Ap[2])];const I5={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxZjhlMDQ4MDIxYjY4YWMzNGI5ZjFmYzk2OGM1YTZkZSIsInN1YiI6IjY1M2ZkZTk5NTkwN2RlMDEzOGUyZGZlOSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.N7DRRuXIDC2GrKKT5ri51E8Cl99Z6qSnECSseLR_RcA"}};function S5(){let n=window.location.href.split("/")[4];const[e,t]=R.useState([]),[r,i]=R.useState({}),s=[];if(R.useEffect(()=>{(async()=>{tt(Ve(Fe),"members"),(await Zt(tt(Ve(Fe),"members"))).forEach(d=>{d.data().test===void 0&&i(d.data())})})()},[]),r[n]!==void 0){for(let d=0;d<r[n].films.length;d++)s.push(fetch("https://api.themoviedb.org/3/movie/"+r[n].films[d].id+"?language=en-US",I5).then(f=>f.json()).then(f=>f));const l=[],u=[];Promise.all(s).then(d=>{for(let f=0;f<d.length;f++){let m="",g="https://image.tmdb.org/t/p/original"+d[f].poster_path,v=0;d[f].release_date!==void 0&&(m=d[f].release_date.split("-")[0]);for(let b=0;b<r[n].films.length;b++)r[n].films[b].id===d[f].id&&(r[n].films[b].poster!==void 0&&(g=r[n].films[b].poster),v=r[n].films[b].rating);if(d[f].original_title===void 0)continue;const I={title:d[f].original_title,rating:v,release_date:d[f].release_date,page_title:d[f].original_title.replaceAll(" ","-").toLowerCase()+"-"+m,poster:g};l.push(I)}l.sort((f,m)=>{const g=f.release_date.split("-"),v=m.release_date.split("-");return parseInt(g[0])<parseInt(v[0])?1:parseInt(g[0])>parseInt(v[0])?-1:parseInt(g[1])<parseInt(v[1])?1:parseInt(g[1])>parseInt(v[1])?-1:parseInt(g[2])<parseInt(v[2])?1:parseInt(g[2])>parseInt(v[2])?-1:0});for(let f=0;f<l.length;f++){const m=l[f];let g="☰";if(m!==void 0){if(m.rating>0){g="";const v=""+m.rating,I=parseInt(v.charAt(0));for(let b=0;b<I;b++)g+="★";m.rating%1!==0&&(g+="½")}u.push(S.jsxs("div",{className:"film",children:[S.jsx("div",{className:"film-poster",children:S.jsx(dt,{to:`/movie/${m.page_title}`,children:S.jsx("img",{className:"poster-sizing",src:m.poster})})}),S.jsx("div",{className:"stars",style:{color:"#787878",marginLeft:"20px",fontSize:"20px"},children:g})]}))}}t(u)})}return S.jsx("div",{className:"films-page-container",children:S.jsxs("div",{className:"films-box",children:[S.jsx("div",{className:"title",children:S.jsx("h1",{children:`${n}'s Logged Films`})}),S.jsx("div",{className:"films-posters",children:S.jsx("ol",{className:"films-list",children:e})})]})})}function T5(){let n=window.location.href.split("/")[4];const[e,t]=R.useState({}),[r,i]=R.useState([]),[s,l]=R.useState(!1),[u,d]=R.useState({});if(R.useState("default-avatar-url"),R.useEffect(()=>{(async()=>{(await Zt(tt(Ve(Fe),"members"))).forEach(g=>{g.data().test===void 0&&t(g.data())})})()},{}),R.useEffect(()=>{(async()=>{tt(Ve(Fe),"authentications"),(await Zt(tt(Ve(Fe),"authentications"))).forEach(g=>{g.data().test===void 0&&d(g.data())})})()},{}),!s&&e!==null){const f=[],m=[];if(e[n]!==void 0){for(let g=0;g<e[n].friends.length;g++)if(e[n].friends[g]!==void 0&&e[n].friends[g]!==""&&!f.includes(e[n].friends[g])){const v=e[n].friends[g],I=async()=>{if(u!==null&&u.usernames!==void 0){for(let C=0;C<u.usernames.length;C++)if(u.usernames[C].username===v){const x=yl(),D=dc(x,`avatars/${u.usernames[C].uid}`);await tl(D).then(U=>{m.push(S.jsxs("div",{className:"following-acc-block",children:[S.jsx(dt,{to:`/profile/${v}`,children:S.jsx("img",{className:"following-avatars",src:U})}),S.jsx("div",{className:"following-user",children:S.jsx(dt,{className:"username-link",to:`/profile/${v}`,children:S.jsx("h2",{children:v})})})]})),f.push(v)}).catch(U=>{console.log(U)})}}};(async()=>{await I(),l(!0),i(m)})()}}}return S.jsx("div",{className:"following-page-container",children:S.jsxs("div",{className:"following-section",children:[S.jsx("div",{className:"title",children:S.jsx("h1",{children:"Following"})}),S.jsx("div",{className:"following-acc",children:S.jsx("ol",{children:r})})]})})}class bP{constructor(){this.elements=[]}enqueue(e){this.elements.push(e)}dequeue(){return this.elements.shift()}peek(){return this.elements[0]}queue(){return this.elements}remove(e){return this.elements.splice(e,1)}sort(){this.elements.sort((e,t)=>t.popularity-e.popularity)}get(e){return this.elements[e]}clear(){for(;!this.isEmpty;)this.elements.shift()}get length(){return this.elements.length}get isEmpty(){return this.elements.length===0}}var RP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},zb=Rn.createContext&&Rn.createContext(RP),b5=["attr","size","title"];function R5(n,e){if(n==null)return{};var t=C5(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function C5(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Rm(){return Rm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Rm.apply(this,arguments)}function Wb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Cm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Wb(Object(t),!0).forEach(function(r){x5(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Wb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function x5(n,e,t){return e=A5(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function A5(n){var e=P5(n,"string");return typeof e=="symbol"?e:e+""}function P5(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function CP(n){return n&&n.map((e,t)=>Rn.createElement(e.tag,Cm({key:t},e.attr),CP(e.child)))}function xP(n){return e=>Rn.createElement(k5,Rm({attr:Cm({},n.attr)},e),CP(n.child))}function k5(n){var e=t=>{var{attr:r,size:i,title:s}=n,l=R5(n,b5),u=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Rn.createElement("svg",Rm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:d,style:Cm(Cm({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&Rn.createElement("title",null,s),n.children)};return zb!==void 0?Rn.createElement(zb.Consumer,null,t=>e(t)):e(RP)}function AP(n){return xP({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(n)}function N5(n){return xP({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5.536 21.886a1.004 1.004 0 0 0 1.033-.064l13-9a1 1 0 0 0 0-1.644l-13-9A1 1 0 0 0 5 3v18a1 1 0 0 0 .536.886z"},child:[]}]})(n)}let rs=new Date().toLocaleDateString().split("/");const $v=rs[1];rs=[parseInt(rs[0]),parseInt(rs[1]),parseInt(rs[2])];const zv={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxZjhlMDQ4MDIxYjY4YWMzNGI5ZjFmYzk2OGM1YTZkZSIsInN1YiI6IjY1M2ZkZTk5NTkwN2RlMDEzOGUyZGZlOSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.N7DRRuXIDC2GrKKT5ri51E8Cl99Z6qSnECSseLR_RcA"}},qb=()=>{const n=new bP,[e,t]=R.useState([]),[r,i]=R.useState(""),[s,l]=R.useState({}),[u,d]=R.useState([]),[f,m]=R.useState(1),g="https://api.themoviedb.org/3/trending/movie/day?language=en-US",v=async()=>{try{const b=await(await fetch(g,zv)).json();d(b.results.slice(0,5))}catch(I){console.error("Error fetching trending movies:",I)}};R.useEffect(()=>{v()},[f]),R.useEffect(()=>{fetch("https://api.themoviedb.org/3/discover/movie?include_adult=false&include_video=false&language=en-US&page=1&primary_release_date.gte="+rs[2]+"-"+rs[0]+"-"+($v.length==1?"0"+$v:$v)+"&sort_by=popularity.desc",zv).then(I=>I.json()).then(I=>t(I.results)).catch(I=>console.log(I))},[]);for(let I=0;I<e.length;I++){const b=e[I],C=b.release_date.split("-"),x=parseInt(C[1]);parseInt(C[2]);const D=parseInt(C[0]),U=parseInt(rs[0]);parseInt(rs[1]);const M=parseInt(rs[2]);if(D===M&&x>U+6||D>M)continue;const j=b.original_title.replaceAll(" ","-").toLowerCase()+"-"+C[0],A={popularity:b.popularity,id:b.id,title:b.original_title,page_title:j,description:b.overview,release:b.release_date,poster:"https://image.tmdb.org/t/p/original"+b.poster_path,backdrop:b.backdrop_path};n.enqueue(A)}return R.useEffect(()=>{if(r===""){const I=Math.floor(Math.random()*n.length),b=n.get(I)==null?0:n.get(I).id,C=n.get(I)==null?"":n.get(I).page_title;fetch("https://api.themoviedb.org/3/movie/"+b+"/images?include_image_language=null",zv).then(x=>x.json()).then(x=>{const D=Math.floor(Math.random()*x.backdrops.length);let U=0;for(let M=0;M<x.backdrops.length;M++)if(M==D){U=M;break}i("https://image.tmdb.org/t/p/w1280"+x.backdrops[U].file_path),l(C)}).catch(x=>console.error("error:"+x))}}),S.jsxs("div",{className:"home-container",children:[S.jsxs("div",{className:"banner-background",children:[S.jsx(dt,{to:`/movie/${s}`,children:S.jsx("div",{className:"the-banner",style:{backgroundImage:"url("+r+")"},children:S.jsx("h1",{className:"primary-heading",children:S.jsx("center",{children:"Every Movie, Everywhere, All at Once"})})})}),S.jsx(dt,{to:"/films",children:S.jsxs("button",{class:"secondary-button",role:"button",children:["Start Here ",S.jsx(AP,{})]})})]}),S.jsx("div",{className:"UpcomingMovies-text-section-container",children:S.jsx("center",{children:S.jsx(dt,{className:"arrow",to:"/films/upcoming",children:S.jsxs("h4",{children:["Upcoming Movies",S.jsx(N5,{})]})})})}),S.jsx("div",{className:"UpcomingMovies-section-container",children:S.jsxs("div",{className:"UpcomingMovies-images",children:[S.jsx(dt,{to:`/movie/${n.get(0)==null?"":n.get(0).page_title}`,children:S.jsx("img",{className:"MovieImage-size",src:n.get(0)==null?"":n.get(0).poster,alt:""})}),S.jsx(dt,{to:`/movie/${n.get(1)==null?"":n.get(1).page_title}`,children:S.jsx("img",{className:"MovieImage-size",src:n.get(1)==null?"":n.get(1).poster,alt:""})}),S.jsx(dt,{to:`/movie/${n.get(2)==null?"":n.get(2).page_title}`,children:S.jsx("img",{className:"MovieImage-size",src:n.get(2)==null?"":n.get(2).poster,alt:""})}),S.jsx(dt,{to:`/movie/${n.get(3)==null?"":n.get(3).page_title}`,children:S.jsx("img",{className:"MovieImage-size",src:n.get(3)==null?"":n.get(3).poster,alt:""})}),S.jsx(dt,{to:`/movie/${n.get(4)==null?"":n.get(4).page_title}`,children:S.jsx("img",{className:"MovieImage-size",src:n.get(4)==null?"":n.get(4).poster,alt:""})})]})}),S.jsx("div",{className:"movie-of-the-day-container",style:{backgroundImage:"url(https://www.themoviedb.org/t/p/w1280/7HR38hMBl23lf38MAN63y4pKsHz.jpg)"},children:S.jsxs("div",{className:"content-motd",children:[S.jsx(dt,{to:"/movie/past-lives-2023",children:S.jsx("img",{className:"movie-of-the-day-poster",src:"https://image.tmdb.org/t/p/original/k3waqVXSnvCZWfJYNtdamTgTtTA.jpg",alt:""})}),S.jsx("h1",{className:"movie-of-the-day-heading",children:"Movie of the Day"}),S.jsx("div",{className:"movie-of-the-day-title",children:S.jsx("p",{children:"Past Lives"})}),S.jsx("div",{className:"movie-of-the-day-description",children:S.jsx("p",{children:"Nora and Hae Sung, two childhood friends, are reunited in New York for one fateful week as they confront notions of destiny, love, and the choices that make a life."})})]})}),S.jsx("div",{className:"trending-movies-title",children:S.jsx("center",{children:S.jsx("h4",{children:"Trending Movies"})})}),S.jsx("div",{className:"trending-movies-container",children:S.jsx("div",{className:"trending-movies-posters",children:u.map((I,b)=>S.jsx(dt,{to:`/movie/${I.original_title.replaceAll(" ","-").toLowerCase()+"-"+I.release_date.split("-")[0]}`,children:S.jsx("img",{className:"MovieImage-size",src:`https://image.tmdb.org/t/p/original${I.poster_path}`,alt:`${I.original_title} Poster`})},I.id))})}),S.jsx("div",{children:S.jsx("center",{children:S.jsx("span",{style:{color:"blanchedalmond"},children:"© Cinematd. Co-founded by Amer Issa & Pride Yin"})})})]})};function is(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function PP(n){if(R.isValidElement(n)||!is(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=PP(n[t])}),e}function ar(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return is(n)&&is(e)&&Object.keys(e).forEach(i=>{R.isValidElement(e[i])?r[i]=e[i]:is(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&is(n[i])?r[i]=ar(n[i],e[i],t):t.clone?r[i]=is(e[i])?PP(e[i]):e[i]:r[i]=e[i]}),r}function Gs(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function st(n){if(typeof n!="string")throw new Error(Gs(7));return n.charAt(0).toUpperCase()+n.slice(1)}function Hb(...n){return n.reduce((e,t)=>t==null?e:function(...i){e.apply(this,i),t.apply(this,i)},()=>{})}function kP(n,e=166){let t;function r(...i){const s=()=>{n.apply(this,i)};clearTimeout(t),t=setTimeout(s,e)}return r.clear=()=>{clearTimeout(t)},r}function Wv(n,e){var t,r,i;return R.isValidElement(n)&&e.indexOf(n.type.muiName??((i=(r=(t=n.type)==null?void 0:t._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}function Oi(n){return n&&n.ownerDocument||document}function Ks(n){return Oi(n).defaultView||window}function W_(n,e){typeof n=="function"?n(e):n&&(n.current=e)}const dl=typeof window<"u"?R.useLayoutEffect:R.useEffect;let Gb=0;function D5(n){const[e,t]=R.useState(n),r=n||e;return R.useEffect(()=>{e==null&&(Gb+=1,t(`mui-${Gb}`))},[e]),r}const O5={...i_},Kb=O5.useId;function bg(n){if(Kb!==void 0){const e=Kb();return n??e}return D5(n)}function q_({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=R.useRef(n!==void 0),[s,l]=R.useState(e),u=i?n:s,d=R.useCallback(f=>{i||l(f)},[]);return[u,d]}function Du(n){const e=R.useRef(n);return dl(()=>{e.current=n}),R.useRef((...t)=>(0,e.current)(...t)).current}function Qn(...n){return R.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{W_(t,e)})},n)}const Qb={};function NP(n,e){const t=R.useRef(Qb);return t.current===Qb&&(t.current=n(e)),t}const M5=[];function L5(n){R.useEffect(n,M5)}class Gw{constructor(){ld(this,"currentId",null);ld(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});ld(this,"disposeEffect",()=>this.clear)}static create(){return new Gw}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function DP(){const n=NP(Gw.create).current;return L5(n.disposeEffect),n}function xm(n){try{return n.matches(":focus-visible")}catch{}return!1}function OP(n=window){const e=n.document.documentElement.clientWidth;return n.innerWidth-e}const V5={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Am(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const s=n[i],l=e[i];if(!l)t[i]=s||{};else if(!s)t[i]=l;else{t[i]={...l};for(const u in s)if(Object.prototype.hasOwnProperty.call(s,u)){const d=u;t[i][d]=Am(s[d],l[d])}}}else t[i]===void 0&&(t[i]=n[i])}return t}function dn(n,e,t=void 0){const r={};for(const i in n){const s=n[i];let l="",u=!0;for(let d=0;d<s.length;d+=1){const f=s[d];f&&(l+=(u===!0?"":" ")+e(f),u=!1,t&&t[f]&&(l+=" "+t[f]))}r[i]=l}return r}const Jb=n=>n,F5=()=>{let n=Jb;return{configure(e){n=e},generate(e){return n(e)},reset(){n=Jb}}},MP=F5(),j5={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function en(n,e,t="Mui"){const r=j5[e];return r?`${t}-${r}`:`${MP.generate(n)}-${e}`}function Ht(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=en(n,i,t)}),r}function LP(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function U5(n){return typeof n=="string"}function VP(n,e,t){return n===void 0||U5(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function FP(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=FP(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Ze(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=FP(n))&&(r&&(r+=" "),r+=e);return r}function jP(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function Yb(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function UP(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:i,className:s}=n;if(!e){const I=Ze(t==null?void 0:t.className,s,i==null?void 0:i.className,r==null?void 0:r.className),b={...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},C={...t,...i,...r};return I.length>0&&(C.className=I),Object.keys(b).length>0&&(C.style=b),{props:C,internalRef:void 0}}const l=jP({...i,...r}),u=Yb(r),d=Yb(i),f=e(l),m=Ze(f==null?void 0:f.className,t==null?void 0:t.className,s,i==null?void 0:i.className,r==null?void 0:r.className),g={...f==null?void 0:f.style,...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},v={...f,...t,...d,...u};return m.length>0&&(v.className=m),Object.keys(g).length>0&&(v.style=g),{props:v,internalRef:f.ref}}function BP(n,e,t){return typeof n=="function"?n(e,t):n}function Xb(n){var g;const{elementType:e,externalSlotProps:t,ownerState:r,skipResolvingSlotProps:i=!1,...s}=n,l=i?{}:BP(t,r),{props:u,internalRef:d}=UP({...s,externalSlotProps:l}),f=Qn(d,l==null?void 0:l.ref,(g=n.additionalProps)==null?void 0:g.ref);return VP(e,{...u,ref:f},r)}function Jh(n){var e;return parseInt(R.version,10)>=19?((e=n==null?void 0:n.props)==null?void 0:e.ref)||null:(n==null?void 0:n.ref)||null}function Yd(n,e){return e?ar(n,e,{clone:!1}):n}function B5(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var l,u;const s=/min-width:\s*([0-9.]+)/;return+(((l=r.match(s))==null?void 0:l[1])||0)-+(((u=i.match(s))==null?void 0:u[1])||0)});return t.length?t.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function $5(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function z5(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,s=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(s)}function W5(n){const e=(s,l)=>s.replace("@media",l?`@container ${l}`:"@container");function t(s,l){s.up=(...u)=>e(n.breakpoints.up(...u),l),s.down=(...u)=>e(n.breakpoints.down(...u),l),s.between=(...u)=>e(n.breakpoints.between(...u),l),s.only=(...u)=>e(n.breakpoints.only(...u),l),s.not=(...u)=>{const d=e(n.breakpoints.not(...u),l);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=s=>(t(r,s),r);return t(i),{...n,containerQueries:i}}const Rg={xs:0,sm:600,md:900,lg:1200,xl:1536},Zb={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${Rg[n]}px)`},q5={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:Rg[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Qs(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const s=r.breakpoints||Zb;return e.reduce((l,u,d)=>(l[s.up(s.keys[d])]=t(e[d]),l),{})}if(typeof e=="object"){const s=r.breakpoints||Zb;return Object.keys(e).reduce((l,u)=>{if($5(s.keys,u)){const d=z5(r.containerQueries?r:q5,u);d&&(l[d]=t(e[u],u))}else if(Object.keys(s.values||Rg).includes(u)){const d=s.up(u);l[d]=t(e[u],u)}else{const d=u;l[d]=e[d]}return l},{})}return t(e)}function H5(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const s=n.up(i);return r[s]={},r},{}))||{}}function G5(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function Cg(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function Pm(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=Cg(n,t)||r,e&&(i=e(i,r,n)),i}function wn(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,s=l=>{if(l[e]==null)return null;const u=l[e],d=l.theme,f=Cg(d,r)||{};return Qs(l,u,g=>{let v=Pm(f,i,g);return g===v&&typeof g=="string"&&(v=Pm(f,i,`${e}${g==="default"?"":st(g)}`,g)),t===!1?v:{[t]:v}})};return s.propTypes={},s.filterProps=[e],s}function K5(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const Q5={m:"margin",p:"padding"},J5={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},e1={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Y5=K5(n=>{if(n.length>2)if(e1[n])n=e1[n];else return[n];const[e,t]=n.split(""),r=Q5[e],i=J5[t]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),Kw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Qw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Kw,...Qw];function Yh(n,e,t,r){const i=Cg(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const l=Math.abs(s),u=i[l];return s>=0?u:typeof u=="number"?-u:`-${u}`}:typeof i=="function"?i:()=>{}}function Jw(n){return Yh(n,"spacing",8)}function Xh(n,e){return typeof e=="string"||e==null?e:n(e)}function X5(n,e){return t=>n.reduce((r,i)=>(r[i]=Xh(e,t),r),{})}function Z5(n,e,t,r){if(!e.includes(t))return null;const i=Y5(t),s=X5(i,r),l=n[t];return Qs(n,l,s)}function $P(n,e){const t=Jw(n.theme);return Object.keys(n).map(r=>Z5(n,e,r,t)).reduce(Yd,{})}function nn(n){return $P(n,Kw)}nn.propTypes={};nn.filterProps=Kw;function rn(n){return $P(n,Qw)}rn.propTypes={};rn.filterProps=Qw;function xg(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),t=r=>Object.keys(r).reduce((i,s)=>e[s]?Yd(i,e[s](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function ai(n){return typeof n!="number"?n:`${n}px solid`}function di(n,e){return wn({prop:n,themeKey:"borders",transform:e})}const ez=di("border",ai),tz=di("borderTop",ai),nz=di("borderRight",ai),rz=di("borderBottom",ai),iz=di("borderLeft",ai),sz=di("borderColor"),oz=di("borderTopColor"),az=di("borderRightColor"),lz=di("borderBottomColor"),uz=di("borderLeftColor"),cz=di("outline",ai),dz=di("outlineColor"),Ag=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Yh(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Xh(e,r)});return Qs(n,n.borderRadius,t)}return null};Ag.propTypes={};Ag.filterProps=["borderRadius"];xg(ez,tz,nz,rz,iz,sz,oz,az,lz,uz,Ag,cz,dz);const Pg=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Yh(n.theme,"spacing",8),t=r=>({gap:Xh(e,r)});return Qs(n,n.gap,t)}return null};Pg.propTypes={};Pg.filterProps=["gap"];const kg=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Yh(n.theme,"spacing",8),t=r=>({columnGap:Xh(e,r)});return Qs(n,n.columnGap,t)}return null};kg.propTypes={};kg.filterProps=["columnGap"];const Ng=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Yh(n.theme,"spacing",8),t=r=>({rowGap:Xh(e,r)});return Qs(n,n.rowGap,t)}return null};Ng.propTypes={};Ng.filterProps=["rowGap"];const hz=wn({prop:"gridColumn"}),fz=wn({prop:"gridRow"}),pz=wn({prop:"gridAutoFlow"}),mz=wn({prop:"gridAutoColumns"}),gz=wn({prop:"gridAutoRows"}),yz=wn({prop:"gridTemplateColumns"}),vz=wn({prop:"gridTemplateRows"}),_z=wn({prop:"gridTemplateAreas"}),wz=wn({prop:"gridArea"});xg(Pg,kg,Ng,hz,fz,pz,mz,gz,yz,vz,_z,wz);function Ou(n,e){return e==="grey"?e:n}const Ez=wn({prop:"color",themeKey:"palette",transform:Ou}),Iz=wn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ou}),Sz=wn({prop:"backgroundColor",themeKey:"palette",transform:Ou});xg(Ez,Iz,Sz);function zr(n){return n<=1&&n!==0?`${n*100}%`:n}const Tz=wn({prop:"width",transform:zr}),Yw=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,s,l,u,d;const r=((l=(s=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:l[t])||Rg[t];return r?((d=(u=n.theme)==null?void 0:u.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:zr(t)}};return Qs(n,n.maxWidth,e)}return null};Yw.filterProps=["maxWidth"];const bz=wn({prop:"minWidth",transform:zr}),Rz=wn({prop:"height",transform:zr}),Cz=wn({prop:"maxHeight",transform:zr}),xz=wn({prop:"minHeight",transform:zr});wn({prop:"size",cssProperty:"width",transform:zr});wn({prop:"size",cssProperty:"height",transform:zr});const Az=wn({prop:"boxSizing"});xg(Tz,Yw,bz,Rz,Cz,xz,Az);const Zh={border:{themeKey:"borders",transform:ai},borderTop:{themeKey:"borders",transform:ai},borderRight:{themeKey:"borders",transform:ai},borderBottom:{themeKey:"borders",transform:ai},borderLeft:{themeKey:"borders",transform:ai},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ai},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Ag},color:{themeKey:"palette",transform:Ou},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ou},backgroundColor:{themeKey:"palette",transform:Ou},p:{style:rn},pt:{style:rn},pr:{style:rn},pb:{style:rn},pl:{style:rn},px:{style:rn},py:{style:rn},padding:{style:rn},paddingTop:{style:rn},paddingRight:{style:rn},paddingBottom:{style:rn},paddingLeft:{style:rn},paddingX:{style:rn},paddingY:{style:rn},paddingInline:{style:rn},paddingInlineStart:{style:rn},paddingInlineEnd:{style:rn},paddingBlock:{style:rn},paddingBlockStart:{style:rn},paddingBlockEnd:{style:rn},m:{style:nn},mt:{style:nn},mr:{style:nn},mb:{style:nn},ml:{style:nn},mx:{style:nn},my:{style:nn},margin:{style:nn},marginTop:{style:nn},marginRight:{style:nn},marginBottom:{style:nn},marginLeft:{style:nn},marginX:{style:nn},marginY:{style:nn},marginInline:{style:nn},marginInlineStart:{style:nn},marginInlineEnd:{style:nn},marginBlock:{style:nn},marginBlockStart:{style:nn},marginBlockEnd:{style:nn},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Pg},rowGap:{style:Ng},columnGap:{style:kg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:zr},maxWidth:{style:Yw},minWidth:{transform:zr},height:{transform:zr},maxHeight:{transform:zr},minHeight:{transform:zr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Pz(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function kz(n,e){return typeof n=="function"?n(e):n}function Nz(){function n(t,r,i,s){const l={[t]:r,theme:i},u=s[t];if(!u)return{[t]:r};const{cssProperty:d=t,themeKey:f,transform:m,style:g}=u;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[t]:r};const v=Cg(i,f)||{};return g?g(l):Qs(l,r,b=>{let C=Pm(v,m,b);return b===C&&typeof b=="string"&&(C=Pm(v,m,`${t}${b==="default"?"":st(b)}`,b)),d===!1?C:{[d]:C}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const s=i.unstable_sxConfig??Zh;function l(u){let d=u;if(typeof u=="function")d=u(i);else if(typeof u!="object")return u;if(!d)return null;const f=H5(i.breakpoints),m=Object.keys(f);let g=f;return Object.keys(d).forEach(v=>{const I=kz(d[v],i);if(I!=null)if(typeof I=="object")if(s[v])g=Yd(g,n(v,I,i,s));else{const b=Qs({theme:i},I,C=>({[v]:C}));Pz(b,I)?g[v]=e({sx:I,theme:i}):g=Yd(g,b)}else g=Yd(g,n(v,I,i,s))}),B5(i,G5(m,g))}return Array.isArray(r)?r.map(l):l(r)}return e}const hl=Nz();hl.filterProps=["sx"];const Dz=n=>{var r;const e={systemProps:{},otherProps:{}},t=((r=n==null?void 0:n.theme)==null?void 0:r.unstable_sxConfig)??Zh;return Object.keys(n).forEach(i=>{t[i]?e.systemProps[i]=n[i]:e.otherProps[i]=n[i]}),e};function zP(n){const{sx:e,...t}=n,{systemProps:r,otherProps:i}=Dz(t);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...l)=>{const u=e(...l);return is(u)?{...r,...u}:r}:s={...r,...e},{...i,sx:s}}function km(){return km=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},km.apply(null,arguments)}var Oz=!1;function Mz(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function Lz(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Vz=function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!Oz:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Lz(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Mz(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),rr="-ms-",Nm="-moz-",vt="-webkit-",WP="comm",Xw="rule",Zw="decl",Fz="@import",qP="@keyframes",jz="@layer",Uz=Math.abs,Dg=String.fromCharCode,Bz=Object.assign;function $z(n,e){return Hn(n,0)^45?(((e<<2^Hn(n,0))<<2^Hn(n,1))<<2^Hn(n,2))<<2^Hn(n,3):0}function HP(n){return n.trim()}function zz(n,e){return(n=e.exec(n))?n[0]:n}function _t(n,e,t){return n.replace(e,t)}function H_(n,e){return n.indexOf(e)}function Hn(n,e){return n.charCodeAt(e)|0}function Sh(n,e,t){return n.slice(e,t)}function Ji(n){return n.length}function eE(n){return n.length}function Pp(n,e){return e.push(n),n}function Wz(n,e){return n.map(e).join("")}var Og=1,tc=1,GP=0,Dr=0,bn=0,wc="";function Mg(n,e,t,r,i,s,l){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:Og,column:tc,length:l,return:""}}function Sd(n,e){return Bz(Mg("",null,null,"",null,null,0),n,{length:-n.length},e)}function qz(){return bn}function Hz(){return bn=Dr>0?Hn(wc,--Dr):0,tc--,bn===10&&(tc=1,Og--),bn}function Hr(){return bn=Dr<GP?Hn(wc,Dr++):0,tc++,bn===10&&(tc=1,Og++),bn}function ds(){return Hn(wc,Dr)}function em(){return Dr}function ef(n,e){return Sh(wc,n,e)}function Th(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function KP(n){return Og=tc=1,GP=Ji(wc=n),Dr=0,[]}function QP(n){return wc="",n}function tm(n){return HP(ef(Dr-1,G_(n===91?n+2:n===40?n+1:n)))}function Gz(n){for(;(bn=ds())&&bn<33;)Hr();return Th(n)>2||Th(bn)>3?"":" "}function Kz(n,e){for(;--e&&Hr()&&!(bn<48||bn>102||bn>57&&bn<65||bn>70&&bn<97););return ef(n,em()+(e<6&&ds()==32&&Hr()==32))}function G_(n){for(;Hr();)switch(bn){case n:return Dr;case 34:case 39:n!==34&&n!==39&&G_(bn);break;case 40:n===41&&G_(n);break;case 92:Hr();break}return Dr}function Qz(n,e){for(;Hr()&&n+bn!==57;)if(n+bn===84&&ds()===47)break;return"/*"+ef(e,Dr-1)+"*"+Dg(n===47?n:Hr())}function Jz(n){for(;!Th(ds());)Hr();return ef(n,Dr)}function Yz(n){return QP(nm("",null,null,null,[""],n=KP(n),0,[0],n))}function nm(n,e,t,r,i,s,l,u,d){for(var f=0,m=0,g=l,v=0,I=0,b=0,C=1,x=1,D=1,U=0,M="",j=i,A=s,z=r,O=M;x;)switch(b=U,U=Hr()){case 40:if(b!=108&&Hn(O,g-1)==58){H_(O+=_t(tm(U),"&","&\f"),"&\f")!=-1&&(D=-1);break}case 34:case 39:case 91:O+=tm(U);break;case 9:case 10:case 13:case 32:O+=Gz(b);break;case 92:O+=Kz(em()-1,7);continue;case 47:switch(ds()){case 42:case 47:Pp(Xz(Qz(Hr(),em()),e,t),d);break;default:O+="/"}break;case 123*C:u[f++]=Ji(O)*D;case 125*C:case 59:case 0:switch(U){case 0:case 125:x=0;case 59+m:D==-1&&(O=_t(O,/\f/g,"")),I>0&&Ji(O)-g&&Pp(I>32?n1(O+";",r,t,g-1):n1(_t(O," ","")+";",r,t,g-2),d);break;case 59:O+=";";default:if(Pp(z=t1(O,e,t,f,m,i,u,M,j=[],A=[],g),s),U===123)if(m===0)nm(O,e,z,z,j,s,g,u,A);else switch(v===99&&Hn(O,3)===110?100:v){case 100:case 108:case 109:case 115:nm(n,z,z,r&&Pp(t1(n,z,z,0,0,i,u,M,i,j=[],g),A),i,A,g,u,r?j:A);break;default:nm(O,z,z,z,[""],A,0,u,A)}}f=m=I=0,C=D=1,M=O="",g=l;break;case 58:g=1+Ji(O),I=b;default:if(C<1){if(U==123)--C;else if(U==125&&C++==0&&Hz()==125)continue}switch(O+=Dg(U),U*C){case 38:D=m>0?1:(O+="\f",-1);break;case 44:u[f++]=(Ji(O)-1)*D,D=1;break;case 64:ds()===45&&(O+=tm(Hr())),v=ds(),m=g=Ji(M=O+=Jz(em())),U++;break;case 45:b===45&&Ji(O)==2&&(C=0)}}return s}function t1(n,e,t,r,i,s,l,u,d,f,m){for(var g=i-1,v=i===0?s:[""],I=eE(v),b=0,C=0,x=0;b<r;++b)for(var D=0,U=Sh(n,g+1,g=Uz(C=l[b])),M=n;D<I;++D)(M=HP(C>0?v[D]+" "+U:_t(U,/&\f/g,v[D])))&&(d[x++]=M);return Mg(n,e,t,i===0?Xw:u,d,f,m)}function Xz(n,e,t){return Mg(n,e,t,WP,Dg(qz()),Sh(n,2,-2),0)}function n1(n,e,t,r){return Mg(n,e,t,Zw,Sh(n,0,r),Sh(n,r+1,-1),r)}function Mu(n,e){for(var t="",r=eE(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function Zz(n,e,t,r){switch(n.type){case jz:if(n.children.length)break;case Fz:case Zw:return n.return=n.return||n.value;case WP:return"";case qP:return n.return=n.value+"{"+Mu(n.children,r)+"}";case Xw:n.value=n.props.join(",")}return Ji(t=Mu(n.children,r))?n.return=n.value+"{"+t+"}":""}function e3(n){var e=eE(n);return function(t,r,i,s){for(var l="",u=0;u<e;u++)l+=n[u](t,r,i,s)||"";return l}}function t3(n){return function(e){e.root||(e=e.return)&&n(e)}}function JP(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var n3=function(e,t,r){for(var i=0,s=0;i=s,s=ds(),i===38&&s===12&&(t[r]=1),!Th(s);)Hr();return ef(e,Dr)},r3=function(e,t){var r=-1,i=44;do switch(Th(i)){case 0:i===38&&ds()===12&&(t[r]=1),e[r]+=n3(Dr-1,t,r);break;case 2:e[r]+=tm(i);break;case 4:if(i===44){e[++r]=ds()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Dg(i)}while(i=Hr());return e},i3=function(e,t){return QP(r3(KP(e),t))},r1=new WeakMap,s3=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!r1.get(r))&&!i){r1.set(e,!0);for(var s=[],l=i3(t,s),u=r.props,d=0,f=0;d<l.length;d++)for(var m=0;m<u.length;m++,f++)e.props[f]=s[d]?l[d].replace(/&\f/g,u[m]):u[m]+" "+l[d]}}},o3=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function YP(n,e){switch($z(n,e)){case 5103:return vt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return vt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return vt+n+Nm+n+rr+n+n;case 6828:case 4268:return vt+n+rr+n+n;case 6165:return vt+n+rr+"flex-"+n+n;case 5187:return vt+n+_t(n,/(\w+).+(:[^]+)/,vt+"box-$1$2"+rr+"flex-$1$2")+n;case 5443:return vt+n+rr+"flex-item-"+_t(n,/flex-|-self/,"")+n;case 4675:return vt+n+rr+"flex-line-pack"+_t(n,/align-content|flex-|-self/,"")+n;case 5548:return vt+n+rr+_t(n,"shrink","negative")+n;case 5292:return vt+n+rr+_t(n,"basis","preferred-size")+n;case 6060:return vt+"box-"+_t(n,"-grow","")+vt+n+rr+_t(n,"grow","positive")+n;case 4554:return vt+_t(n,/([^-])(transform)/g,"$1"+vt+"$2")+n;case 6187:return _t(_t(_t(n,/(zoom-|grab)/,vt+"$1"),/(image-set)/,vt+"$1"),n,"")+n;case 5495:case 3959:return _t(n,/(image-set\([^]*)/,vt+"$1$`$1");case 4968:return _t(_t(n,/(.+:)(flex-)?(.*)/,vt+"box-pack:$3"+rr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+vt+n+n;case 4095:case 3583:case 4068:case 2532:return _t(n,/(.+)-inline(.+)/,vt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ji(n)-1-e>6)switch(Hn(n,e+1)){case 109:if(Hn(n,e+4)!==45)break;case 102:return _t(n,/(.+:)(.+)-([^]+)/,"$1"+vt+"$2-$3$1"+Nm+(Hn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~H_(n,"stretch")?YP(_t(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Hn(n,e+1)!==115)break;case 6444:switch(Hn(n,Ji(n)-3-(~H_(n,"!important")&&10))){case 107:return _t(n,":",":"+vt)+n;case 101:return _t(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+vt+(Hn(n,14)===45?"inline-":"")+"box$3$1"+vt+"$2$3$1"+rr+"$2box$3")+n}break;case 5936:switch(Hn(n,e+11)){case 114:return vt+n+rr+_t(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return vt+n+rr+_t(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return vt+n+rr+_t(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return vt+n+rr+n+n}return n}var a3=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case Zw:e.return=YP(e.value,e.length);break;case qP:return Mu([Sd(e,{value:_t(e.value,"@","@"+vt)})],i);case Xw:if(e.length)return Wz(e.props,function(s){switch(zz(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Mu([Sd(e,{props:[_t(s,/:(read-\w+)/,":"+Nm+"$1")]})],i);case"::placeholder":return Mu([Sd(e,{props:[_t(s,/:(plac\w+)/,":"+vt+"input-$1")]}),Sd(e,{props:[_t(s,/:(plac\w+)/,":"+Nm+"$1")]}),Sd(e,{props:[_t(s,/:(plac\w+)/,rr+"input-$1")]})],i)}return""})}},l3=[a3],u3=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(C){var x=C.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(C),C.setAttribute("data-s",""))})}var i=e.stylisPlugins||l3,s={},l,u=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(C){for(var x=C.getAttribute("data-emotion").split(" "),D=1;D<x.length;D++)s[x[D]]=!0;u.push(C)});var d,f=[s3,o3];{var m,g=[Zz,t3(function(C){m.insert(C)})],v=e3(f.concat(i,g)),I=function(x){return Mu(Yz(x),v)};d=function(x,D,U,M){m=U,I(x?x+"{"+D.styles+"}":D.styles),M&&(b.inserted[D.name]=!0)}}var b={key:t,sheet:new Vz({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:d};return b.sheet.hydrate(u),b},qv={exports:{}},wt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i1;function c3(){if(i1)return wt;i1=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,m=n?Symbol.for("react.forward_ref"):60112,g=n?Symbol.for("react.suspense"):60113,v=n?Symbol.for("react.suspense_list"):60120,I=n?Symbol.for("react.memo"):60115,b=n?Symbol.for("react.lazy"):60116,C=n?Symbol.for("react.block"):60121,x=n?Symbol.for("react.fundamental"):60117,D=n?Symbol.for("react.responder"):60118,U=n?Symbol.for("react.scope"):60119;function M(A){if(typeof A=="object"&&A!==null){var z=A.$$typeof;switch(z){case e:switch(A=A.type,A){case d:case f:case r:case s:case i:case g:return A;default:switch(A=A&&A.$$typeof,A){case u:case m:case b:case I:case l:return A;default:return z}}case t:return z}}}function j(A){return M(A)===f}return wt.AsyncMode=d,wt.ConcurrentMode=f,wt.ContextConsumer=u,wt.ContextProvider=l,wt.Element=e,wt.ForwardRef=m,wt.Fragment=r,wt.Lazy=b,wt.Memo=I,wt.Portal=t,wt.Profiler=s,wt.StrictMode=i,wt.Suspense=g,wt.isAsyncMode=function(A){return j(A)||M(A)===d},wt.isConcurrentMode=j,wt.isContextConsumer=function(A){return M(A)===u},wt.isContextProvider=function(A){return M(A)===l},wt.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===e},wt.isForwardRef=function(A){return M(A)===m},wt.isFragment=function(A){return M(A)===r},wt.isLazy=function(A){return M(A)===b},wt.isMemo=function(A){return M(A)===I},wt.isPortal=function(A){return M(A)===t},wt.isProfiler=function(A){return M(A)===s},wt.isStrictMode=function(A){return M(A)===i},wt.isSuspense=function(A){return M(A)===g},wt.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===r||A===f||A===s||A===i||A===g||A===v||typeof A=="object"&&A!==null&&(A.$$typeof===b||A.$$typeof===I||A.$$typeof===l||A.$$typeof===u||A.$$typeof===m||A.$$typeof===x||A.$$typeof===D||A.$$typeof===U||A.$$typeof===C)},wt.typeOf=M,wt}var s1;function d3(){return s1||(s1=1,qv.exports=c3()),qv.exports}var Hv,o1;function h3(){if(o1)return Hv;o1=1;var n=d3(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[n.ForwardRef]=r,s[n.Memo]=i;function l(b){return n.isMemo(b)?i:s[b.$$typeof]||e}var u=Object.defineProperty,d=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,v=Object.prototype;function I(b,C,x){if(typeof C!="string"){if(v){var D=g(C);D&&D!==v&&I(b,D,x)}var U=d(C);f&&(U=U.concat(f(C)));for(var M=l(b),j=l(C),A=0;A<U.length;++A){var z=U[A];if(!t[z]&&!(x&&x[z])&&!(j&&j[z])&&!(M&&M[z])){var O=m(C,z);try{u(b,z,O)}catch{}}}}return b}return Hv=I,Hv}h3();var f3=!0;function XP(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var tE=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||f3===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},nE=function(e,t,r){tE(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function p3(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var m3={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},g3=/[A-Z]|^ms/g,y3=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ZP=function(e){return e.charCodeAt(1)===45},a1=function(e){return e!=null&&typeof e!="boolean"},Gv=JP(function(n){return ZP(n)?n:n.replace(g3,"-$&").toLowerCase()}),l1=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(y3,function(r,i,s){return Yi={name:i,styles:s,next:Yi},i})}return m3[e]!==1&&!ZP(e)&&typeof t=="number"&&t!==0?t+"px":t};function bh(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Yi={name:i.name,styles:i.styles,next:Yi},i.name;var s=t;if(s.styles!==void 0){var l=s.next;if(l!==void 0)for(;l!==void 0;)Yi={name:l.name,styles:l.styles,next:Yi},l=l.next;var u=s.styles+";";return u}return v3(n,e,t)}case"function":{if(n!==void 0){var d=Yi,f=t(n);return Yi=d,bh(n,e,f)}break}}var m=t;if(e==null)return m;var g=e[m];return g!==void 0?g:m}function v3(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=bh(n,e,t[i])+";";else for(var s in t){var l=t[s];if(typeof l!="object"){var u=l;e!=null&&e[u]!==void 0?r+=s+"{"+e[u]+"}":a1(u)&&(r+=Gv(s)+":"+l1(s,u)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var d=0;d<l.length;d++)a1(l[d])&&(r+=Gv(s)+":"+l1(s,l[d])+";");else{var f=bh(n,e,l);switch(s){case"animation":case"animationName":{r+=Gv(s)+":"+f+";";break}default:r+=s+"{"+f+"}"}}}return r}var u1=/label:\s*([^\s;{]+)\s*(;|$)/g,Yi;function tf(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";Yi=void 0;var s=n[0];if(s==null||s.raw===void 0)r=!1,i+=bh(t,e,s);else{var l=s;i+=l[0]}for(var u=1;u<n.length;u++)if(i+=bh(t,e,n[u]),r){var d=s;i+=d[u]}u1.lastIndex=0;for(var f="",m;(m=u1.exec(i))!==null;)f+="-"+m[1];var g=p3(i)+f;return{name:g,styles:i,next:Yi}}var _3=function(e){return e()},ek=i_.useInsertionEffect?i_.useInsertionEffect:!1,tk=ek||_3,c1=ek||R.useLayoutEffect,w3=!1,nk=R.createContext(typeof HTMLElement<"u"?u3({key:"css"}):null);nk.Provider;var rE=function(e){return R.forwardRef(function(t,r){var i=R.useContext(nk);return e(t,i,r)})},Lg=R.createContext({}),iE={}.hasOwnProperty,K_="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",E3=function(e,t){var r={};for(var i in t)iE.call(t,i)&&(r[i]=t[i]);return r[K_]=e,r},I3=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return tE(t,r,i),tk(function(){return nE(t,r,i)}),null},S3=rE(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=n[K_],s=[r],l="";typeof n.className=="string"?l=XP(e.registered,s,n.className):n.className!=null&&(l=n.className+" ");var u=tf(s,void 0,R.useContext(Lg));l+=e.key+"-"+u.name;var d={};for(var f in n)iE.call(n,f)&&f!=="css"&&f!==K_&&!w3&&(d[f]=n[f]);return d.className=l,t&&(d.ref=t),R.createElement(R.Fragment,null,R.createElement(I3,{cache:e,serialized:u,isStringTag:typeof i=="string"}),R.createElement(i,d))}),T3=S3,b3=function(e,t){var r=arguments;if(t==null||!iE.call(t,"css"))return R.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=T3,s[1]=E3(e,t);for(var l=2;l<i;l++)s[l]=r[l];return R.createElement.apply(null,s)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(b3);var R3=rE(function(n,e){var t=n.styles,r=tf([t],void 0,R.useContext(Lg)),i=R.useRef();return c1(function(){var s=e.key+"-global",l=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),u=!1,d=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(l.before=e.sheet.tags[0]),d!==null&&(u=!0,d.setAttribute("data-emotion",s),l.hydrate([d])),i.current=[l,u],function(){l.flush()}},[e]),c1(function(){var s=i.current,l=s[0],u=s[1];if(u){s[1]=!1;return}if(r.next!==void 0&&nE(e,r.next,!0),l.tags.length){var d=l.tags[l.tags.length-1].nextElementSibling;l.before=d,l.flush()}e.insert("",r,l,!1)},[e,r.name]),null});function C3(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return tf(e)}function sE(){var n=C3.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var x3=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,A3=JP(function(n){return x3.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),P3=A3,k3=function(e){return e!=="theme"},d1=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?P3:k3},h1=function(e,t,r){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(l){return e.__emotion_forwardProp(l)&&s(l)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},N3=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return tE(t,r,i),tk(function(){return nE(t,r,i)}),null},D3=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,l;t!==void 0&&(s=t.label,l=t.target);var u=h1(e,t,r),d=u||d1(i),f=!d("as");return function(){var m=arguments,g=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&g.push("label:"+s+";"),m[0]==null||m[0].raw===void 0)g.push.apply(g,m);else{var v=m[0];g.push(v[0]);for(var I=m.length,b=1;b<I;b++)g.push(m[b],v[b])}var C=rE(function(x,D,U){var M=f&&x.as||i,j="",A=[],z=x;if(x.theme==null){z={};for(var O in x)z[O]=x[O];z.theme=R.useContext(Lg)}typeof x.className=="string"?j=XP(D.registered,A,x.className):x.className!=null&&(j=x.className+" ");var k=tf(g.concat(A),D.registered,z);j+=D.key+"-"+k.name,l!==void 0&&(j+=" "+l);var L=f&&u===void 0?d1(M):d,E={};for(var N in x)f&&N==="as"||L(N)&&(E[N]=x[N]);return E.className=j,U&&(E.ref=U),R.createElement(R.Fragment,null,R.createElement(N3,{cache:D,serialized:k,isStringTag:typeof M=="string"}),R.createElement(M,E))});return C.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",C.defaultProps=e.defaultProps,C.__emotion_real=C,C.__emotion_base=i,C.__emotion_styles=g,C.__emotion_forwardProp=u,Object.defineProperty(C,"toString",{value:function(){return"."+l}}),C.withComponent=function(x,D){var U=n(x,km({},t,D,{shouldForwardProp:h1(C,D,!0)}));return U.apply(void 0,g)},C}},O3=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Q_=D3.bind(null);O3.forEach(function(n){Q_[n]=Q_(n)});function M3(n){return n==null||Object.keys(n).length===0}function L3(n){const{styles:e,defaultTheme:t={}}=n,r=typeof e=="function"?i=>e(M3(i)?t:i):e;return S.jsx(R3,{styles:r})}/**
 * @mui/styled-engine v6.3.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function rk(n,e){return Q_(n,e)}function V3(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const f1=[];function p1(n){return f1[0]=n,tf(f1)}const F3=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function j3(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,s=F3(e),l=Object.keys(s);function u(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t})`}function d(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-r/100}${t})`}function f(v,I){const b=l.indexOf(I);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t}) and (max-width:${(b!==-1&&typeof e[l[b]]=="number"?e[l[b]]:I)-r/100}${t})`}function m(v){return l.indexOf(v)+1<l.length?f(v,l[l.indexOf(v)+1]):u(v)}function g(v){const I=l.indexOf(v);return I===0?u(l[1]):I===l.length-1?d(l[I]):f(v,l[l.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:l,values:s,up:u,down:d,between:f,only:m,not:g,unit:t,...i}}const U3={borderRadius:4};function ik(n=8,e=Jw({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(s=>{const l=e(s);return typeof l=="number"?`${l}px`:l}).join(" ");return t.mui=!0,t}function B3(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function oE(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:s={},...l}=n,u=j3(t),d=ik(i);let f=ar({breakpoints:u,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...U3,...s}},l);return f=W5(f),f.applyStyles=B3,f=e.reduce((m,g)=>ar(m,g),f),f.unstable_sxConfig={...Zh,...l==null?void 0:l.unstable_sxConfig},f.unstable_sx=function(g){return hl({sx:g,theme:this})},f}function $3(n){return Object.keys(n).length===0}function z3(n=null){const e=R.useContext(Lg);return!e||$3(e)?n:e}const W3=oE();function aE(n=W3){return z3(n)}function q3({styles:n,themeId:e,defaultTheme:t={}}){const r=aE(t),i=typeof n=="function"?n(e&&r[e]||r):n;return S.jsx(L3,{styles:i})}function H3(n={}){const{themeId:e,defaultTheme:t,defaultClassName:r="MuiBox-root",generateClassName:i}=n,s=rk("div",{shouldForwardProp:u=>u!=="theme"&&u!=="sx"&&u!=="as"})(hl);return R.forwardRef(function(d,f){const m=aE(t),{className:g,component:v="div",...I}=zP(d);return S.jsx(s,{as:v,ref:f,className:Ze(g,i?i(r):r),theme:e&&m[e]||m,...I})})}function sk(n){const{variants:e,...t}=n,r={variants:e,style:p1(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=p1(i.style))}),r}const G3=oE();function Kv(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function K3(n){return n?(e,t)=>t[n]:null}function Q3(n,e,t){n.theme=X3(n.theme)?t:n.theme[e]||n.theme}function rm(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>rm(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...s}=t;r=s}return ok(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function ok(n,e,t=[]){var i;let r;e:for(let s=0;s<e.length;s+=1){const l=e[s];if(typeof l.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!l.props(r))continue}else for(const u in l.props)if(n[u]!==l.props[u]&&((i=n.ownerState)==null?void 0:i[u])!==l.props[u])continue e;typeof l.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(l.style(r))):t.push(l.style)}return t}function J3(n={}){const{themeId:e,defaultTheme:t=G3,rootShouldForwardProp:r=Kv,slotShouldForwardProp:i=Kv}=n;function s(u){Q3(u,e,t)}return(u,d={})=>{V3(u,A=>A.filter(z=>z!==hl));const{name:f,slot:m,skipVariantsResolver:g,skipSx:v,overridesResolver:I=K3(e6(m)),...b}=d,C=g!==void 0?g:m&&m!=="Root"&&m!=="root"||!1,x=v||!1;let D=Kv;m==="Root"||m==="root"?D=r:m?D=i:Z3(u)&&(D=void 0);const U=rk(u,{shouldForwardProp:D,label:Y3(),...b}),M=A=>{if(typeof A=="function"&&A.__emotion_real!==A)return function(O){return rm(O,A)};if(is(A)){const z=sk(A);return z.variants?function(k){return rm(k,z)}:z.style}return A},j=(...A)=>{const z=[],O=A.map(M),k=[];if(z.push(s),f&&I&&k.push(function(B){var fe,Ee;const ae=(Ee=(fe=B.theme.components)==null?void 0:fe[f])==null?void 0:Ee.styleOverrides;if(!ae)return null;const le={};for(const ie in ae)le[ie]=rm(B,ae[ie]);return I(B,le)}),f&&!C&&k.push(function(B){var le,fe;const F=B.theme,ae=(fe=(le=F==null?void 0:F.components)==null?void 0:le[f])==null?void 0:fe.variants;return ae?ok(B,ae):null}),x||k.push(hl),Array.isArray(O[0])){const N=O.shift(),B=new Array(z.length).fill(""),F=new Array(k.length).fill("");let ae;ae=[...B,...N,...F],ae.raw=[...B,...N.raw,...F],z.unshift(ae)}const L=[...z,...O,...k],E=U(...L);return u.muiName&&(E.muiName=u.muiName),E};return U.withConfig&&(j.withConfig=U.withConfig),j}}function Y3(n,e){return void 0}function X3(n){for(const e in n)return!1;return!0}function Z3(n){return typeof n=="string"&&n.charCodeAt(0)>96}function e6(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function lE(n,e=0,t=1){return LP(n,e,t)}function t6(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ra(n){if(n.type)return n;if(n.charAt(0)==="#")return ra(t6(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Gs(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Gs(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:t,values:r,colorSpace:i}}const n6=n=>{const e=ra(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Ld=(n,e)=>{try{return n6(n)}catch{return n}};function Vg(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function ak(n){n=ra(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),l=(f,m=(f+t/30)%12)=>i-s*Math.max(Math.min(m-3,9-m,1),-1);let u="rgb";const d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return n.type==="hsla"&&(u+="a",d.push(e[3])),Vg({type:u,values:d})}function J_(n){n=ra(n);let e=n.type==="hsl"||n.type==="hsla"?ra(ak(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function r6(n,e){const t=J_(n),r=J_(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function Vo(n,e){return n=ra(n),e=lE(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Vg(n)}function kp(n,e,t){try{return Vo(n,e)}catch{return n}}function uE(n,e){if(n=ra(n),e=lE(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Vg(n)}function xt(n,e,t){try{return uE(n,e)}catch{return n}}function cE(n,e){if(n=ra(n),e=lE(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Vg(n)}function At(n,e,t){try{return cE(n,e)}catch{return n}}function i6(n,e=.15){return J_(n)>.5?uE(n,e):cE(n,e)}function Np(n,e,t){try{return i6(n,e)}catch{return n}}const s6=R.createContext(),lk=()=>R.useContext(s6)??!1,o6=R.createContext(void 0);function a6(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?Am(i.defaultProps,r):!i.styleOverrides&&!i.variants?Am(i,r):r}function l6({props:n,name:e}){const t=R.useContext(o6);return a6({props:n,name:e,theme:{components:t}})}const m1={theme:void 0};function u6(n){let e,t;return function(i){let s=e;return(s===void 0||i.theme!==t)&&(m1.theme=i.theme,s=sk(n(m1)),e=s,t=i.theme),s}}function c6(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const g1=(n,e,t,r=[])=>{let i=n;e.forEach((s,l)=>{l===e.length-1?Array.isArray(i)?i[Number(s)]=t:i&&typeof i=="object"&&(i[s]=t):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},d6=(n,e,t)=>{function r(i,s=[],l=[]){Object.entries(i).forEach(([u,d])=>{(!t||!t([...s,u]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...s,u],Array.isArray(d)?[...l,u]:l):e([...s,u],d,l))})}r(n)},h6=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Qv(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},s={},l={};return d6(n,(u,d,f)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(u,d))){const m=`--${t?`${t}-`:""}${u.join("-")}`,g=h6(u,d);Object.assign(i,{[m]:g}),g1(s,u,`var(${m})`,f),g1(l,u,`var(${m}, ${g})`,f)}},u=>u[0]==="vars"),{css:i,vars:s,varsWithDefaults:l}}function f6(n,e={}){const{getSelector:t=x,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:l,defaultColorScheme:u="light",...d}=n,{vars:f,css:m,varsWithDefaults:g}=Qv(d,e);let v=g;const I={},{[u]:b,...C}=s;if(Object.entries(C||{}).forEach(([M,j])=>{const{vars:A,css:z,varsWithDefaults:O}=Qv(j,e);v=ar(v,O),I[M]={css:z,vars:A}}),b){const{css:M,vars:j,varsWithDefaults:A}=Qv(b,e);v=ar(v,A),I[u]={css:M,vars:j}}function x(M,j){var z,O;let A=i;if(i==="class"&&(A=".%s"),i==="data"&&(A="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(A=`[${i}="%s"]`),M){if(A==="media")return n.defaultColorScheme===M?":root":{[`@media (prefers-color-scheme: ${((O=(z=s[M])==null?void 0:z.palette)==null?void 0:O.mode)||M})`]:{":root":j}};if(A)return n.defaultColorScheme===M?`:root, ${A.replace("%s",String(M))}`:A.replace("%s",String(M))}return":root"}return{vars:v,generateThemeVars:()=>{let M={...f};return Object.entries(I).forEach(([,{vars:j}])=>{M=ar(M,j)}),M},generateStyleSheets:()=>{var k,L;const M=[],j=n.defaultColorScheme||"light";function A(E,N){Object.keys(N).length&&M.push(typeof E=="string"?{[E]:{...N}}:E)}A(t(void 0,{...m}),m);const{[j]:z,...O}=I;if(z){const{css:E}=z,N=(L=(k=s[j])==null?void 0:k.palette)==null?void 0:L.mode,B=!r&&N?{colorScheme:N,...E}:{...E};A(t(j,{...B}),B)}return Object.entries(O).forEach(([E,{css:N}])=>{var ae,le;const B=(le=(ae=s[E])==null?void 0:ae.palette)==null?void 0:le.mode,F=!r&&B?{colorScheme:B,...N}:{...N};A(t(E,{...F}),F)}),M}}}function p6(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const Rh={black:"#000",white:"#fff"},m6={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},fu={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},pu={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Td={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},mu={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},gu={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},yu={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function uk(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Rh.white,default:Rh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const g6=uk();function ck(){return{text:{primary:Rh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Rh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const y1=ck();function v1(n,e,t,r){const i=r.light||r,s=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=cE(n.main,i):e==="dark"&&(n.dark=uE(n.main,s)))}function y6(n="light"){return n==="dark"?{main:mu[200],light:mu[50],dark:mu[400]}:{main:mu[700],light:mu[400],dark:mu[800]}}function v6(n="light"){return n==="dark"?{main:fu[200],light:fu[50],dark:fu[400]}:{main:fu[500],light:fu[300],dark:fu[700]}}function _6(n="light"){return n==="dark"?{main:pu[500],light:pu[300],dark:pu[700]}:{main:pu[700],light:pu[400],dark:pu[800]}}function w6(n="light"){return n==="dark"?{main:gu[400],light:gu[300],dark:gu[700]}:{main:gu[700],light:gu[500],dark:gu[900]}}function E6(n="light"){return n==="dark"?{main:yu[400],light:yu[300],dark:yu[700]}:{main:yu[800],light:yu[500],dark:yu[900]}}function I6(n="light"){return n==="dark"?{main:Td[400],light:Td[300],dark:Td[700]}:{main:"#ed6c02",light:Td[500],dark:Td[900]}}function dE(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,s=n.primary||y6(e),l=n.secondary||v6(e),u=n.error||_6(e),d=n.info||w6(e),f=n.success||E6(e),m=n.warning||I6(e);function g(C){return r6(C,y1.text.primary)>=t?y1.text.primary:g6.text.primary}const v=({color:C,name:x,mainShade:D=500,lightShade:U=300,darkShade:M=700})=>{if(C={...C},!C.main&&C[D]&&(C.main=C[D]),!C.hasOwnProperty("main"))throw new Error(Gs(11,x?` (${x})`:"",D));if(typeof C.main!="string")throw new Error(Gs(12,x?` (${x})`:"",JSON.stringify(C.main)));return v1(C,"light",U,r),v1(C,"dark",M,r),C.contrastText||(C.contrastText=g(C.main)),C};let I;return e==="light"?I=uk():e==="dark"&&(I=ck()),ar({common:{...Rh},mode:e,primary:v({color:s,name:"primary"}),secondary:v({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:u,name:"error"}),warning:v({color:m,name:"warning"}),info:v({color:d,name:"info"}),success:v({color:f,name:"success"}),grey:m6,contrastThreshold:t,getContrastText:g,augmentColor:v,tonalOffset:r,...I},i)}function S6(n){const e={};return Object.entries(n).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function T6(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function b6(n){return Math.round(n*1e5)/1e5}const _1={textTransform:"uppercase"},w1='"Roboto", "Helvetica", "Arial", sans-serif';function R6(n,e){const{fontFamily:t=w1,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:u=700,htmlFontSize:d=16,allVariants:f,pxToRem:m,...g}=typeof e=="function"?e(n):e,v=r/14,I=m||(x=>`${x/d*v}rem`),b=(x,D,U,M,j)=>({fontFamily:t,fontWeight:x,fontSize:I(D),lineHeight:U,...t===w1?{letterSpacing:`${b6(M/D)}em`}:{},...j,...f}),C={h1:b(i,96,1.167,-1.5),h2:b(i,60,1.2,-.5),h3:b(s,48,1.167,0),h4:b(s,34,1.235,.25),h5:b(s,24,1.334,0),h6:b(l,20,1.6,.15),subtitle1:b(s,16,1.75,.15),subtitle2:b(l,14,1.57,.1),body1:b(s,16,1.5,.15),body2:b(s,14,1.43,.15),button:b(l,14,1.75,.4,_1),caption:b(s,12,1.66,.4),overline:b(s,12,2.66,1,_1),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ar({htmlFontSize:d,pxToRem:I,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:u,...C},g,{clone:!1})}const C6=.2,x6=.14,A6=.12;function Ut(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${C6})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${x6})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${A6})`].join(",")}const P6=["none",Ut(0,2,1,-1,0,1,1,0,0,1,3,0),Ut(0,3,1,-2,0,2,2,0,0,1,5,0),Ut(0,3,3,-2,0,3,4,0,0,1,8,0),Ut(0,2,4,-1,0,4,5,0,0,1,10,0),Ut(0,3,5,-1,0,5,8,0,0,1,14,0),Ut(0,3,5,-1,0,6,10,0,0,1,18,0),Ut(0,4,5,-2,0,7,10,1,0,2,16,1),Ut(0,5,5,-3,0,8,10,1,0,3,14,2),Ut(0,5,6,-3,0,9,12,1,0,3,16,2),Ut(0,6,6,-3,0,10,14,1,0,4,18,3),Ut(0,6,7,-4,0,11,15,1,0,4,20,3),Ut(0,7,8,-4,0,12,17,2,0,5,22,4),Ut(0,7,8,-4,0,13,19,2,0,5,24,4),Ut(0,7,9,-4,0,14,21,2,0,5,26,4),Ut(0,8,9,-5,0,15,22,2,0,6,28,5),Ut(0,8,10,-5,0,16,24,2,0,6,30,5),Ut(0,8,11,-5,0,17,26,2,0,6,32,5),Ut(0,9,11,-5,0,18,28,2,0,7,34,6),Ut(0,9,12,-6,0,19,29,2,0,7,36,6),Ut(0,10,13,-6,0,20,31,3,0,8,38,7),Ut(0,10,13,-6,0,21,33,3,0,8,40,7),Ut(0,10,14,-6,0,22,35,3,0,8,42,7),Ut(0,11,14,-7,0,23,36,3,0,9,44,8),Ut(0,11,15,-7,0,24,38,3,0,9,46,8)],k6={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},N6={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function E1(n){return`${Math.round(n)}ms`}function D6(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function O6(n){const e={...k6,...n.easing},t={...N6,...n.duration};return{getAutoHeightDuration:D6,create:(i=["all"],s={})=>{const{duration:l=t.standard,easing:u=e.easeInOut,delay:d=0,...f}=s;return(Array.isArray(i)?i:[i]).map(m=>`${m} ${typeof l=="string"?l:E1(l)} ${u} ${typeof d=="string"?d:E1(d)}`).join(",")},...n,easing:e,duration:t}}const M6={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function L6(n){return is(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function dk(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[l,u]=i[s];!L6(u)||l.startsWith("unstable_")?delete r[l]:is(u)&&(r[l]={...u},t(r[l]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Y_(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:s={},transitions:l={},typography:u={},shape:d,...f}=n;if(n.vars)throw new Error(Gs(20));const m=dE(s),g=oE(n);let v=ar(g,{mixins:T6(g.breakpoints,r),palette:m,shadows:P6.slice(),typography:R6(m,u),transitions:O6(l),zIndex:{...M6}});return v=ar(v,f),v=e.reduce((I,b)=>ar(I,b),v),v.unstable_sxConfig={...Zh,...f==null?void 0:f.unstable_sxConfig},v.unstable_sx=function(b){return hl({sx:b,theme:this})},v.toRuntimeSource=dk,v}function X_(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const V6=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=X_(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function hk(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function fk(n){return n==="dark"?V6:[]}function F6(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,s=dE(e);return{palette:s,opacity:{...hk(s.mode),...t},overlays:r||fk(s.mode),...i}}function j6(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const U6=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],B6=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const l={};return U6(n.cssVarPrefix).forEach(u=>{l[u]=t[u],delete t[u]}),s==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:l}}:s?{[s.replace("%s",e)]:l,[`${r}, ${s.replace("%s",e)}`]:t}:{[r]:{...t,...l}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(s)return s.replace("%s",String(e))}return r};function $6(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function ne(n,e,t){!n[e]&&t&&(n[e]=t)}function Vd(n){return typeof n!="string"||!n.startsWith("hsl")?n:ak(n)}function Ds(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Ld(Vd(n[e])))}function z6(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Gi=n=>{try{return n()}catch{}},W6=(n="mui")=>c6(n);function Jv(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=F6({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...l}=Y_({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:s,opacity:{...hk(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||fk(i)},l}function q6(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:l=j6,colorSchemeSelector:u=t.light&&t.dark?"media":void 0,rootSelector:d=":root",...f}=n,m=Object.keys(t)[0],g=r||(t.light&&m!=="light"?"light":m),v=W6(s),{[g]:I,light:b,dark:C,...x}=t,D={...x};let U=I;if((g==="dark"&&!("dark"in t)||g==="light"&&!("light"in t))&&(U=!0),!U)throw new Error(Gs(21,g));const M=Jv(D,U,f,g);b&&!D.light&&Jv(D,b,void 0,"light"),C&&!D.dark&&Jv(D,C,void 0,"dark");let j={defaultColorScheme:g,...M,cssVarPrefix:s,colorSchemeSelector:u,rootSelector:d,getCssVar:v,colorSchemes:D,font:{...S6(M.typography),...M.font},spacing:z6(f.spacing)};Object.keys(j.colorSchemes).forEach(L=>{const E=j.colorSchemes[L].palette,N=B=>{const F=B.split("-"),ae=F[1],le=F[2];return v(B,E[ae][le])};if(E.mode==="light"&&(ne(E.common,"background","#fff"),ne(E.common,"onBackground","#000")),E.mode==="dark"&&(ne(E.common,"background","#000"),ne(E.common,"onBackground","#fff")),$6(E,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),E.mode==="light"){ne(E.Alert,"errorColor",xt(E.error.light,.6)),ne(E.Alert,"infoColor",xt(E.info.light,.6)),ne(E.Alert,"successColor",xt(E.success.light,.6)),ne(E.Alert,"warningColor",xt(E.warning.light,.6)),ne(E.Alert,"errorFilledBg",N("palette-error-main")),ne(E.Alert,"infoFilledBg",N("palette-info-main")),ne(E.Alert,"successFilledBg",N("palette-success-main")),ne(E.Alert,"warningFilledBg",N("palette-warning-main")),ne(E.Alert,"errorFilledColor",Gi(()=>E.getContrastText(E.error.main))),ne(E.Alert,"infoFilledColor",Gi(()=>E.getContrastText(E.info.main))),ne(E.Alert,"successFilledColor",Gi(()=>E.getContrastText(E.success.main))),ne(E.Alert,"warningFilledColor",Gi(()=>E.getContrastText(E.warning.main))),ne(E.Alert,"errorStandardBg",At(E.error.light,.9)),ne(E.Alert,"infoStandardBg",At(E.info.light,.9)),ne(E.Alert,"successStandardBg",At(E.success.light,.9)),ne(E.Alert,"warningStandardBg",At(E.warning.light,.9)),ne(E.Alert,"errorIconColor",N("palette-error-main")),ne(E.Alert,"infoIconColor",N("palette-info-main")),ne(E.Alert,"successIconColor",N("palette-success-main")),ne(E.Alert,"warningIconColor",N("palette-warning-main")),ne(E.AppBar,"defaultBg",N("palette-grey-100")),ne(E.Avatar,"defaultBg",N("palette-grey-400")),ne(E.Button,"inheritContainedBg",N("palette-grey-300")),ne(E.Button,"inheritContainedHoverBg",N("palette-grey-A100")),ne(E.Chip,"defaultBorder",N("palette-grey-400")),ne(E.Chip,"defaultAvatarColor",N("palette-grey-700")),ne(E.Chip,"defaultIconColor",N("palette-grey-700")),ne(E.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ne(E.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ne(E.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ne(E.LinearProgress,"primaryBg",At(E.primary.main,.62)),ne(E.LinearProgress,"secondaryBg",At(E.secondary.main,.62)),ne(E.LinearProgress,"errorBg",At(E.error.main,.62)),ne(E.LinearProgress,"infoBg",At(E.info.main,.62)),ne(E.LinearProgress,"successBg",At(E.success.main,.62)),ne(E.LinearProgress,"warningBg",At(E.warning.main,.62)),ne(E.Skeleton,"bg",`rgba(${N("palette-text-primaryChannel")} / 0.11)`),ne(E.Slider,"primaryTrack",At(E.primary.main,.62)),ne(E.Slider,"secondaryTrack",At(E.secondary.main,.62)),ne(E.Slider,"errorTrack",At(E.error.main,.62)),ne(E.Slider,"infoTrack",At(E.info.main,.62)),ne(E.Slider,"successTrack",At(E.success.main,.62)),ne(E.Slider,"warningTrack",At(E.warning.main,.62));const B=Np(E.background.default,.8);ne(E.SnackbarContent,"bg",B),ne(E.SnackbarContent,"color",Gi(()=>E.getContrastText(B))),ne(E.SpeedDialAction,"fabHoverBg",Np(E.background.paper,.15)),ne(E.StepConnector,"border",N("palette-grey-400")),ne(E.StepContent,"border",N("palette-grey-400")),ne(E.Switch,"defaultColor",N("palette-common-white")),ne(E.Switch,"defaultDisabledColor",N("palette-grey-100")),ne(E.Switch,"primaryDisabledColor",At(E.primary.main,.62)),ne(E.Switch,"secondaryDisabledColor",At(E.secondary.main,.62)),ne(E.Switch,"errorDisabledColor",At(E.error.main,.62)),ne(E.Switch,"infoDisabledColor",At(E.info.main,.62)),ne(E.Switch,"successDisabledColor",At(E.success.main,.62)),ne(E.Switch,"warningDisabledColor",At(E.warning.main,.62)),ne(E.TableCell,"border",At(kp(E.divider,1),.88)),ne(E.Tooltip,"bg",kp(E.grey[700],.92))}if(E.mode==="dark"){ne(E.Alert,"errorColor",At(E.error.light,.6)),ne(E.Alert,"infoColor",At(E.info.light,.6)),ne(E.Alert,"successColor",At(E.success.light,.6)),ne(E.Alert,"warningColor",At(E.warning.light,.6)),ne(E.Alert,"errorFilledBg",N("palette-error-dark")),ne(E.Alert,"infoFilledBg",N("palette-info-dark")),ne(E.Alert,"successFilledBg",N("palette-success-dark")),ne(E.Alert,"warningFilledBg",N("palette-warning-dark")),ne(E.Alert,"errorFilledColor",Gi(()=>E.getContrastText(E.error.dark))),ne(E.Alert,"infoFilledColor",Gi(()=>E.getContrastText(E.info.dark))),ne(E.Alert,"successFilledColor",Gi(()=>E.getContrastText(E.success.dark))),ne(E.Alert,"warningFilledColor",Gi(()=>E.getContrastText(E.warning.dark))),ne(E.Alert,"errorStandardBg",xt(E.error.light,.9)),ne(E.Alert,"infoStandardBg",xt(E.info.light,.9)),ne(E.Alert,"successStandardBg",xt(E.success.light,.9)),ne(E.Alert,"warningStandardBg",xt(E.warning.light,.9)),ne(E.Alert,"errorIconColor",N("palette-error-main")),ne(E.Alert,"infoIconColor",N("palette-info-main")),ne(E.Alert,"successIconColor",N("palette-success-main")),ne(E.Alert,"warningIconColor",N("palette-warning-main")),ne(E.AppBar,"defaultBg",N("palette-grey-900")),ne(E.AppBar,"darkBg",N("palette-background-paper")),ne(E.AppBar,"darkColor",N("palette-text-primary")),ne(E.Avatar,"defaultBg",N("palette-grey-600")),ne(E.Button,"inheritContainedBg",N("palette-grey-800")),ne(E.Button,"inheritContainedHoverBg",N("palette-grey-700")),ne(E.Chip,"defaultBorder",N("palette-grey-700")),ne(E.Chip,"defaultAvatarColor",N("palette-grey-300")),ne(E.Chip,"defaultIconColor",N("palette-grey-300")),ne(E.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ne(E.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ne(E.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ne(E.LinearProgress,"primaryBg",xt(E.primary.main,.5)),ne(E.LinearProgress,"secondaryBg",xt(E.secondary.main,.5)),ne(E.LinearProgress,"errorBg",xt(E.error.main,.5)),ne(E.LinearProgress,"infoBg",xt(E.info.main,.5)),ne(E.LinearProgress,"successBg",xt(E.success.main,.5)),ne(E.LinearProgress,"warningBg",xt(E.warning.main,.5)),ne(E.Skeleton,"bg",`rgba(${N("palette-text-primaryChannel")} / 0.13)`),ne(E.Slider,"primaryTrack",xt(E.primary.main,.5)),ne(E.Slider,"secondaryTrack",xt(E.secondary.main,.5)),ne(E.Slider,"errorTrack",xt(E.error.main,.5)),ne(E.Slider,"infoTrack",xt(E.info.main,.5)),ne(E.Slider,"successTrack",xt(E.success.main,.5)),ne(E.Slider,"warningTrack",xt(E.warning.main,.5));const B=Np(E.background.default,.98);ne(E.SnackbarContent,"bg",B),ne(E.SnackbarContent,"color",Gi(()=>E.getContrastText(B))),ne(E.SpeedDialAction,"fabHoverBg",Np(E.background.paper,.15)),ne(E.StepConnector,"border",N("palette-grey-600")),ne(E.StepContent,"border",N("palette-grey-600")),ne(E.Switch,"defaultColor",N("palette-grey-300")),ne(E.Switch,"defaultDisabledColor",N("palette-grey-600")),ne(E.Switch,"primaryDisabledColor",xt(E.primary.main,.55)),ne(E.Switch,"secondaryDisabledColor",xt(E.secondary.main,.55)),ne(E.Switch,"errorDisabledColor",xt(E.error.main,.55)),ne(E.Switch,"infoDisabledColor",xt(E.info.main,.55)),ne(E.Switch,"successDisabledColor",xt(E.success.main,.55)),ne(E.Switch,"warningDisabledColor",xt(E.warning.main,.55)),ne(E.TableCell,"border",xt(kp(E.divider,1),.68)),ne(E.Tooltip,"bg",kp(E.grey[700],.92))}Ds(E.background,"default"),Ds(E.background,"paper"),Ds(E.common,"background"),Ds(E.common,"onBackground"),Ds(E,"divider"),Object.keys(E).forEach(B=>{const F=E[B];B!=="tonalOffset"&&F&&typeof F=="object"&&(F.main&&ne(E[B],"mainChannel",Ld(Vd(F.main))),F.light&&ne(E[B],"lightChannel",Ld(Vd(F.light))),F.dark&&ne(E[B],"darkChannel",Ld(Vd(F.dark))),F.contrastText&&ne(E[B],"contrastTextChannel",Ld(Vd(F.contrastText))),B==="text"&&(Ds(E[B],"primary"),Ds(E[B],"secondary")),B==="action"&&(F.active&&Ds(E[B],"active"),F.selected&&Ds(E[B],"selected")))})}),j=e.reduce((L,E)=>ar(L,E),j);const A={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:l,getSelector:B6(j)},{vars:z,generateThemeVars:O,generateStyleSheets:k}=f6(j,A);return j.vars=z,Object.entries(j.colorSchemes[j.defaultColorScheme]).forEach(([L,E])=>{j[L]=E}),j.generateThemeVars=O,j.generateStyleSheets=k,j.generateSpacing=function(){return ik(f.spacing,Jw(this))},j.getColorSchemeSelector=p6(u),j.spacing=j.generateSpacing(),j.shouldSkipGeneratingVar=l,j.unstable_sxConfig={...Zh,...f==null?void 0:f.unstable_sxConfig},j.unstable_sx=function(E){return hl({sx:E,theme:this})},j.toRuntimeSource=dk,j}function I1(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:dE({...t===!0?{}:t.palette,mode:e})})}function pk(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:s=t==null?void 0:t.mode,...l}=n,u=s||"light",d=i==null?void 0:i[u],f={...i,...t?{[u]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return Y_(n,...e);let m=t;"palette"in n||f[u]&&(f[u]!==!0?m=f[u].palette:u==="dark"&&(m={mode:"dark"}));const g=Y_({...n,palette:m},...e);return g.defaultColorScheme=u,g.colorSchemes=f,g.palette.mode==="light"&&(g.colorSchemes.light={...f.light!==!0&&f.light,palette:g.palette},I1(g,"dark",f.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:g.palette},I1(g,"light",f.light)),g}return!t&&!("light"in f)&&u==="light"&&(f.light=!0),q6({...l,colorSchemes:f,defaultColorScheme:u,...typeof r!="boolean"&&r},...e)}const hE=pk(),Fg="$$material";function fE(){const n=aE(hE);return n[Fg]||n}function H6(n){return S.jsx(q3,{...n,defaultTheme:hE,themeId:Fg})}function pE(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const Mi=n=>pE(n)&&n!=="classes",Ge=J3({themeId:Fg,defaultTheme:hE,rootShouldForwardProp:Mi});function G6(n){return function(t){return S.jsx(H6,{styles:typeof n=="function"?r=>n({theme:r,...t}):n})}}function K6(){return zP}const Cn=u6;function hn(n){return l6(n)}function Q6(n){return en("MuiSvgIcon",n)}Ht("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const J6=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${st(e)}`,`fontSize${st(t)}`]};return dn(i,Q6,r)},Y6=Ge("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${st(t.color)}`],e[`fontSize${st(t.fontSize)}`]]}})(Cn(({theme:n})=>{var e,t,r,i,s,l,u,d,f,m,g,v,I,b;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:C=>!C.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((l=(s=n.typography)==null?void 0:s.pxToRem)==null?void 0:l.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(u=n.typography)==null?void 0:u.pxToRem)==null?void 0:d.call(u,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((m=(f=n.typography)==null?void 0:f.pxToRem)==null?void 0:m.call(f,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,C])=>C&&C.main).map(([C])=>{var x,D;return{props:{color:C},style:{color:(D=(x=(n.vars??n).palette)==null?void 0:x[C])==null?void 0:D.main}}}),{props:{color:"action"},style:{color:(v=(g=(n.vars??n).palette)==null?void 0:g.action)==null?void 0:v.active}},{props:{color:"disabled"},style:{color:(b=(I=(n.vars??n).palette)==null?void 0:I.action)==null?void 0:b.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Z_=R.forwardRef(function(e,t){const r=hn({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:l="inherit",component:u="svg",fontSize:d="medium",htmlColor:f,inheritViewBox:m=!1,titleAccess:g,viewBox:v="0 0 24 24",...I}=r,b=R.isValidElement(i)&&i.type==="svg",C={...r,color:l,component:u,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:v,hasSvgAsChild:b},x={};m||(x.viewBox=v);const D=J6(C);return S.jsxs(Y6,{as:u,className:Ze(D.root,s),focusable:"false",color:f,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:t,...x,...I,...b&&i.props,ownerState:C,children:[b?i.props.children:i,g?S.jsx("title",{children:g}):null]})});Z_.muiName="SvgIcon";function jg(n,e){function t(r,i){return S.jsx(Z_,{"data-testid":`${e}Icon`,ref:i,...r,children:n})}return t.muiName=Z_.muiName,R.memo(R.forwardRef(t))}function Dp(n){return parseInt(n,10)||0}const X6={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Z6(n){return n==null||Object.keys(n).length===0||n.outerHeightStyle===0&&!n.overflowing}const e9=R.forwardRef(function(e,t){const{onChange:r,maxRows:i,minRows:s=1,style:l,value:u,...d}=e,{current:f}=R.useRef(u!=null),m=R.useRef(null),g=Qn(t,m),v=R.useRef(null),I=R.useRef(null),b=R.useCallback(()=>{const D=m.current,M=Ks(D).getComputedStyle(D);if(M.width==="0px")return{outerHeightStyle:0,overflowing:!1};const j=I.current;j.style.width=M.width,j.value=D.value||e.placeholder||"x",j.value.slice(-1)===`
`&&(j.value+=" ");const A=M.boxSizing,z=Dp(M.paddingBottom)+Dp(M.paddingTop),O=Dp(M.borderBottomWidth)+Dp(M.borderTopWidth),k=j.scrollHeight;j.value="x";const L=j.scrollHeight;let E=k;s&&(E=Math.max(Number(s)*L,E)),i&&(E=Math.min(Number(i)*L,E)),E=Math.max(E,L);const N=E+(A==="border-box"?z+O:0),B=Math.abs(E-k)<=1;return{outerHeightStyle:N,overflowing:B}},[i,s,e.placeholder]),C=R.useCallback(()=>{const D=b();if(Z6(D))return;const U=D.outerHeightStyle,M=m.current;v.current!==U&&(v.current=U,M.style.height=`${U}px`),M.style.overflow=D.overflowing?"hidden":""},[b]);dl(()=>{const D=()=>{C()};let U;const M=kP(D),j=m.current,A=Ks(j);A.addEventListener("resize",M);let z;return typeof ResizeObserver<"u"&&(z=new ResizeObserver(D),z.observe(j)),()=>{M.clear(),cancelAnimationFrame(U),A.removeEventListener("resize",M),z&&z.disconnect()}},[b,C]),dl(()=>{C()});const x=D=>{f||C(),r&&r(D)};return S.jsxs(R.Fragment,{children:[S.jsx("textarea",{value:u,onChange:x,ref:g,rows:s,style:l,...d}),S.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:I,tabIndex:-1,style:{...X6.shadow,...l,paddingTop:0,paddingBottom:0}})]})});function e0(n){return typeof n=="string"}function Ec({props:n,states:e,muiFormControl:t}){return e.reduce((r,i)=>(r[i]=n[i],t&&typeof n[i]>"u"&&(r[i]=t[i]),r),{})}const mE=R.createContext(void 0);function Ic(){return R.useContext(mE)}function S1(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function Dm(n,e=!1){return n&&(S1(n.value)&&n.value!==""||e&&S1(n.defaultValue)&&n.defaultValue!=="")}function t9(n){return n.startAdornment}function n9(n){return en("MuiInputBase",n)}const nc=Ht("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var T1;const Ug=(n,e)=>{const{ownerState:t}=n;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${st(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},Bg=(n,e)=>{const{ownerState:t}=n;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},r9=n=>{const{classes:e,color:t,disabled:r,error:i,endAdornment:s,focused:l,formControl:u,fullWidth:d,hiddenLabel:f,multiline:m,readOnly:g,size:v,startAdornment:I,type:b}=n,C={root:["root",`color${st(t)}`,r&&"disabled",i&&"error",d&&"fullWidth",l&&"focused",u&&"formControl",v&&v!=="medium"&&`size${st(v)}`,m&&"multiline",I&&"adornedStart",s&&"adornedEnd",f&&"hiddenLabel",g&&"readOnly"],input:["input",r&&"disabled",b==="search"&&"inputTypeSearch",m&&"inputMultiline",v==="small"&&"inputSizeSmall",f&&"inputHiddenLabel",I&&"inputAdornedStart",s&&"inputAdornedEnd",g&&"readOnly"]};return dn(C,n9,e)},$g=Ge("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Ug})(Cn(({theme:n})=>({...n.typography.body1,color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${nc.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:t})=>e.multiline&&t==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),zg=Ge("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Bg})(Cn(({theme:n})=>{const e=n.palette.mode==="light",t={color:"currentColor",...n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},r={opacity:"0 !important"},i=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${nc.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${nc.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},variants:[{props:({ownerState:s})=>!s.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:s})=>s.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),b1=G6({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),gE=R.forwardRef(function(e,t){const r=hn({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:s,autoFocus:l,className:u,color:d,components:f={},componentsProps:m={},defaultValue:g,disabled:v,disableInjectingGlobalStyles:I,endAdornment:b,error:C,fullWidth:x=!1,id:D,inputComponent:U="input",inputProps:M={},inputRef:j,margin:A,maxRows:z,minRows:O,multiline:k=!1,name:L,onBlur:E,onChange:N,onClick:B,onFocus:F,onKeyDown:ae,onKeyUp:le,placeholder:fe,readOnly:Ee,renderSuffix:ie,rows:se,size:ge,slotProps:q={},slots:Z={},startAdornment:_e,type:be="text",value:Se,...Re}=r,Te=M.value!=null?M.value:Se,{current:Ne}=R.useRef(Te!=null),we=R.useRef(),G=R.useCallback(ft=>{},[]),ue=Qn(we,j,M.ref,G),[re,oe]=R.useState(!1),me=Ic(),ze=Ec({props:r,muiFormControl:me,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ze.focused=me?me.focused:re,R.useEffect(()=>{!me&&v&&re&&(oe(!1),E&&E())},[me,v,re,E]);const Ke=me&&me.onFilled,rt=me&&me.onEmpty,at=R.useCallback(ft=>{Dm(ft)?Ke&&Ke():rt&&rt()},[Ke,rt]);dl(()=>{Ne&&at({value:Te})},[Te,at,Ne]);const gt=ft=>{F&&F(ft),M.onFocus&&M.onFocus(ft),me&&me.onFocus?me.onFocus(ft):oe(!0)},bt=ft=>{E&&E(ft),M.onBlur&&M.onBlur(ft),me&&me.onBlur?me.onBlur(ft):oe(!1)},Et=(ft,...vr)=>{if(!Ne){const hi=ft.target||we.current;if(hi==null)throw new Error(Gs(1));at({value:hi.value})}M.onChange&&M.onChange(ft,...vr),N&&N(ft,...vr)};R.useEffect(()=>{at(we.current)},[]);const $e=ft=>{we.current&&ft.currentTarget===ft.target&&we.current.focus(),B&&B(ft)};let Or=U,fn=M;k&&Or==="input"&&(se?fn={type:void 0,minRows:se,maxRows:se,...fn}:fn={type:void 0,maxRows:z,minRows:O,...fn},Or=e9);const Kr=ft=>{at(ft.animationName==="mui-auto-fill-cancel"?we.current:{value:"x"})};R.useEffect(()=>{me&&me.setAdornedStart(!!_e)},[me,_e]);const Dt={...r,color:ze.color||"primary",disabled:ze.disabled,endAdornment:b,error:ze.error,focused:ze.focused,formControl:me,fullWidth:x,hiddenLabel:ze.hiddenLabel,multiline:k,size:ze.size,startAdornment:_e,type:be},Ot=r9(Dt),Jn=Z.root||f.Root||$g,Qr=q.root||m.root||{},Yn=Z.input||f.Input||zg;return fn={...fn,...q.input??m.input},S.jsxs(R.Fragment,{children:[!I&&typeof b1=="function"&&(T1||(T1=S.jsx(b1,{}))),S.jsxs(Jn,{...Qr,ref:t,onClick:$e,...Re,...!e0(Jn)&&{ownerState:{...Dt,...Qr.ownerState}},className:Ze(Ot.root,Qr.className,u,Ee&&"MuiInputBase-readOnly"),children:[_e,S.jsx(mE.Provider,{value:null,children:S.jsx(Yn,{"aria-invalid":ze.error,"aria-describedby":i,autoComplete:s,autoFocus:l,defaultValue:g,disabled:ze.disabled,id:D,onAnimationStart:Kr,name:L,placeholder:fe,readOnly:Ee,required:ze.required,rows:se,value:Te,onKeyDown:ae,onKeyUp:le,type:be,...fn,...!e0(Yn)&&{as:Or,ownerState:{...Dt,...fn.ownerState}},ref:ue,className:Ze(Ot.input,fn.className,Ee&&"MuiInputBase-readOnly"),onBlur:bt,onChange:Et,onFocus:gt})}),b,ie?ie({...ze,startAdornment:_e}):null]})]})});function i9(n){return typeof n.main=="string"}function s9(n,e=[]){if(!i9(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function Sc(n=[]){return([,e])=>e&&s9(e,n)}function o9(n){return en("MuiInput",n)}const bd={...nc,...Ht("MuiInput",["root","underline","input"])},a9=n=>{const{classes:e,disableUnderline:t}=n,i=dn({root:["root",!t&&"underline"],input:["input"]},o9,e);return{...e,...i}},l9=Ge($g,{shouldForwardProp:n=>Mi(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...Ug(n,e),!t.disableUnderline&&e.underline]}})(Cn(({theme:n})=>{let t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(t=`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${bd.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${bd.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${bd.disabled}, .${bd.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${bd.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(Sc()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[r].main}`}}}))]}})),u9=Ge(zg,{name:"MuiInput",slot:"Input",overridesResolver:Bg})({}),yE=R.forwardRef(function(e,t){const r=hn({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:s={},componentsProps:l,fullWidth:u=!1,inputComponent:d="input",multiline:f=!1,slotProps:m,slots:g={},type:v="text",...I}=r,b=a9(r),x={root:{ownerState:{disableUnderline:i}}},D=m??l?ar(m??l,x):x,U=g.root??s.Root??l9,M=g.input??s.Input??u9;return S.jsx(gE,{slots:{root:U,input:M},slotProps:D,fullWidth:u,inputComponent:d,multiline:f,ref:t,type:v,...I,classes:b})});yE.muiName="Input";function c9(n){return en("MuiFilledInput",n)}const Ma={...nc,...Ht("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},d9=n=>{const{classes:e,disableUnderline:t,startAdornment:r,endAdornment:i,size:s,hiddenLabel:l,multiline:u}=n,d={root:["root",!t&&"underline",r&&"adornedStart",i&&"adornedEnd",s==="small"&&`size${st(s)}`,l&&"hiddenLabel",u&&"multiline"],input:["input"]},f=dn(d,c9,e);return{...e,...f}},h9=Ge($g,{shouldForwardProp:n=>Mi(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...Ug(n,e),!t.disableUnderline&&e.underline]}})(Cn(({theme:n})=>{const e=n.palette.mode==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r}},[`&.${Ma.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r},[`&.${Ma.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:s},variants:[{props:({ownerState:l})=>!l.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ma.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ma.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`:t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ma.disabled}, .${Ma.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${Ma.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(Sc()).map(([l])=>{var u;return{props:{disableUnderline:!1,color:l},style:{"&::after":{borderBottom:`2px solid ${(u=(n.vars||n).palette[l])==null?void 0:u.main}`}}}}),{props:({ownerState:l})=>l.startAdornment,style:{paddingLeft:12}},{props:({ownerState:l})=>l.endAdornment,style:{paddingRight:12}},{props:({ownerState:l})=>l.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:l,size:u})=>l.multiline&&u==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:l})=>l.multiline&&l.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:l})=>l.multiline&&l.hiddenLabel&&l.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),f9=Ge(zg,{name:"MuiFilledInput",slot:"Input",overridesResolver:Bg})(Cn(({theme:n})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),vE=R.forwardRef(function(e,t){const r=hn({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:s={},componentsProps:l,fullWidth:u=!1,hiddenLabel:d,inputComponent:f="input",multiline:m=!1,slotProps:g,slots:v={},type:I="text",...b}=r,C={...r,disableUnderline:i,fullWidth:u,inputComponent:f,multiline:m,type:I},x=d9(r),D={root:{ownerState:C},input:{ownerState:C}},U=g??l?ar(D,g??l):D,M=v.root??s.Root??h9,j=v.input??s.Input??f9;return S.jsx(gE,{slots:{root:M,input:j},slotProps:U,fullWidth:u,inputComponent:f,multiline:m,ref:t,type:I,...b,classes:x})});vE.muiName="Input";var R1;const p9=Ge("fieldset",{shouldForwardProp:Mi})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),m9=Ge("legend",{shouldForwardProp:Mi})(Cn(({theme:n})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}}]})));function g9(n){const{children:e,classes:t,className:r,label:i,notched:s,...l}=n,u=i!=null&&i!=="",d={...n,notched:s,withLabel:u};return S.jsx(p9,{"aria-hidden":!0,className:r,ownerState:d,...l,children:S.jsx(m9,{ownerState:d,children:u?S.jsx("span",{children:i}):R1||(R1=S.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}function y9(n){return en("MuiOutlinedInput",n)}const Ki={...nc,...Ht("MuiOutlinedInput",["root","notchedOutline","input"])},v9=n=>{const{classes:e}=n,r=dn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},y9,e);return{...e,...r}},_9=Ge($g,{shouldForwardProp:n=>Mi(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Ug})(Cn(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${Ki.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ki.notchedOutline}`]:{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${Ki.focused} .${Ki.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(n.palette).filter(Sc()).map(([t])=>({props:{color:t},style:{[`&.${Ki.focused} .${Ki.notchedOutline}`]:{borderColor:(n.vars||n).palette[t].main}}})),{props:{},style:{[`&.${Ki.error} .${Ki.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${Ki.disabled} .${Ki.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:14}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:14}},{props:({ownerState:t})=>t.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:t,size:r})=>t.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),w9=Ge(g9,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(n,e)=>e.notchedOutline})(Cn(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),E9=Ge(zg,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Bg})(Cn(({theme:n})=>({padding:"16.5px 14px",...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),_E=R.forwardRef(function(e,t){var r;const i=hn({props:e,name:"MuiOutlinedInput"}),{components:s={},fullWidth:l=!1,inputComponent:u="input",label:d,multiline:f=!1,notched:m,slots:g={},type:v="text",...I}=i,b=v9(i),C=Ic(),x=Ec({props:i,muiFormControl:C,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),D={...i,color:x.color||"primary",disabled:x.disabled,error:x.error,focused:x.focused,formControl:C,fullWidth:l,hiddenLabel:x.hiddenLabel,multiline:f,size:x.size,type:v},U=g.root??s.Root??_9,M=g.input??s.Input??E9;return S.jsx(gE,{slots:{root:U,input:M},renderSuffix:j=>S.jsx(w9,{ownerState:D,className:b.notchedOutline,label:d!=null&&d!==""&&x.required?r||(r=S.jsxs(R.Fragment,{children:[d," ","*"]})):d,notched:typeof m<"u"?m:!!(j.startAdornment||j.filled||j.focused)}),fullWidth:l,inputComponent:u,multiline:f,ref:t,type:v,...I,classes:{...b,notchedOutline:null}})});_E.muiName="Input";function I9(n){return en("MuiFormLabel",n)}const Xd=Ht("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),S9=n=>{const{classes:e,color:t,focused:r,disabled:i,error:s,filled:l,required:u}=n,d={root:["root",`color${st(t)}`,i&&"disabled",s&&"error",l&&"filled",r&&"focused",u&&"required"],asterisk:["asterisk",s&&"error"]};return dn(d,I9,e)},T9=Ge("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled]}})(Cn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(n.palette).filter(Sc()).map(([e])=>({props:{color:e},style:{[`&.${Xd.focused}`]:{color:(n.vars||n).palette[e].main}}})),{props:{},style:{[`&.${Xd.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${Xd.error}`]:{color:(n.vars||n).palette.error.main}}}]}))),b9=Ge("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(n,e)=>e.asterisk})(Cn(({theme:n})=>({[`&.${Xd.error}`]:{color:(n.vars||n).palette.error.main}}))),R9=R.forwardRef(function(e,t){const r=hn({props:e,name:"MuiFormLabel"}),{children:i,className:s,color:l,component:u="label",disabled:d,error:f,filled:m,focused:g,required:v,...I}=r,b=Ic(),C=Ec({props:r,muiFormControl:b,states:["color","required","focused","disabled","error","filled"]}),x={...r,color:C.color||"primary",component:u,disabled:C.disabled,error:C.error,filled:C.filled,focused:C.focused,required:C.required},D=S9(x);return S.jsxs(T9,{as:u,ownerState:x,className:Ze(D.root,s),ref:t,...I,children:[i,C.required&&S.jsxs(b9,{ownerState:x,"aria-hidden":!0,className:D.asterisk,children:[" ","*"]})]})});function C9(n){return en("MuiInputLabel",n)}Ht("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const x9=n=>{const{classes:e,formControl:t,size:r,shrink:i,disableAnimation:s,variant:l,required:u}=n,d={root:["root",t&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${st(r)}`,l],asterisk:[u&&"asterisk"]},f=dn(d,C9,e);return{...e,...f}},A9=Ge(R9,{shouldForwardProp:n=>Mi(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Xd.asterisk}`]:e.asterisk},e.root,t.formControl&&e.formControl,t.size==="small"&&e.sizeSmall,t.shrink&&e.shrink,!t.disableAnimation&&e.animated,t.focused&&e.focused,e[t.variant]]}})(Cn(({theme:n})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="filled"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:t,size:r})=>e==="filled"&&t.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="outlined"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),P9=R.forwardRef(function(e,t){const r=hn({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:s,shrink:l,variant:u,className:d,...f}=r,m=Ic();let g=l;typeof g>"u"&&m&&(g=m.filled||m.focused||m.adornedStart);const v=Ec({props:r,muiFormControl:m,states:["size","variant","required","focused"]}),I={...r,disableAnimation:i,formControl:m,shrink:g,size:v.size,variant:v.variant,required:v.required,focused:v.focused},b=x9(I);return S.jsx(A9,{"data-shrink":g,ref:t,className:Ze(b.root,d),...f,ownerState:I,classes:b})});function k9(n){return en("MuiFormControl",n)}Ht("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const N9=n=>{const{classes:e,margin:t,fullWidth:r}=n,i={root:["root",t!=="none"&&`margin${st(t)}`,r&&"fullWidth"]};return dn(i,k9,e)},D9=Ge("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`margin${st(t.margin)}`],t.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),O9=R.forwardRef(function(e,t){const r=hn({props:e,name:"MuiFormControl"}),{children:i,className:s,color:l="primary",component:u="div",disabled:d=!1,error:f=!1,focused:m,fullWidth:g=!1,hiddenLabel:v=!1,margin:I="none",required:b=!1,size:C="medium",variant:x="outlined",...D}=r,U={...r,color:l,component:u,disabled:d,error:f,fullWidth:g,hiddenLabel:v,margin:I,required:b,size:C,variant:x},M=N9(U),[j,A]=R.useState(()=>{let F=!1;return i&&R.Children.forEach(i,ae=>{if(!Wv(ae,["Input","Select"]))return;const le=Wv(ae,["Select"])?ae.props.input:ae;le&&t9(le.props)&&(F=!0)}),F}),[z,O]=R.useState(()=>{let F=!1;return i&&R.Children.forEach(i,ae=>{Wv(ae,["Input","Select"])&&(Dm(ae.props,!0)||Dm(ae.props.inputProps,!0))&&(F=!0)}),F}),[k,L]=R.useState(!1);d&&k&&L(!1);const E=m!==void 0&&!d?m:k;let N;R.useRef(!1);const B=R.useMemo(()=>({adornedStart:j,setAdornedStart:A,color:l,disabled:d,error:f,filled:z,focused:E,fullWidth:g,hiddenLabel:v,size:C,onBlur:()=>{L(!1)},onEmpty:()=>{O(!1)},onFilled:()=>{O(!0)},onFocus:()=>{L(!0)},registerEffect:N,required:b,variant:x}),[j,l,d,f,z,E,g,v,N,b,C,x]);return S.jsx(mE.Provider,{value:B,children:S.jsx(D9,{as:u,ownerState:U,className:Ze(M.root,s),ref:t,...D,children:i})})});function M9(n){return en("MuiFormHelperText",n)}const C1=Ht("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var x1;const L9=n=>{const{classes:e,contained:t,size:r,disabled:i,error:s,filled:l,focused:u,required:d}=n,f={root:["root",i&&"disabled",s&&"error",r&&`size${st(r)}`,t&&"contained",u&&"focused",l&&"filled",d&&"required"]};return dn(f,M9,e)},V9=Ge("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.size&&e[`size${st(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(Cn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${C1.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${C1.error}`]:{color:(n.vars||n).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),F9=R.forwardRef(function(e,t){const r=hn({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:l="p",disabled:u,error:d,filled:f,focused:m,margin:g,required:v,variant:I,...b}=r,C=Ic(),x=Ec({props:r,muiFormControl:C,states:["variant","size","disabled","error","filled","focused","required"]}),D={...r,component:l,contained:x.variant==="filled"||x.variant==="outlined",variant:x.variant,size:x.size,disabled:x.disabled,error:x.error,filled:x.filled,focused:x.focused,required:x.required};delete D.ownerState;const U=L9(D);return S.jsx(V9,{as:l,className:Ze(U.root,s),ref:t,...b,ownerState:D,children:i===" "?x1||(x1=S.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):i})}),j9=R.createContext({});function U9(n){return en("MuiList",n)}Ht("MuiList",["root","padding","dense","subheader"]);const B9=n=>{const{classes:e,disablePadding:t,dense:r,subheader:i}=n;return dn({root:["root",!t&&"padding",r&&"dense",i&&"subheader"]},U9,e)},$9=Ge("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:n})=>!n.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:n})=>n.subheader,style:{paddingTop:0}}]}),z9=R.forwardRef(function(e,t){const r=hn({props:e,name:"MuiList"}),{children:i,className:s,component:l="ul",dense:u=!1,disablePadding:d=!1,subheader:f,...m}=r,g=R.useMemo(()=>({dense:u}),[u]),v={...r,component:l,dense:u,disablePadding:d},I=B9(v);return S.jsx(j9.Provider,{value:g,children:S.jsxs($9,{as:l,className:Ze(I.root,s),ref:t,ownerState:v,...m,children:[f,i]})})});function Yv(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function A1(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function mk(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.startsWith(e.keys.join(""))}function Rd(n,e,t,r,i,s){let l=!1,u=i(n,e,e?t:!1);for(;u;){if(u===n.firstChild){if(l)return!1;l=!0}const d=r?!1:u.disabled||u.getAttribute("aria-disabled")==="true";if(!u.hasAttribute("tabindex")||!mk(u,s)||d)u=i(n,u,t);else return u.focus(),!0}return!1}const W9=R.forwardRef(function(e,t){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:l,className:u,disabledItemsFocusable:d=!1,disableListWrap:f=!1,onKeyDown:m,variant:g="selectedMenu",...v}=e,I=R.useRef(null),b=R.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});dl(()=>{i&&I.current.focus()},[i]),R.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(M,{direction:j})=>{const A=!I.current.style.width;if(M.clientHeight<I.current.clientHeight&&A){const z=`${OP(Ks(M))}px`;I.current.style[j==="rtl"?"paddingLeft":"paddingRight"]=z,I.current.style.width=`calc(100% + ${z})`}return I.current}}),[]);const C=M=>{const j=I.current,A=M.key;if(M.ctrlKey||M.metaKey||M.altKey){m&&m(M);return}const O=Oi(j).activeElement;if(A==="ArrowDown")M.preventDefault(),Rd(j,O,f,d,Yv);else if(A==="ArrowUp")M.preventDefault(),Rd(j,O,f,d,A1);else if(A==="Home")M.preventDefault(),Rd(j,null,f,d,Yv);else if(A==="End")M.preventDefault(),Rd(j,null,f,d,A1);else if(A.length===1){const k=b.current,L=A.toLowerCase(),E=performance.now();k.keys.length>0&&(E-k.lastTime>500?(k.keys=[],k.repeating=!0,k.previousKeyMatched=!0):k.repeating&&L!==k.keys[0]&&(k.repeating=!1)),k.lastTime=E,k.keys.push(L);const N=O&&!k.repeating&&mk(O,k);k.previousKeyMatched&&(N||Rd(j,O,!1,d,Yv,k))?M.preventDefault():k.previousKeyMatched=!1}m&&m(M)},x=Qn(I,t);let D=-1;R.Children.forEach(l,(M,j)=>{if(!R.isValidElement(M)){D===j&&(D+=1,D>=l.length&&(D=-1));return}M.props.disabled||(g==="selectedMenu"&&M.props.selected||D===-1)&&(D=j),D===j&&(M.props.disabled||M.props.muiSkipListHighlight||M.type.muiSkipListHighlight)&&(D+=1,D>=l.length&&(D=-1))});const U=R.Children.map(l,(M,j)=>{if(j===D){const A={};return s&&(A.autoFocus=!0),M.props.tabIndex===void 0&&g==="selectedMenu"&&(A.tabIndex=0),R.cloneElement(M,A)}return M});return S.jsx(z9,{role:"menu",ref:x,className:u,onKeyDown:C,tabIndex:i?0:-1,...v,children:U})});function gk(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}function t0(n,e){return t0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},t0(n,e)}function yk(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,t0(n,e)}const P1={disabled:!1},Om=Rn.createContext(null);var q9=function(e){return e.scrollTop},Fd="unmounted",Fa="exited",ja="entering",bu="entered",n0="exiting",ys=function(n){yk(e,n);function e(r,i){var s;s=n.call(this,r,i)||this;var l=i,u=l&&!l.isMounting?r.enter:r.appear,d;return s.appearStatus=null,r.in?u?(d=Fa,s.appearStatus=ja):d=bu:r.unmountOnExit||r.mountOnEnter?d=Fd:d=Fa,s.state={status:d},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var l=i.in;return l&&s.status===Fd?{status:Fa}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var s=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==ja&&l!==bu&&(s=ja):(l===ja||l===bu)&&(s=n0)}this.updateStatus(!1,s)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,s,l,u;return s=l=u=i,i!=null&&typeof i!="number"&&(s=i.exit,l=i.enter,u=i.appear!==void 0?i.appear:l),{exit:s,enter:l,appear:u}},t.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===ja){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:vp.findDOMNode(this);l&&q9(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Fa&&this.setState({status:Fd})},t.performEnter=function(i){var s=this,l=this.props.enter,u=this.context?this.context.isMounting:i,d=this.props.nodeRef?[u]:[vp.findDOMNode(this),u],f=d[0],m=d[1],g=this.getTimeouts(),v=u?g.appear:g.enter;if(!i&&!l||P1.disabled){this.safeSetState({status:bu},function(){s.props.onEntered(f)});return}this.props.onEnter(f,m),this.safeSetState({status:ja},function(){s.props.onEntering(f,m),s.onTransitionEnd(v,function(){s.safeSetState({status:bu},function(){s.props.onEntered(f,m)})})})},t.performExit=function(){var i=this,s=this.props.exit,l=this.getTimeouts(),u=this.props.nodeRef?void 0:vp.findDOMNode(this);if(!s||P1.disabled){this.safeSetState({status:Fa},function(){i.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:n0},function(){i.props.onExiting(u),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:Fa},function(){i.props.onExited(u)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},t.setNextCallback=function(i){var s=this,l=!0;return this.nextCallback=function(u){l&&(l=!1,s.nextCallback=null,i(u))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(i,s){this.setNextCallback(s);var l=this.props.nodeRef?this.props.nodeRef.current:vp.findDOMNode(this),u=i==null&&!this.props.addEndListener;if(!l||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],f=d[0],m=d[1];this.props.addEndListener(f,m)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===Fd)return null;var s=this.props,l=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var u=gk(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Rn.createElement(Om.Provider,{value:null},typeof l=="function"?l(i,u):Rn.cloneElement(Rn.Children.only(l),u))},e}(Rn.Component);ys.contextType=Om;ys.propTypes={};function vu(){}ys.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:vu,onEntering:vu,onEntered:vu,onExit:vu,onExiting:vu,onExited:vu};ys.UNMOUNTED=Fd;ys.EXITED=Fa;ys.ENTERING=ja;ys.ENTERED=bu;ys.EXITING=n0;function H9(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function wE(n,e){var t=function(s){return e&&R.isValidElement(s)?e(s):s},r=Object.create(null);return n&&R.Children.map(n,function(i){return i}).forEach(function(i){r[i.key]=t(i)}),r}function G9(n,e){n=n||{},e=e||{};function t(m){return m in e?e[m]:n[m]}var r=Object.create(null),i=[];for(var s in n)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var l,u={};for(var d in e){if(r[d])for(l=0;l<r[d].length;l++){var f=r[d][l];u[r[d][l]]=t(f)}u[d]=t(d)}for(l=0;l<i.length;l++)u[i[l]]=t(i[l]);return u}function Ka(n,e,t){return t[e]!=null?t[e]:n.props[e]}function K9(n,e){return wE(n.children,function(t){return R.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:Ka(t,"appear",n),enter:Ka(t,"enter",n),exit:Ka(t,"exit",n)})})}function Q9(n,e,t){var r=wE(n.children),i=G9(e,r);return Object.keys(i).forEach(function(s){var l=i[s];if(R.isValidElement(l)){var u=s in e,d=s in r,f=e[s],m=R.isValidElement(f)&&!f.props.in;d&&(!u||m)?i[s]=R.cloneElement(l,{onExited:t.bind(null,l),in:!0,exit:Ka(l,"exit",n),enter:Ka(l,"enter",n)}):!d&&u&&!m?i[s]=R.cloneElement(l,{in:!1}):d&&u&&R.isValidElement(f)&&(i[s]=R.cloneElement(l,{onExited:t.bind(null,l),in:f.props.in,exit:Ka(l,"exit",n),enter:Ka(l,"enter",n)}))}}),i}var J9=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},Y9={component:"div",childFactory:function(e){return e}},EE=function(n){yk(e,n);function e(r,i){var s;s=n.call(this,r,i)||this;var l=s.handleExited.bind(H9(s));return s.state={contextValue:{isMounting:!0},handleExited:l,firstRender:!0},s}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var l=s.children,u=s.handleExited,d=s.firstRender;return{children:d?K9(i,u):Q9(i,l,u),firstRender:!1}},t.handleExited=function(i,s){var l=wE(this.props.children);i.key in l||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(u){var d=km({},u.children);return delete d[i.key],{children:d}}))},t.render=function(){var i=this.props,s=i.component,l=i.childFactory,u=gk(i,["component","childFactory"]),d=this.state.contextValue,f=J9(this.state.children).map(l);return delete u.appear,delete u.enter,delete u.exit,s===null?Rn.createElement(Om.Provider,{value:d},f):Rn.createElement(Om.Provider,{value:d},Rn.createElement(s,u,f))},e}(Rn.Component);EE.propTypes={};EE.defaultProps=Y9;const vk=n=>n.scrollTop;function Mm(n,e){const{timeout:t,easing:r,style:i={}}=n;return{duration:i.transitionDuration??(typeof t=="number"?t:t[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function r0(n){return`scale(${n}, ${n**2})`}const X9={entering:{opacity:1,transform:r0(1)},entered:{opacity:1,transform:"none"}},Xv=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),i0=R.forwardRef(function(e,t){const{addEndListener:r,appear:i=!0,children:s,easing:l,in:u,onEnter:d,onEntered:f,onEntering:m,onExit:g,onExited:v,onExiting:I,style:b,timeout:C="auto",TransitionComponent:x=ys,...D}=e,U=DP(),M=R.useRef(),j=fE(),A=R.useRef(null),z=Qn(A,Jh(s),t),O=le=>fe=>{if(le){const Ee=A.current;fe===void 0?le(Ee):le(Ee,fe)}},k=O(m),L=O((le,fe)=>{vk(le);const{duration:Ee,delay:ie,easing:se}=Mm({style:b,timeout:C,easing:l},{mode:"enter"});let ge;C==="auto"?(ge=j.transitions.getAutoHeightDuration(le.clientHeight),M.current=ge):ge=Ee,le.style.transition=[j.transitions.create("opacity",{duration:ge,delay:ie}),j.transitions.create("transform",{duration:Xv?ge:ge*.666,delay:ie,easing:se})].join(","),d&&d(le,fe)}),E=O(f),N=O(I),B=O(le=>{const{duration:fe,delay:Ee,easing:ie}=Mm({style:b,timeout:C,easing:l},{mode:"exit"});let se;C==="auto"?(se=j.transitions.getAutoHeightDuration(le.clientHeight),M.current=se):se=fe,le.style.transition=[j.transitions.create("opacity",{duration:se,delay:Ee}),j.transitions.create("transform",{duration:Xv?se:se*.666,delay:Xv?Ee:Ee||se*.333,easing:ie})].join(","),le.style.opacity=0,le.style.transform=r0(.75),g&&g(le)}),F=O(v),ae=le=>{C==="auto"&&U.start(M.current||0,le),r&&r(A.current,le)};return S.jsx(x,{appear:i,in:u,nodeRef:A,onEnter:L,onEntered:E,onEntering:k,onExit:B,onExited:F,onExiting:N,addEndListener:ae,timeout:C==="auto"?null:C,...D,children:(le,{ownerState:fe,...Ee})=>R.cloneElement(s,{style:{opacity:0,transform:r0(.75),visibility:le==="exited"&&!u?"hidden":void 0,...X9[le],...b,...s.props.style},ref:z,...Ee})})});i0&&(i0.muiSupportAuto=!0);function Z9(n){const e=Oi(n);return e.body===n?Ks(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function Zd(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function k1(n){return parseInt(Ks(n).getComputedStyle(n).paddingRight,10)||0}function eW(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(n.tagName),r=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||r}function N1(n,e,t,r,i){const s=[e,t,...r];[].forEach.call(n.children,l=>{const u=!s.includes(l),d=!eW(l);u&&d&&Zd(l,i)})}function Zv(n,e){let t=-1;return n.some((r,i)=>e(r)?(t=i,!0):!1),t}function tW(n,e){const t=[],r=n.container;if(!e.disableScrollLock){if(Z9(r)){const l=OP(Ks(r));t.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${k1(r)+l}px`;const u=Oi(r).querySelectorAll(".mui-fixed");[].forEach.call(u,d=>{t.push({value:d.style.paddingRight,property:"padding-right",el:d}),d.style.paddingRight=`${k1(d)+l}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=Oi(r).body;else{const l=r.parentElement,u=Ks(r);s=(l==null?void 0:l.nodeName)==="HTML"&&u.getComputedStyle(l).overflowY==="scroll"?l:r}t.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{t.forEach(({value:s,el:l,property:u})=>{s?l.style.setProperty(u,s):l.style.removeProperty(u)})}}function nW(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class rW{constructor(){this.modals=[],this.containers=[]}add(e,t){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Zd(e.modalRef,!1);const i=nW(t);N1(t,e.mount,e.modalRef,i,!0);const s=Zv(this.containers,l=>l.container===t);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:i}),r)}mount(e,t){const r=Zv(this.containers,s=>s.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=tW(i,t))}remove(e,t=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Zv(this.containers,l=>l.modals.includes(e)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&Zd(e.modalRef,t),N1(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const l=s.modals[s.modals.length-1];l.modalRef&&Zd(l.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const iW=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function sW(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function oW(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=r=>n.ownerDocument.querySelector(`input[type="radio"]${r}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function aW(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||oW(n))}function lW(n){const e=[],t=[];return Array.from(n.querySelectorAll(iW)).forEach((r,i)=>{const s=sW(r);s===-1||!aW(r)||(s===0?e.push(r):t.push({documentOrder:i,tabIndex:s,node:r}))}),t.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function uW(){return!0}function cW(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=lW,isEnabled:l=uW,open:u}=n,d=R.useRef(!1),f=R.useRef(null),m=R.useRef(null),g=R.useRef(null),v=R.useRef(null),I=R.useRef(!1),b=R.useRef(null),C=Qn(Jh(e),b),x=R.useRef(null);R.useEffect(()=>{!u||!b.current||(I.current=!t)},[t,u]),R.useEffect(()=>{if(!u||!b.current)return;const M=Oi(b.current);return b.current.contains(M.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex","-1"),I.current&&b.current.focus()),()=>{i||(g.current&&g.current.focus&&(d.current=!0,g.current.focus()),g.current=null)}},[u]),R.useEffect(()=>{if(!u||!b.current)return;const M=Oi(b.current),j=O=>{x.current=O,!(r||!l()||O.key!=="Tab")&&M.activeElement===b.current&&O.shiftKey&&(d.current=!0,m.current&&m.current.focus())},A=()=>{var L,E;const O=b.current;if(O===null)return;if(!M.hasFocus()||!l()||d.current){d.current=!1;return}if(O.contains(M.activeElement)||r&&M.activeElement!==f.current&&M.activeElement!==m.current)return;if(M.activeElement!==v.current)v.current=null;else if(v.current!==null)return;if(!I.current)return;let k=[];if((M.activeElement===f.current||M.activeElement===m.current)&&(k=s(b.current)),k.length>0){const N=!!((L=x.current)!=null&&L.shiftKey&&((E=x.current)==null?void 0:E.key)==="Tab"),B=k[0],F=k[k.length-1];typeof B!="string"&&typeof F!="string"&&(N?F.focus():B.focus())}else O.focus()};M.addEventListener("focusin",A),M.addEventListener("keydown",j,!0);const z=setInterval(()=>{M.activeElement&&M.activeElement.tagName==="BODY"&&A()},50);return()=>{clearInterval(z),M.removeEventListener("focusin",A),M.removeEventListener("keydown",j,!0)}},[t,r,i,l,u,s]);const D=M=>{g.current===null&&(g.current=M.relatedTarget),I.current=!0,v.current=M.target;const j=e.props.onFocus;j&&j(M)},U=M=>{g.current===null&&(g.current=M.relatedTarget),I.current=!0};return S.jsxs(R.Fragment,{children:[S.jsx("div",{tabIndex:u?0:-1,onFocus:U,ref:f,"data-testid":"sentinelStart"}),R.cloneElement(e,{ref:C,onFocus:D}),S.jsx("div",{tabIndex:u?0:-1,onFocus:U,ref:m,"data-testid":"sentinelEnd"})]})}function dW(n){return typeof n=="function"?n():n}const hW=R.forwardRef(function(e,t){const{children:r,container:i,disablePortal:s=!1}=e,[l,u]=R.useState(null),d=Qn(R.isValidElement(r)?Jh(r):null,t);if(dl(()=>{s||u(dW(i)||document.body)},[i,s]),dl(()=>{if(l&&!s)return W_(t,l),()=>{W_(t,null)}},[t,l,s]),s){if(R.isValidElement(r)){const f={ref:d};return R.cloneElement(r,f)}return r}return l&&aR.createPortal(r,l)});function Ai(n,e){const{className:t,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:l,...u}=e,{component:d,slots:f={[n]:void 0},slotProps:m={[n]:void 0},...g}=s,v=f[n]||r,I=BP(m[n],i),{props:{component:b,...C},internalRef:x}=UP({className:t,...u,externalForwardedProps:n==="root"?g:void 0,externalSlotProps:I}),D=Qn(x,I==null?void 0:I.ref,e.ref),U=n==="root"?b||d:b,M=VP(v,{...n==="root"&&!d&&!f[n]&&l,...n!=="root"&&!f[n]&&l,...C,...U&&{as:U},ref:D},i);return[v,M]}const fW={entering:{opacity:1},entered:{opacity:1}},pW=R.forwardRef(function(e,t){const r=fE(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:l=!0,children:u,easing:d,in:f,onEnter:m,onEntered:g,onEntering:v,onExit:I,onExited:b,onExiting:C,style:x,timeout:D=i,TransitionComponent:U=ys,...M}=e,j=R.useRef(null),A=Qn(j,Jh(u),t),z=ae=>le=>{if(ae){const fe=j.current;le===void 0?ae(fe):ae(fe,le)}},O=z(v),k=z((ae,le)=>{vk(ae);const fe=Mm({style:x,timeout:D,easing:d},{mode:"enter"});ae.style.webkitTransition=r.transitions.create("opacity",fe),ae.style.transition=r.transitions.create("opacity",fe),m&&m(ae,le)}),L=z(g),E=z(C),N=z(ae=>{const le=Mm({style:x,timeout:D,easing:d},{mode:"exit"});ae.style.webkitTransition=r.transitions.create("opacity",le),ae.style.transition=r.transitions.create("opacity",le),I&&I(ae)}),B=z(b),F=ae=>{s&&s(j.current,ae)};return S.jsx(U,{appear:l,in:f,nodeRef:j,onEnter:k,onEntered:L,onEntering:O,onExit:N,onExited:B,onExiting:E,addEndListener:F,timeout:D,...M,children:(ae,{ownerState:le,...fe})=>R.cloneElement(u,{style:{opacity:0,visibility:ae==="exited"&&!f?"hidden":void 0,...fW[ae],...x,...u.props.style},ref:A,...fe})})});function mW(n){return en("MuiBackdrop",n)}Ht("MuiBackdrop",["root","invisible"]);const gW=n=>{const{classes:e,invisible:t}=n;return dn({root:["root",t&&"invisible"]},mW,e)},yW=Ge("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),vW=R.forwardRef(function(e,t){const r=hn({props:e,name:"MuiBackdrop"}),{children:i,className:s,component:l="div",invisible:u=!1,open:d,components:f={},componentsProps:m={},slotProps:g={},slots:v={},TransitionComponent:I,transitionDuration:b,...C}=r,x={...r,component:l,invisible:u},D=gW(x),U={transition:I,root:f.Root,...v},M={...m,...g},j={slots:U,slotProps:M},[A,z]=Ai("root",{elementType:yW,externalForwardedProps:j,className:Ze(D.root,s),ownerState:x}),[O,k]=Ai("transition",{elementType:pW,externalForwardedProps:j,ownerState:x});return S.jsx(O,{in:d,timeout:b,...C,...k,children:S.jsx(A,{"aria-hidden":!0,...z,classes:D,ref:t,children:i})})});function _W(n){return typeof n=="function"?n():n}function wW(n){return n?n.props.hasOwnProperty("in"):!1}const D1=()=>{},Op=new rW;function EW(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:l,children:u,onClose:d,open:f,rootRef:m}=n,g=R.useRef({}),v=R.useRef(null),I=R.useRef(null),b=Qn(I,m),[C,x]=R.useState(!f),D=wW(u);let U=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(U=!1);const M=()=>Oi(v.current),j=()=>(g.current.modalRef=I.current,g.current.mount=v.current,g.current),A=()=>{Op.mount(j(),{disableScrollLock:r}),I.current&&(I.current.scrollTop=0)},z=Du(()=>{const le=_W(e)||M().body;Op.add(j(),le),I.current&&A()}),O=()=>Op.isTopModal(j()),k=Du(le=>{v.current=le,le&&(f&&O()?A():I.current&&Zd(I.current,U))}),L=R.useCallback(()=>{Op.remove(j(),U)},[U]);R.useEffect(()=>()=>{L()},[L]),R.useEffect(()=>{f?z():(!D||!i)&&L()},[f,L,D,i,z]);const E=le=>fe=>{var Ee;(Ee=le.onKeyDown)==null||Ee.call(le,fe),!(fe.key!=="Escape"||fe.which===229||!O())&&(t||(fe.stopPropagation(),d&&d(fe,"escapeKeyDown")))},N=le=>fe=>{var Ee;(Ee=le.onClick)==null||Ee.call(le,fe),fe.target===fe.currentTarget&&d&&d(fe,"backdropClick")};return{getRootProps:(le={})=>{const fe=jP(n);delete fe.onTransitionEnter,delete fe.onTransitionExited;const Ee={...fe,...le};return{role:"presentation",...Ee,onKeyDown:E(Ee),ref:b}},getBackdropProps:(le={})=>{const fe=le;return{"aria-hidden":!0,...fe,onClick:N(fe),open:f}},getTransitionProps:()=>{const le=()=>{x(!1),s&&s()},fe=()=>{x(!0),l&&l(),i&&L()};return{onEnter:Hb(le,(u==null?void 0:u.props.onEnter)??D1),onExited:Hb(fe,(u==null?void 0:u.props.onExited)??D1)}},rootRef:b,portalRef:k,isTopModal:O,exited:C,hasTransition:D}}function IW(n){return en("MuiModal",n)}Ht("MuiModal",["root","hidden","backdrop"]);const SW=n=>{const{open:e,exited:t,classes:r}=n;return dn({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},IW,r)},TW=Ge("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(Cn(({theme:n})=>({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),bW=Ge(vW,{name:"MuiModal",slot:"Backdrop",overridesResolver:(n,e)=>e.backdrop})({zIndex:-1}),IE=R.forwardRef(function(e,t){const r=hn({name:"MuiModal",props:e}),{BackdropComponent:i=bW,BackdropProps:s,classes:l,className:u,closeAfterTransition:d=!1,children:f,container:m,component:g,components:v={},componentsProps:I={},disableAutoFocus:b=!1,disableEnforceFocus:C=!1,disableEscapeKeyDown:x=!1,disablePortal:D=!1,disableRestoreFocus:U=!1,disableScrollLock:M=!1,hideBackdrop:j=!1,keepMounted:A=!1,onBackdropClick:z,onClose:O,onTransitionEnter:k,onTransitionExited:L,open:E,slotProps:N={},slots:B={},theme:F,...ae}=r,le={...r,closeAfterTransition:d,disableAutoFocus:b,disableEnforceFocus:C,disableEscapeKeyDown:x,disablePortal:D,disableRestoreFocus:U,disableScrollLock:M,hideBackdrop:j,keepMounted:A},{getRootProps:fe,getBackdropProps:Ee,getTransitionProps:ie,portalRef:se,isTopModal:ge,exited:q,hasTransition:Z}=EW({...le,rootRef:t}),_e={...le,exited:q},be=SW(_e),Se={};if(f.props.tabIndex===void 0&&(Se.tabIndex="-1"),Z){const{onEnter:re,onExited:oe}=ie();Se.onEnter=re,Se.onExited=oe}const Re={...ae,slots:{root:v.Root,backdrop:v.Backdrop,...B},slotProps:{...I,...N}},[Te,Ne]=Ai("root",{elementType:TW,externalForwardedProps:Re,getSlotProps:fe,additionalProps:{ref:t,as:g},ownerState:_e,className:Ze(u,be==null?void 0:be.root,!_e.open&&_e.exited&&(be==null?void 0:be.hidden))}),[we,G]=Ai("backdrop",{elementType:i,externalForwardedProps:Re,additionalProps:s,getSlotProps:re=>Ee({...re,onClick:oe=>{z&&z(oe),re!=null&&re.onClick&&re.onClick(oe)}}),className:Ze(s==null?void 0:s.className,be==null?void 0:be.backdrop),ownerState:_e}),ue=Qn(s==null?void 0:s.ref,G.ref);return!A&&!E&&(!Z||q)?null:S.jsx(hW,{ref:se,container:m,disablePortal:D,children:S.jsxs(Te,{...Ne,children:[!j&&i?S.jsx(we,{...G,ref:ue}):null,S.jsx(cW,{disableEnforceFocus:C,disableAutoFocus:b,disableRestoreFocus:U,isEnabled:ge,open:E,children:R.cloneElement(f,Se)})]})})});function RW(n){return en("MuiPaper",n)}Ht("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const CW=n=>{const{square:e,elevation:t,variant:r,classes:i}=n,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${t}`]};return dn(s,RW,i)},xW=Ge("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(Cn(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),AW=R.forwardRef(function(e,t){var I;const r=hn({props:e,name:"MuiPaper"}),i=fE(),{className:s,component:l="div",elevation:u=1,square:d=!1,variant:f="elevation",...m}=r,g={...r,component:l,elevation:u,square:d,variant:f},v=CW(g);return S.jsx(xW,{as:l,ownerState:g,className:Ze(v.root,s),ref:t,...m,style:{...f==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[u],...i.vars&&{"--Paper-overlay":(I=i.vars.overlays)==null?void 0:I[u]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Vo("#fff",X_(u))}, ${Vo("#fff",X_(u))})`}},...m.style}})});function PW(n){return en("MuiPopover",n)}Ht("MuiPopover",["root","paper"]);function O1(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function M1(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function L1(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function e_(n){return typeof n=="function"?n():n}const kW=n=>{const{classes:e}=n;return dn({root:["root"],paper:["paper"]},PW,e)},NW=Ge(IE,{name:"MuiPopover",slot:"Root",overridesResolver:(n,e)=>e.root})({}),_k=Ge(AW,{name:"MuiPopover",slot:"Paper",overridesResolver:(n,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),DW=R.forwardRef(function(e,t){const r=hn({props:e,name:"MuiPopover"}),{action:i,anchorEl:s,anchorOrigin:l={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:f,className:m,container:g,elevation:v=8,marginThreshold:I=16,open:b,PaperProps:C={},slots:x={},slotProps:D={},transformOrigin:U={vertical:"top",horizontal:"left"},TransitionComponent:M=i0,transitionDuration:j="auto",TransitionProps:{onEntering:A,...z}={},disableScrollLock:O=!1,...k}=r,L=(D==null?void 0:D.paper)??C,E=R.useRef(),N={...r,anchorOrigin:l,anchorReference:d,elevation:v,marginThreshold:I,externalPaperSlotProps:L,transformOrigin:U,TransitionComponent:M,transitionDuration:j,TransitionProps:z},B=kW(N),F=R.useCallback(()=>{if(d==="anchorPosition")return u;const G=e_(s),re=(G&&G.nodeType===1?G:Oi(E.current).body).getBoundingClientRect();return{top:re.top+O1(re,l.vertical),left:re.left+M1(re,l.horizontal)}},[s,l.horizontal,l.vertical,u,d]),ae=R.useCallback(G=>({vertical:O1(G,U.vertical),horizontal:M1(G,U.horizontal)}),[U.horizontal,U.vertical]),le=R.useCallback(G=>{const ue={width:G.offsetWidth,height:G.offsetHeight},re=ae(ue);if(d==="none")return{top:null,left:null,transformOrigin:L1(re)};const oe=F();let me=oe.top-re.vertical,ze=oe.left-re.horizontal;const Ke=me+ue.height,rt=ze+ue.width,at=Ks(e_(s)),gt=at.innerHeight-I,bt=at.innerWidth-I;if(I!==null&&me<I){const Et=me-I;me-=Et,re.vertical+=Et}else if(I!==null&&Ke>gt){const Et=Ke-gt;me-=Et,re.vertical+=Et}if(I!==null&&ze<I){const Et=ze-I;ze-=Et,re.horizontal+=Et}else if(rt>bt){const Et=rt-bt;ze-=Et,re.horizontal+=Et}return{top:`${Math.round(me)}px`,left:`${Math.round(ze)}px`,transformOrigin:L1(re)}},[s,d,F,ae,I]),[fe,Ee]=R.useState(b),ie=R.useCallback(()=>{const G=E.current;if(!G)return;const ue=le(G);ue.top!==null&&G.style.setProperty("top",ue.top),ue.left!==null&&(G.style.left=ue.left),G.style.transformOrigin=ue.transformOrigin,Ee(!0)},[le]);R.useEffect(()=>(O&&window.addEventListener("scroll",ie),()=>window.removeEventListener("scroll",ie)),[s,O,ie]);const se=(G,ue)=>{A&&A(G,ue),ie()},ge=()=>{Ee(!1)};R.useEffect(()=>{b&&ie()}),R.useImperativeHandle(i,()=>b?{updatePosition:()=>{ie()}}:null,[b,ie]),R.useEffect(()=>{if(!b)return;const G=kP(()=>{ie()}),ue=Ks(s);return ue.addEventListener("resize",G),()=>{G.clear(),ue.removeEventListener("resize",G)}},[s,b,ie]);let q=j;j==="auto"&&!M.muiSupportAuto&&(q=void 0);const Z=g||(s?Oi(e_(s)).body:void 0),_e={slots:x,slotProps:{...D,paper:L}},[be,Se]=Ai("paper",{elementType:_k,externalForwardedProps:_e,additionalProps:{elevation:v,className:Ze(B.paper,L==null?void 0:L.className),style:fe?L.style:{...L.style,opacity:0}},ownerState:N}),[Re,{slotProps:Te,...Ne}]=Ai("root",{elementType:NW,externalForwardedProps:_e,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:Z,open:b},ownerState:N,className:Ze(B.root,m)}),we=Qn(E,Se.ref);return S.jsx(Re,{...Ne,...!e0(Re)&&{slotProps:Te,disableScrollLock:O},...k,ref:t,children:S.jsx(M,{appear:!0,in:b,onEntering:se,onExited:ge,timeout:q,...z,children:S.jsx(be,{...Se,ref:we,children:f})})})});function OW(n){return en("MuiMenu",n)}Ht("MuiMenu",["root","paper","list"]);const MW={vertical:"top",horizontal:"right"},LW={vertical:"top",horizontal:"left"},VW=n=>{const{classes:e}=n;return dn({root:["root"],paper:["paper"],list:["list"]},OW,e)},FW=Ge(DW,{shouldForwardProp:n=>Mi(n)||n==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(n,e)=>e.root})({}),jW=Ge(_k,{name:"MuiMenu",slot:"Paper",overridesResolver:(n,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),UW=Ge(W9,{name:"MuiMenu",slot:"List",overridesResolver:(n,e)=>e.list})({outline:0}),BW=R.forwardRef(function(e,t){const r=hn({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:s,className:l,disableAutoFocusItem:u=!1,MenuListProps:d={},onClose:f,open:m,PaperProps:g={},PopoverClasses:v,transitionDuration:I="auto",TransitionProps:{onEntering:b,...C}={},variant:x="selectedMenu",slots:D={},slotProps:U={},...M}=r,j=lk(),A={...r,autoFocus:i,disableAutoFocusItem:u,MenuListProps:d,onEntering:b,PaperProps:g,transitionDuration:I,TransitionProps:C,variant:x},z=VW(A),O=i&&!u&&m,k=R.useRef(null),L=(fe,Ee)=>{k.current&&k.current.adjustStyleForScrollbar(fe,{direction:j?"rtl":"ltr"}),b&&b(fe,Ee)},E=fe=>{fe.key==="Tab"&&(fe.preventDefault(),f&&f(fe,"tabKeyDown"))};let N=-1;R.Children.map(s,(fe,Ee)=>{R.isValidElement(fe)&&(fe.props.disabled||(x==="selectedMenu"&&fe.props.selected||N===-1)&&(N=Ee))});const B=D.paper??jW,F=U.paper??g,ae=Xb({elementType:D.root,externalSlotProps:U.root,ownerState:A,className:[z.root,l]}),le=Xb({elementType:B,externalSlotProps:F,ownerState:A,className:z.paper});return S.jsx(FW,{onClose:f,anchorOrigin:{vertical:"bottom",horizontal:j?"right":"left"},transformOrigin:j?MW:LW,slots:{paper:B,root:D.root},slotProps:{root:ae,paper:le},open:m,ref:t,transitionDuration:I,TransitionProps:{onEntering:L,...C},ownerState:A,...M,classes:v,children:S.jsx(UW,{onKeyDown:E,actions:k,autoFocus:i&&(N===-1||u),autoFocusItem:O,variant:x,...d,className:Ze(z.list,d.className),children:s})})});function $W(n){return en("MuiNativeSelect",n)}const SE=Ht("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),zW=n=>{const{classes:e,variant:t,disabled:r,multiple:i,open:s,error:l}=n,u={select:["select",t,r&&"disabled",i&&"multiple",l&&"error"],icon:["icon",`icon${st(t)}`,s&&"iconOpen",r&&"disabled"]};return dn(u,$W,e)},wk=Ge("select")(({theme:n})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${SE.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}}}]})),WW=Ge(wk,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Mi,overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.select,e[t.variant],t.error&&e.error,{[`&.${SE.multiple}`]:e.multiple}]}})({}),Ek=Ge("svg")(({theme:n})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${SE.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),qW=Ge(Ek,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${st(t.variant)}`],t.open&&e.iconOpen]}})({}),HW=R.forwardRef(function(e,t){const{className:r,disabled:i,error:s,IconComponent:l,inputRef:u,variant:d="standard",...f}=e,m={...e,disabled:i,variant:d,error:s},g=zW(m);return S.jsxs(R.Fragment,{children:[S.jsx(WW,{ownerState:m,className:Ze(g.select,r),disabled:i,ref:u||t,...f}),e.multiple?null:S.jsx(qW,{as:l,ownerState:m,className:g.icon})]})});function GW(n){return en("MuiSelect",n)}const Cd=Ht("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var V1;const KW=Ge(wk,{name:"MuiSelect",slot:"Select",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`&.${Cd.select}`]:e.select},{[`&.${Cd.select}`]:e[t.variant]},{[`&.${Cd.error}`]:e.error},{[`&.${Cd.multiple}`]:e.multiple}]}})({[`&.${Cd.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),QW=Ge(Ek,{name:"MuiSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${st(t.variant)}`],t.open&&e.iconOpen]}})({}),JW=Ge("input",{shouldForwardProp:n=>pE(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(n,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function F1(n,e){return typeof e=="object"&&e!==null?n===e:String(n)===String(e)}function YW(n){return n==null||typeof n=="string"&&!n.trim()}const XW=n=>{const{classes:e,variant:t,disabled:r,multiple:i,open:s,error:l}=n,u={select:["select",t,r&&"disabled",i&&"multiple",l&&"error"],icon:["icon",`icon${st(t)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return dn(u,GW,e)},ZW=R.forwardRef(function(e,t){var so;const{"aria-describedby":r,"aria-label":i,autoFocus:s,autoWidth:l,children:u,className:d,defaultOpen:f,defaultValue:m,disabled:g,displayEmpty:v,error:I=!1,IconComponent:b,inputRef:C,labelId:x,MenuProps:D={},multiple:U,name:M,onBlur:j,onChange:A,onClose:z,onFocus:O,onOpen:k,open:L,readOnly:E,renderValue:N,required:B,SelectDisplayProps:F={},tabIndex:ae,type:le,value:fe,variant:Ee="standard",...ie}=e,[se,ge]=q_({controlled:fe,default:m,name:"Select"}),[q,Z]=q_({controlled:L,default:f,name:"Select"}),_e=R.useRef(null),be=R.useRef(null),[Se,Re]=R.useState(null),{current:Te}=R.useRef(L!=null),[Ne,we]=R.useState(),G=Qn(t,C),ue=R.useCallback(We=>{be.current=We,We&&Re(We)},[]),re=Se==null?void 0:Se.parentNode;R.useImperativeHandle(G,()=>({focus:()=>{be.current.focus()},node:_e.current,value:se}),[se]),R.useEffect(()=>{f&&q&&Se&&!Te&&(we(l?null:re.clientWidth),be.current.focus())},[Se,l]),R.useEffect(()=>{s&&be.current.focus()},[s]),R.useEffect(()=>{if(!x)return;const We=Oi(be.current).getElementById(x);if(We){const yt=()=>{getSelection().isCollapsed&&be.current.focus()};return We.addEventListener("click",yt),()=>{We.removeEventListener("click",yt)}}},[x]);const oe=(We,yt)=>{We?k&&k(yt):z&&z(yt),Te||(we(l?null:re.clientWidth),Z(We))},me=We=>{We.button===0&&(We.preventDefault(),be.current.focus(),oe(!0,We))},ze=We=>{oe(!1,We)},Ke=R.Children.toArray(u),rt=We=>{const yt=Ke.find(Gt=>Gt.props.value===We.target.value);yt!==void 0&&(ge(yt.props.value),A&&A(We,yt))},at=We=>yt=>{let Gt;if(yt.currentTarget.hasAttribute("tabindex")){if(U){Gt=Array.isArray(se)?se.slice():[];const _r=se.indexOf(We.props.value);_r===-1?Gt.push(We.props.value):Gt.splice(_r,1)}else Gt=We.props.value;if(We.props.onClick&&We.props.onClick(yt),se!==Gt&&(ge(Gt),A)){const _r=yt.nativeEvent||yt,vs=new _r.constructor(_r.type,_r);Object.defineProperty(vs,"target",{writable:!0,value:{value:Gt,name:M}}),A(vs,We)}U||oe(!1,yt)}},gt=We=>{E||[" ","ArrowUp","ArrowDown","Enter"].includes(We.key)&&(We.preventDefault(),oe(!0,We))},bt=Se!==null&&q,Et=We=>{!bt&&j&&(Object.defineProperty(We,"target",{writable:!0,value:{value:se,name:M}}),j(We))};delete ie["aria-invalid"];let $e,Or;const fn=[];let Kr=!1;(Dm({value:se})||v)&&(N?$e=N(se):Kr=!0);const Dt=Ke.map(We=>{if(!R.isValidElement(We))return null;let yt;if(U){if(!Array.isArray(se))throw new Error(Gs(2));yt=se.some(Gt=>F1(Gt,We.props.value)),yt&&Kr&&fn.push(We.props.children)}else yt=F1(se,We.props.value),yt&&Kr&&(Or=We.props.children);return R.cloneElement(We,{"aria-selected":yt?"true":"false",onClick:at(We),onKeyUp:Gt=>{Gt.key===" "&&Gt.preventDefault(),We.props.onKeyUp&&We.props.onKeyUp(Gt)},role:"option",selected:yt,value:void 0,"data-value":We.props.value})});Kr&&(U?fn.length===0?$e=null:$e=fn.reduce((We,yt,Gt)=>(We.push(yt),Gt<fn.length-1&&We.push(", "),We),[]):$e=Or);let Ot=Ne;!l&&Te&&Se&&(Ot=re.clientWidth);let Jn;typeof ae<"u"?Jn=ae:Jn=g?null:0;const Qr=F.id||(M?`mui-component-select-${M}`:void 0),Yn={...e,variant:Ee,value:se,open:bt,error:I},ft=XW(Yn),vr={...D.PaperProps,...(so=D.slotProps)==null?void 0:so.paper},hi=bg();return S.jsxs(R.Fragment,{children:[S.jsx(KW,{as:"div",ref:ue,tabIndex:Jn,role:"combobox","aria-controls":hi,"aria-disabled":g?"true":void 0,"aria-expanded":bt?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[x,Qr].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":B?"true":void 0,"aria-invalid":I?"true":void 0,onKeyDown:gt,onMouseDown:g||E?null:me,onBlur:Et,onFocus:O,...F,ownerState:Yn,className:Ze(F.className,ft.select,d),id:Qr,children:YW($e)?V1||(V1=S.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):$e}),S.jsx(JW,{"aria-invalid":I,value:Array.isArray(se)?se.join(","):se,name:M,ref:_e,"aria-hidden":!0,onChange:rt,tabIndex:-1,disabled:g,className:ft.nativeInput,autoFocus:s,required:B,...ie,ownerState:Yn}),S.jsx(QW,{as:b,className:ft.icon,ownerState:Yn}),S.jsx(BW,{id:`menu-${M||""}`,anchorEl:re,open:bt,onClose:ze,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...D,MenuListProps:{"aria-labelledby":x,role:"listbox","aria-multiselectable":U?"true":void 0,disableListWrap:!0,id:hi,...D.MenuListProps},slotProps:{...D.slotProps,paper:{...vr,style:{minWidth:Ot,...vr!=null?vr.style:null}}},children:Dt})]})}),eq=jg(S.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),tq=n=>{const{classes:e}=n;return e},TE={name:"MuiSelect",overridesResolver:(n,e)=>e.root,shouldForwardProp:n=>Mi(n)&&n!=="variant",slot:"Root"},nq=Ge(yE,TE)(""),rq=Ge(_E,TE)(""),iq=Ge(vE,TE)(""),Ik=R.forwardRef(function(e,t){const r=hn({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:l={},className:u,defaultOpen:d=!1,displayEmpty:f=!1,IconComponent:m=eq,id:g,input:v,inputProps:I,label:b,labelId:C,MenuProps:x,multiple:D=!1,native:U=!1,onClose:M,onOpen:j,open:A,renderValue:z,SelectDisplayProps:O,variant:k="outlined",...L}=r,E=U?HW:ZW,N=Ic(),B=Ec({props:r,muiFormControl:N,states:["variant","error"]}),F=B.variant||k,ae={...r,variant:F,classes:l},le=tq(ae),{root:fe,...Ee}=le,ie=v||{standard:S.jsx(nq,{ownerState:ae}),outlined:S.jsx(rq,{label:b,ownerState:ae}),filled:S.jsx(iq,{ownerState:ae})}[F],se=Qn(t,Jh(ie));return S.jsx(R.Fragment,{children:R.cloneElement(ie,{inputComponent:E,inputProps:{children:s,error:B.error,IconComponent:m,variant:F,type:void 0,multiple:D,...U?{id:g}:{autoWidth:i,defaultOpen:d,displayEmpty:f,labelId:C,MenuProps:x,onClose:M,onOpen:j,open:A,renderValue:z,SelectDisplayProps:{id:g,...O}},...I,classes:I?ar(Ee,I.classes):Ee,...v?v.props.inputProps:{}},...(D&&U||f)&&F==="outlined"?{notched:!0}:{},ref:se,className:Ze(ie.props.className,u,le.root),...!v&&{variant:F},...L})})});Ik.muiName="Select";function sq(n){return en("MuiTextField",n)}Ht("MuiTextField",["root"]);const oq={standard:yE,filled:vE,outlined:_E},aq=n=>{const{classes:e}=n;return dn({root:["root"]},sq,e)},lq=Ge(O9,{name:"MuiTextField",slot:"Root",overridesResolver:(n,e)=>e.root})({}),im=R.forwardRef(function(e,t){const r=hn({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:l,className:u,color:d="primary",defaultValue:f,disabled:m=!1,error:g=!1,FormHelperTextProps:v,fullWidth:I=!1,helperText:b,id:C,InputLabelProps:x,inputProps:D,InputProps:U,inputRef:M,label:j,maxRows:A,minRows:z,multiline:O=!1,name:k,onBlur:L,onChange:E,onFocus:N,placeholder:B,required:F=!1,rows:ae,select:le=!1,SelectProps:fe,slots:Ee={},slotProps:ie={},type:se,value:ge,variant:q="outlined",...Z}=r,_e={...r,autoFocus:s,color:d,disabled:m,error:g,fullWidth:I,multiline:O,required:F,select:le,variant:q},be=aq(_e),Se=bg(C),Re=b&&Se?`${Se}-helper-text`:void 0,Te=j&&Se?`${Se}-label`:void 0,Ne=oq[q],we={slots:Ee,slotProps:{input:U,inputLabel:x,htmlInput:D,formHelperText:v,select:fe,...ie}},G={},ue=we.slotProps.inputLabel;q==="outlined"&&(ue&&typeof ue.shrink<"u"&&(G.notched=ue.shrink),G.label=j),le&&((!fe||!fe.native)&&(G.id=void 0),G["aria-describedby"]=void 0);const[re,oe]=Ai("input",{elementType:Ne,externalForwardedProps:we,additionalProps:G,ownerState:_e}),[me,ze]=Ai("inputLabel",{elementType:P9,externalForwardedProps:we,ownerState:_e}),[Ke,rt]=Ai("htmlInput",{elementType:"input",externalForwardedProps:we,ownerState:_e}),[at,gt]=Ai("formHelperText",{elementType:F9,externalForwardedProps:we,ownerState:_e}),[bt,Et]=Ai("select",{elementType:Ik,externalForwardedProps:we,ownerState:_e}),$e=S.jsx(re,{"aria-describedby":Re,autoComplete:i,autoFocus:s,defaultValue:f,fullWidth:I,multiline:O,name:k,rows:ae,maxRows:A,minRows:z,type:se,value:ge,id:Se,inputRef:M,onBlur:L,onChange:E,onFocus:N,placeholder:B,inputProps:rt,slots:{input:Ee.htmlInput?Ke:void 0},...oe});return S.jsxs(lq,{className:Ze(be.root,u),disabled:m,error:g,fullWidth:I,ref:t,required:F,color:d,variant:q,ownerState:_e,...Z,children:[j!=null&&j!==""&&S.jsx(me,{htmlFor:Se,id:Te,...ze,children:j}),le?S.jsx(bt,{"aria-describedby":Re,id:Se,labelId:Te,value:ge,input:$e,...Et,children:l}):$e,b&&S.jsx(at,{id:Re,...gt,children:b})]})}),uq=Ht("MuiBox",["root"]),cq=pk(),s0=H3({themeId:Fg,defaultTheme:cq,defaultClassName:uq.root,generateClassName:MP.generate}),dq=jg(S.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),hq=jg(S.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function fq(n){return en("MuiRating",n)}const xd=Ht("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function pq(n){const e=n.toString().split(".")[1];return e?e.length:0}function t_(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(pq(e)))}const mq=n=>{const{classes:e,size:t,readOnly:r,disabled:i,emptyValueFocused:s,focusVisible:l}=n,u={root:["root",`size${st(t)}`,i&&"disabled",l&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[s&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return dn(u,fq,e)},gq=Ge("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${xd.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${st(t.size)}`],t.readOnly&&e.readOnly]}})(Cn(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${xd.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${xd.focusVisible} .${xd.iconActive}`]:{outline:"1px solid #999"},[`& .${xd.visuallyHidden}`]:V5,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),Sk=Ge("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),yq=Ge("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(Cn(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),vq=Ge("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>pE(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function _q(n){const{value:e,...t}=n;return S.jsx("span",{...t})}function j1(n){const{classes:e,disabled:t,emptyIcon:r,focus:i,getLabelText:s,highlightSelectedOnly:l,hover:u,icon:d,IconContainerComponent:f,isActive:m,itemValue:g,labelProps:v,name:I,onBlur:b,onChange:C,onClick:x,onFocus:D,readOnly:U,ownerState:M,ratingValue:j,ratingValueRounded:A}=n,z=l?g===j:g<=j,O=g<=u,k=g<=i,L=g===A,E=`${I}-${bg()}`,N=S.jsx(yq,{as:f,value:g,className:Ze(e.icon,z?e.iconFilled:e.iconEmpty,O&&e.iconHover,k&&e.iconFocus,m&&e.iconActive),ownerState:{...M,iconEmpty:!z,iconFilled:z,iconHover:O,iconFocus:k,iconActive:m},children:r&&!z?r:d});return U?S.jsx("span",{...v,children:N}):S.jsxs(R.Fragment,{children:[S.jsxs(Sk,{ownerState:{...M,emptyValueFocused:void 0},htmlFor:E,...v,children:[N,S.jsx("span",{className:e.visuallyHidden,children:s(g)})]}),S.jsx("input",{className:e.visuallyHidden,onFocus:D,onBlur:b,onChange:C,onClick:x,disabled:t,value:g,id:E,type:"radio",name:I,checked:L})]})}const wq=S.jsx(dq,{fontSize:"inherit"}),Eq=S.jsx(hq,{fontSize:"inherit"});function Iq(n){return`${n||"0"} Star${n!==1?"s":""}`}const bE=R.forwardRef(function(e,t){const r=hn({name:"MuiRating",props:e}),{component:i="span",className:s,defaultValue:l=null,disabled:u=!1,emptyIcon:d=Eq,emptyLabelText:f="Empty",getLabelText:m=Iq,highlightSelectedOnly:g=!1,icon:v=wq,IconContainerComponent:I=_q,max:b=5,name:C,onChange:x,onChangeActive:D,onMouseLeave:U,onMouseMove:M,precision:j=1,readOnly:A=!1,size:z="medium",value:O,...k}=r,L=bg(C),[E,N]=q_({controlled:O,default:l,name:"Rating"}),B=t_(E,j),F=lk(),[{hover:ae,focus:le},fe]=R.useState({hover:-1,focus:-1});let Ee=B;ae!==-1&&(Ee=ae),le!==-1&&(Ee=le);const[ie,se]=R.useState(!1),ge=R.useRef(),q=Qn(ge,t),Z=re=>{M&&M(re);const oe=ge.current,{right:me,left:ze,width:Ke}=oe.getBoundingClientRect();let rt;F?rt=(me-re.clientX)/Ke:rt=(re.clientX-ze)/Ke;let at=t_(b*rt+j/2,j);at=LP(at,j,b),fe(gt=>gt.hover===at&&gt.focus===at?gt:{hover:at,focus:at}),se(!1),D&&ae!==at&&D(re,at)},_e=re=>{U&&U(re);const oe=-1;fe({hover:oe,focus:oe}),D&&ae!==oe&&D(re,oe)},be=re=>{let oe=re.target.value===""?null:parseFloat(re.target.value);ae!==-1&&(oe=ae),N(oe),x&&x(re,oe)},Se=re=>{re.clientX===0&&re.clientY===0||(fe({hover:-1,focus:-1}),N(null),x&&parseFloat(re.target.value)===B&&x(re,null))},Re=re=>{xm(re.target)&&se(!0);const oe=parseFloat(re.target.value);fe(me=>({hover:me.hover,focus:oe}))},Te=re=>{if(ae!==-1)return;xm(re.target)||se(!1);const oe=-1;fe(me=>({hover:me.hover,focus:oe}))},[Ne,we]=R.useState(!1),G={...r,component:i,defaultValue:l,disabled:u,emptyIcon:d,emptyLabelText:f,emptyValueFocused:Ne,focusVisible:ie,getLabelText:m,icon:v,IconContainerComponent:I,max:b,precision:j,readOnly:A,size:z},ue=mq(G);return S.jsxs(gq,{as:i,ref:q,onMouseMove:Z,onMouseLeave:_e,className:Ze(ue.root,s,A&&"MuiRating-readOnly"),ownerState:G,role:A?"img":null,"aria-label":A?m(Ee):null,...k,children:[Array.from(new Array(b)).map((re,oe)=>{const me=oe+1,ze={classes:ue,disabled:u,emptyIcon:d,focus:le,getLabelText:m,highlightSelectedOnly:g,hover:ae,icon:v,IconContainerComponent:I,name:L,onBlur:Te,onChange:be,onClick:Se,onFocus:Re,ratingValue:Ee,ratingValueRounded:B,readOnly:A,ownerState:G},Ke=me===Math.ceil(Ee)&&(ae!==-1||le!==-1);if(j<1){const rt=Array.from(new Array(1/j));return S.jsx(vq,{className:Ze(ue.decimal,Ke&&ue.iconActive),ownerState:G,iconActive:Ke,children:rt.map((at,gt)=>{const bt=t_(me-1+(gt+1)*j,j);return S.jsx(j1,{...ze,isActive:!1,itemValue:bt,labelProps:{style:rt.length-1===gt?{}:{width:bt===Ee?`${(gt+1)*j*100}%`:"0%",overflow:"hidden",position:"absolute"}}},bt)})},me)}return S.jsx(j1,{...ze,isActive:Ke,itemValue:me},me)}),!A&&!u&&S.jsxs(Sk,{className:Ze(ue.label,ue.labelEmptyValue),ownerState:G,children:[S.jsx("input",{className:ue.visuallyHidden,value:"",id:`${L}-empty`,type:"radio",name:L,checked:B==null,onFocus:()=>we(!0),onBlur:()=>we(!1),onChange:be}),S.jsx("span",{className:ue.visuallyHidden,children:f})]})]})});function Sq(){const n=window.location.href,[e,t]=R.useState({}),[r,i]=R.useState({}),[s,l]=R.useState(!1),[u,d]=R.useState("");return R.useEffect(()=>{(async()=>{(await Zt(tt(Ve(Fe),"members"))).forEach(g=>{g.data().test===void 0&&t(g.data())})})()},{}),e!==null&&!s&&Object.keys(e).forEach(f=>{for(let m=0;m<e[f].reviews.length;m++){const g=e[f].reviews[m];g.reviewId===n.split("/")[4]&&(d("/movie/"+g.title.replaceAll(" ","-").toLowerCase()+"-"+g.year),i(g),l(!0))}}),S.jsx("div",{className:"moviereviewcontainer",children:S.jsx("div",{className:"reviewsection",children:S.jsxs("div",{className:"review",children:[S.jsx(dt,{to:u,children:S.jsx("img",{className:"review-movie-posters",src:r.poster})}),S.jsxs("div",{className:"review-informationss",children:[S.jsx("h2",{children:`${r.title} (${r.year})`}),S.jsx("div",{className:"the-review-date",children:S.jsx("h5",{children:r.date})}),S.jsx("div",{className:"the-review-rating",children:S.jsx(bE,{size:"medium",precision:.5,value:r.rating===void 0?0:r.rating,readOnly:!0})}),S.jsx("div",{className:"review-description",children:S.jsx("p",{children:r.review})})]})]})})})}function Tq(){const[n,e]=R.useState([]);return R.useEffect(()=>{(async()=>{(await Zt(tt(Ve(Fe),"authentications"))).forEach(i=>{const s=i.data(),l=[],u=[];for(let d=0;d<s.usernames.length;d++){const f=s.usernames[d],m=yl(),g=dc(m,`avatars/${f.uid}`);u.push(tl(g).then(v=>{l.push(S.jsxs("div",{className:"member-acc-block",children:[S.jsx(dt,{to:`/profile/${f.username}`,children:S.jsx("img",{className:"member-avatars",src:v})}),S.jsx("div",{className:"member-user",children:S.jsx(dt,{className:"username-link",to:`/profile/${f.username}`,children:S.jsx("h2",{children:f.username})})})]}))}).catch(v=>{}))}Promise.all(u).then(()=>{e(l)})})})()},{}),S.jsx("div",{className:"member-page-container",children:S.jsxs("div",{className:"member-section",children:[S.jsx("div",{className:"title",children:S.jsx("h1",{children:"Members"})}),S.jsx("div",{className:"member-acc",children:S.jsx("ol",{children:n})})]})})}let Xi=new Date().toLocaleDateString().split("/");Xi=[parseInt(Xi[0]),parseInt(Xi[1]),parseInt(Xi[2])];const xi=[{name:"action",id:28},{name:"adventure",id:12},{name:"animation",id:16},{name:"comedy",id:35},{name:"crime",id:80},{name:"documentary",id:99},{name:"drama",id:18},{name:"family",id:10751},{name:"fantasy",id:14},{name:"history",id:36},{name:"horror",id:27},{name:"music",id:10402},{name:"mystery",id:9648},{name:"romance",id:10749},{name:"science-fiction",id:878},{name:"tv-movie",id:10770},{name:"thriller",id:53},{name:"war",id:10752},{name:"western",id:37}],Qi=[{decade:"2020s",start:"2020-01-01",end:"2029-12-31"},{decade:"2010s",start:"2010-01-01",end:"2019-12-31"},{decade:"2000s",start:"2000-01-01",end:"2009-12-31"},{decade:"1990s",start:"1990-01-01",end:"1999-12-31"},{decade:"1980s",start:"1980-01-01",end:"1989-12-31"},{decade:"1970s",start:"1970-01-01",end:"1979-12-31"},{decade:"1960s",start:"1960-01-01",end:"1969-12-31"},{decade:"1950s",start:"1950-01-01",end:"1959-12-31"},{decade:"1940s",start:"1940-01-01",end:"1949-12-31"},{decade:"1930s",start:"1930-01-01",end:"1939-12-31"},{decade:"1920s",start:"1920-01-01",end:"1929-12-31"},{decade:"1910s",start:"1910-01-01",end:"1919-12-31"},{decade:"1900s",start:"1900-01-01",end:"1909-12-31"}],n_={backgroundColor:"#1c1c1c",color:"#ffffff",width:"auto"},r_=window.location.href.split("/");let bq=[];for(let n=r_.length-1;n>=0&&(bq.push(r_[n]),r_[n]!=="films");--n);const U1={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxZjhlMDQ4MDIxYjY4YWMzNGI5ZjFmYzk2OGM1YTZkZSIsInN1YiI6IjY1M2ZkZTk5NTkwN2RlMDEzOGUyZGZlOSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.N7DRRuXIDC2GrKKT5ri51E8Cl99Z6qSnECSseLR_RcA"}};function Rq(n){let e=!1,t=!1,r={},i="";const s=window.location.href.includes("popularity-asc")?"popularity.asc":"popularity.desc";for(let l=0;l<Qi.length;l++)if(r=Qi[l],window.location.href.includes(Qi[l].decade)){e=!0;break}for(let l=0;l<xi.length;l++)if(i=xi[l],window.location.href.includes(xi[l].name)){t=!0;break}return!t&&e?"https://api.themoviedb.org/3/discover/movie?include_adult=false&include_video=false&language=en-US&page="+n+"&sort_by="+s+"&primary_release_date.gte="+r.start+"&primary_release_date.lte="+r.end:t&&!e?"https://api.themoviedb.org/3/discover/movie?include_adult=false&include_video=false&language=en-US&page="+n+"&sort_by="+s+"&with_genres="+i.id:t&&e?"https://api.themoviedb.org/3/discover/movie?include_adult=false&include_video=false&language=en-US&page="+n+"&sort_by="+s+"&with_genres="+i.id+"&primary_release_date.gte="+r.start+"&primary_release_date.lte="+r.end:window.location.href.includes("upcoming")?t?"https://api.themoviedb.org/3/discover/movie?include_adult=false&include_video=false&language=en-US&page="+n+"&primary_release_date.gte="+Xi[2]+"-"+Xi[0]+"-"+Xi[1]+"&sort_by="+s+"&with_genres="+i.id:"https://api.themoviedb.org/3/discover/movie?include_adult=false&include_video=false&language=en-US&page="+n+"&primary_release_date.gte="+Xi[2]+"-"+Xi[0]+"-"+Xi[1]+"&sort_by="+s:window.location.href.includes("popularity-asc")?"https://api.themoviedb.org/3/discover/movie?include_adult=false&include_video=false&language=en-US&page="+n+"&sort_by="+s:"https://api.themoviedb.org/3/movie/top_rated?language=en-US&page="+n}function Ad(){const n=[],[e,t]=R.useState([]),[r,i]=R.useState([]),[s,l]=R.useState([]),[u,d]=R.useState([]),[f,m]=R.useState([]),[g,v]=R.useState(0),[I,b]=R.useState(S.jsx("div",{}));if(R.useEffect(()=>{let x=!1,D="";const U=[];for(let A=0;A<xi.length;A++)if(window.location.href.includes(xi[A].name)){D=xi[A].name,x=!0;break}x&&U.push(S.jsx("option",{value:`${D}`,children:D.charAt(0).toUpperCase()+D.slice(1)})),U.push(S.jsx("option",{value:"",children:"All"}));for(let A=0;A<xi.length;A++)xi[A].name!==D&&U.push(S.jsx("option",{value:`${xi[A].name.toLowerCase()}`,children:xi[A].name.charAt(0).toUpperCase()+xi[A].name.slice(1)}));l(U);let M=[];if(window.location.href.includes("popularity-asc")?(M.push(S.jsx("option",{value:"popularity-asc",children:"Lowest to Highest"})),M.push(S.jsx("option",{value:"popularity-desc",children:"Highest to Lowest"}))):(M.push(S.jsx("option",{value:"popularity-desc",children:"Highest to Lowest"})),M.push(S.jsx("option",{value:"popularity-asc",children:"Lowest to Highest"}))),d(M),!window.location.href.includes("upcoming")){let A=!1,z=[],O="";for(let k=0;k<Qi.length;k++)if(window.location.href.includes(Qi[k].decade)){O=Qi[k],A=!0;break}A&&z.push(S.jsx("option",{value:`${O.decade}`,children:O.decade})),z.push(S.jsx("option",{value:"",children:"All"}));for(let k=0;k<Qi.length;k++)Qi[k].decade!==O.decade&&z.push(S.jsx("option",{value:`${Qi[k].decade}`,children:Qi[k].decade}));m(z)}for(let A=1;A<51;A++)n.push(fetch(Rq(A),U1).then(z=>z.json()).then(z=>z.results));const j=[];Promise.all(n).then(A=>{for(let z=0;z<A.length;z++)for(let O=0;O<A[z].length;O++){let k="";A[z][O].release_date!==void 0&&(k=A[z][O].release_date.split("-")[0]);const L={title:A[z][O].original_title,page_title:A[z][O].original_title.replaceAll(" ","-").toLowerCase()+"-"+k,poster:"https://image.tmdb.org/t/p/original"+A[z][O].poster_path,id:A[z][O].id};j.push(L)}for(let z=0;z<30;z++){const O=j[z];O!==void 0&&r.push(S.jsx(dt,{to:`/movie/${O.page_title}`,children:S.jsx("img",{className:"poster-sizing",src:O.poster})}))}i(r),t(j)})},[]),g>0)for(let x=g;x<g+30;x++){const D=e[x];D!==void 0&&r.push(S.jsx(dt,{to:`/movie/${D.page_title}`,children:S.jsx("img",{className:"poster-sizing",src:D.poster})}))}const C=x=>{let D=x;if(D!==""){D=D.replaceAll(" ","%20");const U="https://api.themoviedb.org/3/search/movie?query="+D+"&include_adult=false&language=en-US&page=1";fetch(U,U1).then(M=>M.json()).then(M=>{const j=M.results,A=[],z=4;for(let k=0;k<j.length;k++){const L=j[k];let E="";L.release_date!==void 0&&L.release_date!==""&&(E="("+L.release_date.split("-")[0]+")");const N={title:L.original_title,year:E,page_title:L.original_title.replaceAll(" ","-").toLowerCase()+"-"+L.release_date.split("-")[0],poster:"https://image.tmdb.org/t/p/original"+L.poster_path,id:L.id};if(k===z)break;A.push(N)}const O=[];for(let k=0;k<30;k++){const L=A[k];L!==void 0&&O.push(S.jsx(dt,{to:`/movie/${L.page_title}`,children:S.jsxs("div",{className:"queried-result",children:[S.jsx("img",{className:"queried-result-img",src:L.poster}),S.jsx("p",{className:"queried-result-title",children:`${L.title} ${L.year}`})]})}))}b(S.jsx("div",{className:"queried-container",children:S.jsx("div",{className:"queried-box",children:S.jsx("ol",{children:O})})}))}).catch(M=>console.log(M))}else b(S.jsx("div",{}))};return S.jsx("div",{className:"movies-page-container",children:S.jsxs("div",{className:"movies-box",children:[S.jsxs("div",{className:"content-nav",children:[S.jsx("h1",{children:"Films"}),S.jsxs("div",{className:"filters",children:[S.jsxs("div",{class:"search-box",children:[S.jsx("input",{type:"text",placeholder:"  Search a film:",onChange:x=>{C(x.target.value)},onClick:()=>{console.log("ABORT")}}),S.jsx("span",{})]}),I,S.jsxs("label",{className:"genre-order",children:["Genre:",S.jsx("select",{className:"genre-dropdown",onChange:x=>{if(x.target.value==="")if(window.location.href.split("/").length>4){let D=4;window.location.href.includes("upcoming")&&(D=5),window.location.assign(window.location.href.replace(window.location.href.split("/")[D],"all"))}else window.location.assign("/films");else if(window.location.href.includes("popularity-desc")||window.location.href.includes("popularity-asc")){let D=4;window.location.href.includes("upcoming")&&(D=5),window.location.assign(window.location.href.replace(window.location.href.split("/")[D],x.target.value.toLowerCase()))}else window.location.href.includes("upcoming")&&!(window.location.href.includes("popularity-desc")||window.location.href.includes("popularity-asc"))?window.location.assign(window.location.href+"/"+x.target.value.toLowerCase()):window.location.assign("/films/"+x.target.value.toLowerCase())},style:n_,children:s})]}),S.jsxs("label",{className:"popularity-order",children:["Popularity Order:",S.jsx("select",{className:"popularity-dropdown",onChange:x=>{window.location.href.includes("popularity-desc")?window.location.assign(window.location.href.replace("popularity-desc",x.target.value)):window.location.href.includes("popularity-asc")?window.location.assign(window.location.href.replace("popularity-asc",x.target.value)):window.location.href.split("/").length===4?window.location.assign(window.location.href+"/all/"+x.target.value):window.location.assign(window.location.href+"/"+x.target.value)},style:n_,children:u})]}),S.jsxs("label",{className:"decade-order",children:["Decade:",S.jsx("select",{className:"decade-dropdown",onChange:x=>{if(x.target.value===""){let D=window.location.href.replace(window.location.href.split("/")[6],"");D=D.substring(0,D.length-1),window.location.assign(D)}else window.location.href.split("/").length===7?window.location.assign(window.location.href.replace(window.location.href.split("/")[6],x.target.value)):window.location.href.split("/").length===4?window.location.assign(window.location.href+"/all/popularity-desc/"+x.target.value):window.location.href.split("/").length===6?window.location.assign(window.location.href+"/"+x.target.value):window.location.assign(window.location.href+"/popularity-desc/"+x.target.value)},style:n_,children:f})]})]})]}),S.jsx("div",{className:"movieposters",children:S.jsx("ol",{children:r})}),S.jsx("div",{className:"expand-button",children:S.jsx("button",{onClick:()=>v(g+30),className:"expand",role:"button",children:"Load more"})})]})})}function Cq(n){return en("MuiTypography",n)}Ht("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const xq={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Aq=K6(),Pq=n=>{const{align:e,gutterBottom:t,noWrap:r,paragraph:i,variant:s,classes:l}=n,u={root:["root",s,n.align!=="inherit"&&`align${st(e)}`,t&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return dn(u,Cq,l)},kq=Ge("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${st(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(Cn(({theme:n})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([t,r])=>t!=="inherit"&&r&&typeof r=="object").map(([t,r])=>({props:{variant:t},style:r})),...Object.entries(n.palette).filter(Sc()).map(([t])=>({props:{color:t},style:{color:(n.vars||n).palette[t].main}})),...Object.entries(((e=n.palette)==null?void 0:e.text)||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${st(t)}`},style:{color:(n.vars||n).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}})),B1={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Lm=R.forwardRef(function(e,t){const{color:r,...i}=hn({props:e,name:"MuiTypography"}),s=!xq[r],l=Aq({...i,...s&&{color:r}}),{align:u="inherit",className:d,component:f,gutterBottom:m=!1,noWrap:g=!1,paragraph:v=!1,variant:I="body1",variantMapping:b=B1,...C}=l,x={...l,align:u,color:r,className:d,component:f,gutterBottom:m,noWrap:g,paragraph:v,variant:I,variantMapping:b},D=f||(v?"p":b[I]||B1[I])||"span",U=Pq(x);return S.jsx(kq,{as:D,ref:t,className:Ze(U.root,d),...C,ownerState:x,style:{...u!=="inherit"&&{"--Typography-textAlign":u},...C.style}})}),Nq=jg(S.jsx("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"}),"Favorite"),Mp={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxZjhlMDQ4MDIxYjY4YWMzNGI5ZjFmYzk2OGM1YTZkZSIsInN1YiI6IjY1M2ZkZTk5NTkwN2RlMDEzOGUyZGZlOSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.N7DRRuXIDC2GrKKT5ri51E8Cl99Z6qSnECSseLR_RcA"}};function Dq(){const n=window.location.href;let e="",t="";for(let G=n.length-1;G>=0&&n.charAt(G)!=="/";--G)e+=n.charAt(G);for(let G=0;G<4;G++)t+=e.charAt(G);e=e.substring(5,e.length).split("").reverse().join(""),t=t.split("").reverse().join(""),e=e.replaceAll("-","%20");const r="https://api.themoviedb.org/3/search/movie?query="+e+"&include_adult=false&language=en-US&page=1&year="+t,i=new bP,[s,l]=R.useState([]),[u,d]=R.useState(""),[f,m]=R.useState(""),[g,v]=R.useState(""),[I,b]=R.useState("Log"),[C,x]=R.useState("Add to Watchlist"),[D,U]=R.useState([]),[M,j]=R.useState("white"),[A,z]=R.useState({}),[O,k]=R.useState({}),[L,E]=R.useState(null),[N,B]=R.useState(null),[F,ae]=Rn.useState(0),[le,fe]=R.useState(!1),[Ee,ie]=R.useState(""),[se,ge]=Rn.useState(!1),q=()=>ge(!0),Z=()=>ge(!1),_e={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:1300,bgcolor:"#1c1c1c",border:"2px solid #000",boxShadow:24,p:4};R.useEffect(()=>{i.length===0&&fetch(r,Mp).then(G=>G.json()).then(G=>{l(G.results),m("https://image.tmdb.org/t/p/original"+G.results[0].poster_path)}).catch(G=>console.log(G))},[]),R.useEffect(()=>{(async()=>{tt(Ve(Fe),"authentications"),(await Zt(tt(Ve(Fe),"authentications"))).forEach(re=>{re.data().test===void 0&&k(re.data())})})()},{}),R.useEffect(()=>{const G=Dh(na,ue=>{E(ue||null)});return()=>{G()}},[]),R.useEffect(()=>{(async()=>{tt(Ve(Fe),"members"),(await Zt(tt(Ve(Fe),"members"))).forEach(re=>{re.data().test===void 0&&z(re.data())})})()},{});for(let G=0;G<s.length;G++){const ue=s[G];if(ue.title!==null){let re="",oe=ue.title;ue.original_language!=="en"&&(oe=ue.original_title,re=ue.title);const me={id:ue.id,title:oe,optional_title:re,description:ue.overview,release:ue.release_date,poster:"https://image.tmdb.org/t/p/original"+ue.poster_path,backdrop:"https://image.tmdb.org/t/p/w1280"+ue.backdrop_path,popularity:ue.popularity};i.enqueue(me);break}}const be=i.get(0)==null?0:i.get(0).id;if(O!==null&&L!==null&&N===null&&O[L.email]!==void 0&&B(O[L.email].username),L!==null&&O!==null&&A!==null&&N!==null&&A[N]!==void 0&&!le){const G=N;console.log(G);let ue=!1,re=!1,oe=0;if(console.log(A),A[G]!==void 0){for(let me=0;me<A[N].favoriteFilms.length;me++)if(A[N].favoriteFilms[me].id===be){j("#202d5c");break}for(let me=0;me<A[G].films.length;me++)if(A[G].films[me].id===be){ue=!0,oe=A[G].films[me].rating;break}if(ue)x("Watched"),b("Logged"),ae(oe);else{if(A[G].watchlist===void 0)A[G].watchlist=[],(async()=>{await Rt(Xe(Ve(Fe),"members","member"),A)})();else for(let me=0;me<A[G].watchlist.length;me++)if(A[G].watchlist[me].id===be){re=!0;break}re&&x("Added to Watchlist")}}fe(!0)}if(u===""&&fetch("https://api.themoviedb.org/3/movie/"+be+"/images?include_image_language=null",Mp).then(G=>G.json()).then(G=>{const ue=Math.floor(Math.random()*G.backdrops.length);let re=0;for(let oe=0;oe<G.backdrops.length;oe++)if(oe==ue){re=oe;break}d("https://image.tmdb.org/t/p/w1280"+G.backdrops[re].file_path)}).catch(G=>console.error("error:"+G)),g===""){let G=[],ue="";fetch("https://api.themoviedb.org/3/movie/"+be+"/credits?language=en-US",Mp).then(re=>re.json()).then(re=>{const oe=re.crew;for(let me=0;me<oe.length;me++){const ze=oe[me];ze.job==="Director"&&G.push(ze.name)}for(let me=0;me<G.length;me++)me!==G.length-1?ue+=G[me]+", ":ue+=G[me];v(ue)}).catch(re=>console.log(re))}let Se="",Re="";const Te=i.get(0)==null?"":i.get(0).release.split("-");switch(Te[1]){case"01":Se="January";break;case"02":Se="February";break;case"03":Se="March";break;case"04":Se="April";break;case"05":Se="May";break;case"06":Se="June";break;case"07":Se="July";break;case"08":Se="August";break;case"09":Se="September";break;case"10":Se="October";break;case"11":Se="November";break;case"12":Se="December";break}Re=Se+" "+Te[2]+", "+Te[0];let Ne=pl();const we=G=>{Ne(G)};return S.jsxs("div",{className:"movie-container",children:[S.jsx("center",{children:S.jsx("div",{className:"movie-banner-image",style:{backgroundImage:"url("+u+")"}})}),S.jsx("center",{children:S.jsxs("div",{className:"movie-information",children:[S.jsx("img",{className:"movie-poster",src:f}),S.jsxs("div",{className:"title",children:[S.jsx("p",{children:`${i.get(0)==null?"":i.get(0).title}`}),S.jsxs("div",{className:"movie-header",children:[S.jsx("div",{className:"optional-title",children:S.jsx("i",{children:`${i.get(0)==null?"":i.get(0).optional_title}`})}),S.jsxs("p",{children:["Directed by: ",`${g}`]}),S.jsxs("p",{children:[`${Re}`," "]})]})]}),S.jsx("div",{className:"description",children:S.jsx("p",{children:`${i.get(0)==null?"":i.get(0).description}`})})]})}),S.jsx("center",{children:S.jsxs("div",{className:"add-to-section",children:[S.jsx("button",{className:"add-to-watchlist-button",onClick:()=>{if(N===null){we("/signin");return}const G=i.get(0)==null?0:i.get(0).id;let ue=!1,re=!1;for(let oe=0;oe<A[N].films.length;oe++)if(A[N].films[oe].id===G){re=!0;break}if(!re){for(let oe=0;oe<A[N].watchlist.length;oe++)if(A[N].watchlist[oe].id===G){ue=!0;break}if(!ue)A[N].watchlist.push({id:G}),x("Added to Watchlist"),(async()=>{await Rt(Xe(Ve(Fe),"members","member"),A)})();else{for(let me=0;me<A[N].watchlist.length;me++)if(A[N].watchlist[me].id===G){console.log(me),A[N].watchlist.splice(me,1);break}x("Add to Watchlist"),(async()=>{await Rt(Xe(Ve(Fe),"members","member"),A)})()}}},children:C}),S.jsx("button",{className:"add-to-favorite-button",onClick:()=>{const G=[];let ue=!1;for(let re=0;re<A[N].favoriteFilms.length;re++)if(A[N].favoriteFilms[re].id===be){ue=!0;break}if(A[N].favoriteFilms.length===5)if(ue){for(let oe=0;oe<A[N].favoriteFilms.length;oe++)if(A[N].favoriteFilms[oe].id===be){A[N].favoriteFilms.splice(oe,1);break}(async()=>{await Rt(Xe(Ve(Fe),"members","member"),A)})(),j("white")}else{for(let re=0;re<A[N].favoriteFilms.length;re++){A[N].favoriteFilms[re],G.push(fetch("https://api.themoviedb.org/3/movie/"+A[N].favoriteFilms[re].id+"?language=en-US",Mp).then(ze=>ze.json()).then(ze=>ze));const oe=[],me=[];Promise.all(G).then(ze=>{for(let Ke=0;Ke<ze.length;Ke++){let rt="https://image.tmdb.org/t/p/original"+ze[Ke].poster_path;ze[Ke].release_date!==void 0&&ze[Ke].release_date.split("-")[0];for(let gt=0;gt<A[N].favoriteFilms.length;gt++)A[N].favoriteFilms[gt].id===ze[Ke].id&&A[N].favoriteFilms[gt].poster!==void 0&&(rt=A[N].favoriteFilms[gt].poster);const at={poster:rt};oe.push(at)}for(let Ke=0;Ke<oe.length;Ke++){const rt=oe[Ke];rt!==void 0&&me.push(rt.poster)}U(me)})}q()}else if(!ue)A[N].favoriteFilms.push({id:be}),(async()=>{await Rt(Xe(Ve(Fe),"members","member"),A)})(),j("#202d5c");else{for(let oe=0;oe<A[N].favoriteFilms.length;oe++)if(A[N].favoriteFilms[oe].id===be){A[N].favoriteFilms.splice(oe,1);break}(async()=>{await Rt(Xe(Ve(Fe),"members","member"),A)})(),j("white")}},children:S.jsx(Nq,{style:{color:M}})}),S.jsx(IE,{open:se,onClose:Z,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:S.jsxs(s0,{sx:_e,children:[S.jsx(Lm,{id:"modal-modal-title",variant:"h6",component:"h2",children:S.jsx("h1",{children:"Favorite"})}),S.jsx(Lm,{id:"modal-modal-description",sx:{mt:2},children:S.jsxs("div",{className:"favorite-movies-list",children:[S.jsx("img",{className:"favorite-movie-poster",src:D[0],onClick:()=>{A[N].favoriteFilms[0].id=i.get(0).id,(async()=>{await Rt(Xe(Ve(Fe),"members","member"),A)})(),Z(),j("#202d5c")}}),S.jsx("img",{className:"favorite-movie-poster",src:D[1],onClick:()=>{A[N].favoriteFilms[1].id=i.get(0).id,(async()=>{await Rt(Xe(Ve(Fe),"members","member"),A)})(),Z(),j("#202d5c")}}),S.jsx("img",{className:"favorite-movie-poster",src:D[2],onClick:()=>{A[N].favoriteFilms[2].id=i.get(0).id,(async()=>{await Rt(Xe(Ve(Fe),"members","member"),A)})(),Z(),j("#202d5c")}}),S.jsx("img",{className:"favorite-movie-poster",src:D[3],onClick:()=>{A[N].favoriteFilms[3].id=i.get(0).id,(async()=>{await Rt(Xe(Ve(Fe),"members","member"),A)})(),Z(),j("#202d5c")}}),S.jsx("img",{className:"favorite-movie-poster",src:D[4],onClick:()=>{A[N].favoriteFilms[4].id=i.get(0).id,(async()=>{await Rt(Xe(Ve(Fe),"members","member"),A)})(),Z(),j("#202d5c")}})]})})]})}),S.jsx("button",{className:"log-button",onClick:()=>{if(N===null){we("/signin");return}console.log("log!");const G=i.get(0)==null?0:i.get(0).id;let ue=!1;for(let re=0;re<A[N].films.length;re++)if(A[N].films[re].id===G){ue=!0;break}if(ue){for(let oe=0;oe<A[N].films.length;oe++)if(A[N].films[oe].id===G){A[N].films.splice(oe,1);break}A[N].filmsWatched=A[N].filmsWatched-1,b("Log"),x("Add to Watchlist"),(async()=>{await Rt(Xe(Ve(Fe),"members","member"),A)})(),ae(0)}else{A[N].films.push({id:G}),A[N].filmsWatched=A[N].filmsWatched+1;for(let oe=0;oe<A[N].watchlist.length;oe++)if(A[N].watchlist[oe].id===G){A[N].watchlist.splice(oe,1);break}b("Logged"),x("Watched"),(async()=>{await Rt(Xe(Ve(Fe),"members","member"),A)})()}},children:I}),S.jsxs("div",{className:"review-section",children:[S.jsx(bE,{className:"star-rating-icon",size:"large",precision:.5,value:F,onChange:(G,ue)=>{if(N===null){we("/signin");return}if(I==="Log"){A[N].films.push({id:be}),A[N].filmsWatched=A[N].filmsWatched+1;for(let oe=0;oe<A[N].watchlist.length;oe++)if(A[N].watchlist[oe].id===be){A[N].watchlist.splice(oe,1);break}b("Logged"),x("Watched")}for(let oe=0;oe<A[N].films.length;oe++)if(A[N].films[oe].id===be){A[N].films[oe].rating=ue;break}ae(ue),(async()=>{await Rt(Xe(Ve(Fe),"members","member"),A)})()}}),S.jsx(s0,{sx:{width:800,maxWidth:"100%"},children:S.jsx(im,{className:"textbox",fullWidth:!0,label:"Text Here",id:"custom-css-outlined-input",onChange:G=>{ie(G.target.value)}})}),S.jsx("button",{className:"submit-review-button",onClick:()=>{if(N===null){we("/signin");return}const G=[],ue=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];for(let Ke=0;Ke<ue.length;Ke++){G.push(ue[Ke]);const rt=ue[Ke].toUpperCase();G.push(rt)}const re=["0","1","2","3","4","5","6","7","8","9"];let oe="";oe+=G[Math.floor(Math.random()*G.length)],oe+=re[Math.floor(Math.random()*re.length)],oe+=G[Math.floor(Math.random()*G.length)],oe+=re[Math.floor(Math.random()*re.length)],oe+=G[Math.floor(Math.random()*G.length)],oe+=re[Math.floor(Math.random()*re.length)];let me=i.get(0)!==null?i.get(0).poster:"";for(let Ke=0;Ke<A[N].films.length;Ke++)A[N].films[Ke].id===i.get(0).id&&A[N].films[Ke].poster!==void 0&&(me=A[N].films[Ke].poster);A[N].reviews.push({reviewId:oe,title:i.get(0)!==null?i.get(0).title:"",year:i.get(0)!==null?i.get(0).release.split("-")[0]:"",poster:me,rating:F,date:new Date().toLocaleDateString(),review:Ee}),(async()=>{await Rt(Xe(Ve(Fe),"members","member"),A)})()},children:" Save"})]})]})}),S.jsx("div",{className:"copyright",children:S.jsx("center",{children:S.jsx("span",{style:{color:"blanchedalmond"},children:"© Cinematd. Co-founded by Amer Issa & Pride Yin"})})})]})}const Oq=()=>{const[n,e]=R.useState(""),[t,r]=R.useState(null),[i,s]=R.useState(null);R.useEffect(()=>{const f=document.createElement("script");return f.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA6kcIVEvtbUj3oRPirLRIQa8WjhAdb0Y8&libraries=places&callback=",f.async=!0,f.onload=()=>l(),document.head.appendChild(f),()=>{document.head.removeChild(f)}},[]);const l=()=>{const f=new window.google.maps.Map(document.getElementById("map"),{center:{lat:40.73061,lng:-73.935242},zoom:13}),m=new window.google.maps.places.PlacesService(f);r(f),s(m)},u=()=>{if(!n){alert("Please enter a valid zipcode.");return}new window.google.maps.Geocoder().geocode({address:n},(m,g)=>{if(g===window.google.maps.GeocoderStatus.OK&&m.length>0){const v=m[0].geometry.location;t.setCenter(v),i.nearbySearch({location:v,radius:5e3,type:"movie_theater"},(I,b)=>{if(b===window.google.maps.places.PlacesServiceStatus.OK){const C=I.filter(x=>x.types.includes("movie_theater"));d.forEach(x=>x.setMap(null)),d=C.map(x=>{const D=new window.google.maps.Marker({position:x.geometry.location,map:t,title:x.name});return D.addListener("click",()=>{new window.google.maps.InfoWindow({content:`<div><strong>${x.name}</strong><br>${x.vicinity}</div>`}).open(t,D)}),D})}})}else alert("Could not find location for the entered zipcode.")})};let d=[];return S.jsxs("div",{className:"movie-map-container",children:[S.jsxs("label",{children:["Enter Zipcode:",S.jsx("div",{class:"search-box",children:S.jsx("input",{type:"text",value:n,onChange:f=>e(f.target.value)})})]}),S.jsxs("button",{onClick:u,className:"search-button",role:"button",children:["Search Movie Theaters ",S.jsx(AP,{})]}),S.jsx("div",{id:"map",style:{height:"calc(100vh - 40px)",width:"100%"}})]})};function Mq(){let n=window.location.href.split("/")[4];const[e,t]=R.useState({}),[r,i]=R.useState([]),[s,l]=R.useState(!1);if(R.useEffect(()=>{(async()=>{(await Zt(tt(Ve(Fe),"members"))).forEach(f=>{f.data().test===void 0&&t(f.data())})})()},{}),!s&&e!==null){const u=[];if(e[n]!==void 0){for(let d=0;d<e[n].reviews.length;d++){const f=e[n].reviews[d];f!==void 0&&u.push(S.jsx(dt,{className:"review-link",to:`/review/${f.reviewId}`,children:S.jsxs("div",{className:"review",children:[S.jsx("img",{className:"movie-posters",src:f.poster}),S.jsxs("div",{className:"review-information",children:[S.jsx("h2",{children:`${f.title} (${f.year})`}),S.jsx("div",{className:"review-date",children:S.jsx("h5",{children:f.date})}),S.jsx("div",{className:"review-rating",children:S.jsx(bE,{size:"medium",precision:.5,value:f.rating,readOnly:!0})}),S.jsx("div",{className:"review-description",children:S.jsx("p",{children:f.review})})]})]})}))}l(!0),i(u)}}return S.jsx("div",{className:"review-page-container",children:S.jsxs("div",{className:"reviews-section",children:[S.jsx("div",{className:"title",children:S.jsx("h1",{children:"Reviews"})}),S.jsx("ol",{children:r})]})})}class Vm{constructor(){ld(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Vm}static use(){const e=NP(Vm.create).current,[t,r]=R.useState(!1);return e.shouldMount=t,e.setShouldMount=r,R.useEffect(e.mountEffect,[t]),e}mount(){return this.mounted||(this.mounted=Vq(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.start(...e)})}stop(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.stop(...e)})}pulsate(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.pulsate(...e)})}}function Lq(){return Vm.use()}function Vq(){let n,e;const t=new Promise((r,i)=>{n=r,e=i});return t.resolve=n,t.reject=e,t}function Fq(n){const{className:e,classes:t,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:l,in:u,onExited:d,timeout:f}=n,[m,g]=R.useState(!1),v=Ze(e,t.ripple,t.rippleVisible,r&&t.ripplePulsate),I={width:l,height:l,top:-(l/2)+s,left:-(l/2)+i},b=Ze(t.child,m&&t.childLeaving,r&&t.childPulsate);return!u&&!m&&g(!0),R.useEffect(()=>{if(!u&&d!=null){const C=setTimeout(d,f);return()=>{clearTimeout(C)}}},[d,u,f]),S.jsx("span",{className:v,style:I,children:S.jsx("span",{className:b})})}const oi=Ht("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),o0=550,jq=80,Uq=sE`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,Bq=sE`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,$q=sE`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,zq=Ge("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Wq=Ge(Fq,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${oi.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Uq};
    animation-duration: ${o0}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  &.${oi.ripplePulsate} {
    animation-duration: ${({theme:n})=>n.transitions.duration.shorter}ms;
  }

  & .${oi.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${oi.childLeaving} {
    opacity: 0;
    animation-name: ${Bq};
    animation-duration: ${o0}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  & .${oi.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${$q};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,qq=R.forwardRef(function(e,t){const r=hn({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:l,...u}=r,[d,f]=R.useState([]),m=R.useRef(0),g=R.useRef(null);R.useEffect(()=>{g.current&&(g.current(),g.current=null)},[d]);const v=R.useRef(!1),I=DP(),b=R.useRef(null),C=R.useRef(null),x=R.useCallback(j=>{const{pulsate:A,rippleX:z,rippleY:O,rippleSize:k,cb:L}=j;f(E=>[...E,S.jsx(Wq,{classes:{ripple:Ze(s.ripple,oi.ripple),rippleVisible:Ze(s.rippleVisible,oi.rippleVisible),ripplePulsate:Ze(s.ripplePulsate,oi.ripplePulsate),child:Ze(s.child,oi.child),childLeaving:Ze(s.childLeaving,oi.childLeaving),childPulsate:Ze(s.childPulsate,oi.childPulsate)},timeout:o0,pulsate:A,rippleX:z,rippleY:O,rippleSize:k},m.current)]),m.current+=1,g.current=L},[s]),D=R.useCallback((j={},A={},z=()=>{})=>{const{pulsate:O=!1,center:k=i||A.pulsate,fakeElement:L=!1}=A;if((j==null?void 0:j.type)==="mousedown"&&v.current){v.current=!1;return}(j==null?void 0:j.type)==="touchstart"&&(v.current=!0);const E=L?null:C.current,N=E?E.getBoundingClientRect():{width:0,height:0,left:0,top:0};let B,F,ae;if(k||j===void 0||j.clientX===0&&j.clientY===0||!j.clientX&&!j.touches)B=Math.round(N.width/2),F=Math.round(N.height/2);else{const{clientX:le,clientY:fe}=j.touches&&j.touches.length>0?j.touches[0]:j;B=Math.round(le-N.left),F=Math.round(fe-N.top)}if(k)ae=Math.sqrt((2*N.width**2+N.height**2)/3),ae%2===0&&(ae+=1);else{const le=Math.max(Math.abs((E?E.clientWidth:0)-B),B)*2+2,fe=Math.max(Math.abs((E?E.clientHeight:0)-F),F)*2+2;ae=Math.sqrt(le**2+fe**2)}j!=null&&j.touches?b.current===null&&(b.current=()=>{x({pulsate:O,rippleX:B,rippleY:F,rippleSize:ae,cb:z})},I.start(jq,()=>{b.current&&(b.current(),b.current=null)})):x({pulsate:O,rippleX:B,rippleY:F,rippleSize:ae,cb:z})},[i,x,I]),U=R.useCallback(()=>{D({},{pulsate:!0})},[D]),M=R.useCallback((j,A)=>{if(I.clear(),(j==null?void 0:j.type)==="touchend"&&b.current){b.current(),b.current=null,I.start(0,()=>{M(j,A)});return}b.current=null,f(z=>z.length>0?z.slice(1):z),g.current=A},[I]);return R.useImperativeHandle(t,()=>({pulsate:U,start:D,stop:M}),[U,D,M]),S.jsx(zq,{className:Ze(oi.root,s.root,l),ref:C,...u,children:S.jsx(EE,{component:null,exit:!0,children:d})})});function Hq(n){return en("MuiButtonBase",n)}const Gq=Ht("MuiButtonBase",["root","disabled","focusVisible"]),Kq=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:r,classes:i}=n,l=dn({root:["root",e&&"disabled",t&&"focusVisible"]},Hq,i);return t&&r&&(l.root+=` ${r}`),l},Qq=Ge("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Gq.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Jq=R.forwardRef(function(e,t){const r=hn({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:l,className:u,component:d="button",disabled:f=!1,disableRipple:m=!1,disableTouchRipple:g=!1,focusRipple:v=!1,focusVisibleClassName:I,LinkComponent:b="a",onBlur:C,onClick:x,onContextMenu:D,onDragLeave:U,onFocus:M,onFocusVisible:j,onKeyDown:A,onKeyUp:z,onMouseDown:O,onMouseLeave:k,onMouseUp:L,onTouchEnd:E,onTouchMove:N,onTouchStart:B,tabIndex:F=0,TouchRippleProps:ae,touchRippleRef:le,type:fe,...Ee}=r,ie=R.useRef(null),se=Lq(),ge=Qn(se.ref,le),[q,Z]=R.useState(!1);f&&q&&Z(!1),R.useImperativeHandle(i,()=>({focusVisible:()=>{Z(!0),ie.current.focus()}}),[]);const _e=se.shouldMount&&!m&&!f;R.useEffect(()=>{q&&v&&!m&&se.pulsate()},[m,v,q,se]);const be=Os(se,"start",O,g),Se=Os(se,"stop",D,g),Re=Os(se,"stop",U,g),Te=Os(se,"stop",L,g),Ne=Os(se,"stop",$e=>{q&&$e.preventDefault(),k&&k($e)},g),we=Os(se,"start",B,g),G=Os(se,"stop",E,g),ue=Os(se,"stop",N,g),re=Os(se,"stop",$e=>{xm($e.target)||Z(!1),C&&C($e)},!1),oe=Du($e=>{ie.current||(ie.current=$e.currentTarget),xm($e.target)&&(Z(!0),j&&j($e)),M&&M($e)}),me=()=>{const $e=ie.current;return d&&d!=="button"&&!($e.tagName==="A"&&$e.href)},ze=Du($e=>{v&&!$e.repeat&&q&&$e.key===" "&&se.stop($e,()=>{se.start($e)}),$e.target===$e.currentTarget&&me()&&$e.key===" "&&$e.preventDefault(),A&&A($e),$e.target===$e.currentTarget&&me()&&$e.key==="Enter"&&!f&&($e.preventDefault(),x&&x($e))}),Ke=Du($e=>{v&&$e.key===" "&&q&&!$e.defaultPrevented&&se.stop($e,()=>{se.pulsate($e)}),z&&z($e),x&&$e.target===$e.currentTarget&&me()&&$e.key===" "&&!$e.defaultPrevented&&x($e)});let rt=d;rt==="button"&&(Ee.href||Ee.to)&&(rt=b);const at={};rt==="button"?(at.type=fe===void 0?"button":fe,at.disabled=f):(!Ee.href&&!Ee.to&&(at.role="button"),f&&(at["aria-disabled"]=f));const gt=Qn(t,ie),bt={...r,centerRipple:s,component:d,disabled:f,disableRipple:m,disableTouchRipple:g,focusRipple:v,tabIndex:F,focusVisible:q},Et=Kq(bt);return S.jsxs(Qq,{as:rt,className:Ze(Et.root,u),ownerState:bt,onBlur:re,onClick:x,onContextMenu:Se,onFocus:oe,onKeyDown:ze,onKeyUp:Ke,onMouseDown:be,onMouseLeave:Ne,onMouseUp:Te,onDragLeave:Re,onTouchEnd:G,onTouchMove:ue,onTouchStart:we,ref:gt,tabIndex:f?-1:F,type:fe,...at,...Ee,children:[l,_e?S.jsx(qq,{ref:ge,center:s,...ae}):null]})});function Os(n,e,t,r=!1){return Du(i=>(t&&t(i),r||n[e](i),!0))}function Yq(n){return en("MuiButton",n)}const _u=Ht("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Xq=R.createContext({}),Zq=R.createContext(void 0),e8=n=>{const{color:e,disableElevation:t,fullWidth:r,size:i,variant:s,classes:l}=n,u={root:["root",s,`${s}${st(e)}`,`size${st(i)}`,`${s}Size${st(i)}`,`color${st(e)}`,t&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${st(i)}`],endIcon:["icon","endIcon",`iconSize${st(i)}`]},d=dn(u,Yq,l);return{...l,...d}},Tk=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],t8=Ge(Jq,{shouldForwardProp:n=>Mi(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${st(t.color)}`],e[`size${st(t.size)}`],e[`${t.variant}Size${st(t.size)}`],t.color==="inherit"&&e.colorInherit,t.disableElevation&&e.disableElevation,t.fullWidth&&e.fullWidth]}})(Cn(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],t=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return{...n.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${_u.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(n.vars||n).shadows[2],"&:hover":{boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2]}},"&:active":{boxShadow:(n.vars||n).shadows[8]},[`&.${_u.focusVisible}`]:{boxShadow:(n.vars||n).shadows[6]},[`&.${_u.disabled}`]:{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${_u.disabled}`]:{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(n.palette).filter(Sc()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(n.vars||n).palette[r].main,"--variant-outlinedColor":(n.vars||n).palette[r].main,"--variant-outlinedBorder":n.vars?`rgba(${n.vars.palette[r].mainChannel} / 0.5)`:Vo(n.palette[r].main,.5),"--variant-containedColor":(n.vars||n).palette[r].contrastText,"--variant-containedBg":(n.vars||n).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(n.vars||n).palette[r].dark,"--variant-textBg":n.vars?`rgba(${n.vars.palette[r].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Vo(n.palette[r].main,n.palette.action.hoverOpacity),"--variant-outlinedBorder":(n.vars||n).palette[r].main,"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette[r].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Vo(n.palette[r].main,n.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedHoverBg:t,"--variant-textBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:Vo(n.palette.text.primary,n.palette.action.hoverOpacity),"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:Vo(n.palette.text.primary,n.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:n.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${_u.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${_u.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}}]}})),n8=Ge("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.startIcon,e[`iconSize${st(t.size)}`]]}})({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},...Tk]}),r8=Ge("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.endIcon,e[`iconSize${st(t.size)}`]]}})({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},...Tk]}),i8=R.forwardRef(function(e,t){const r=R.useContext(Xq),i=R.useContext(Zq),s=Am(r,e),l=hn({props:s,name:"MuiButton"}),{children:u,color:d="primary",component:f="button",className:m,disabled:g=!1,disableElevation:v=!1,disableFocusRipple:I=!1,endIcon:b,focusVisibleClassName:C,fullWidth:x=!1,size:D="medium",startIcon:U,type:M,variant:j="text",...A}=l,z={...l,color:d,component:f,disabled:g,disableElevation:v,disableFocusRipple:I,fullWidth:x,size:D,type:M,variant:j},O=e8(z),k=U&&S.jsx(n8,{className:O.startIcon,ownerState:z,children:U}),L=b&&S.jsx(r8,{className:O.endIcon,ownerState:z,children:b}),E=i||"";return S.jsxs(t8,{ownerState:z,className:Ze(r.className,O.root,m,E),component:f,disabled:g,focusRipple:!I,focusVisibleClassName:Ze(O.focusVisible,C),ref:t,type:M,...A,classes:O,children:[k,u,L]})});let Lp=new Date().toLocaleDateString().split("/");Lp=[parseInt(Lp[0]),parseInt(Lp[1]),parseInt(Lp[2])];const $1={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxZjhlMDQ4MDIxYjY4YWMzNGI5ZjFmYzk2OGM1YTZkZSIsInN1YiI6IjY1M2ZkZTk5NTkwN2RlMDEzOGUyZGZlOSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.N7DRRuXIDC2GrKKT5ri51E8Cl99Z6qSnECSseLR_RcA"}};function s8(){let n=window.location.href.split("/")[4],e,t,r,i,s,l,u,d;const[f,m]=R.useState([]),[g,v]=R.useState([]),[I,b]=R.useState(""),[C,x]=R.useState({}),[D,U]=R.useState({}),[M,j]=R.useState(null),[A,z]=R.useState(""),[O,k]=R.useState(""),[L,E]=R.useState(""),[N,B]=R.useState(null),[F,ae]=R.useState("default-avatar-url"),[le,fe]=Rn.useState(!1),Ee=()=>fe(!0),ie=()=>fe(!1),se={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:1e3,bgcolor:"#1c1c1c",border:"2px solid #000",boxShadow:24,p:4};let ge;if(D!==null&&D.usernames!==void 0){for(let Re=0;Re<D.usernames.length;Re++)if(D.usernames[Re].username===n){const Te=yl();ge=dc(Te,`avatars/${D.usernames[Re].uid}`),tl(ge).then(Ne=>{ae(Ne)}).catch(Ne=>{console.log(Ne)})}}const q=Re=>{console.log("Handling avatar change...");const Te=Re.target.files[0];Te&&rj(ge,Te).then(we=>tl(ge)).then(we=>{ae(we)}).catch(we=>{})},Z=[],_e=[];if(R.useEffect(()=>{(async()=>{tt(Ve(Fe),"members"),(await Zt(tt(Ve(Fe),"members"))).forEach(Ne=>{Ne.data().test===void 0&&x(Ne.data())})})()},[]),R.useEffect(()=>{(async()=>{tt(Ve(Fe),"authentications"),(await Zt(tt(Ve(Fe),"authentications"))).forEach(Ne=>{Ne.data().test===void 0&&U(Ne.data())})})()},[]),R.useEffect(()=>{const Re=Dh(na,Te=>{j(Te||null)});return()=>{Re()}},[]),D!==null&&M!==null&&D[M.email]!==void 0&&(D[M.email].username!==n?(u=S.jsx("div",{}),C[D[M.email].username]!==void 0&&C[D[M.email].username].friends.includes(n)?l=S.jsx("button",{className:"follow-button",onClick:()=>{C[D[M.email].username].friends.splice(C[D[M.email].username].friends.indexOf(n),1);const Re=async()=>{await Rt(Xe(Ve(Fe),"members","member"),C)};async function Te(){await Re(),window.location.reload()}Te()},children:"Unfollow"}):l=S.jsx("button",{className:"follow-button",onClick:()=>{if(C[D[M.email].username].friends.includes(n))alert("You are already friends with this user.");else{C[D[M.email].username].friends.push(n);const Re=async()=>{await Rt(Xe(Ve(Fe),"members","member"),C)};async function Te(){await Re(),window.location.reload()}Te()}},children:"Follow"})):(l=S.jsx("div",{}),d=S.jsx("div",{className:"profile-sign-out",children:S.jsx("button",{className:"signout-button",onClick:()=>Se("/signout"),children:"Sign out"})}),u=S.jsxs("div",{children:[S.jsx(i8,{onClick:Ee,children:"Edit My Profile"}),S.jsx(IE,{open:le,onClose:ie,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:S.jsxs(s0,{sx:se,children:[S.jsx(Lm,{id:"modal-modal-title",variant:"h6",component:"h2",children:S.jsx("h1",{children:"Edit My Profile"})}),S.jsxs(Lm,{id:"modal-modal-description",sx:{mt:2},children:[S.jsxs("h3",{children:["Username: ",n]}),S.jsx("form",{children:S.jsx("input",{className:"names-textbox",fullWidth:!0,label:"Username",placeholder:"Username",onChange:Re=>z(Re.target.value)})}),S.jsxs("h3",{children:["Name: ",e]}),S.jsx("form",{children:S.jsx("input",{className:"names-textbox",fullWidth:!0,label:"Name",placeholder:"Name",onChange:Re=>k(Re.target.value)})}),S.jsx("h3",{children:"Bio:"}),S.jsx("form",{children:S.jsx("input",{className:"bio-textbox",fullWidth:!0,label:"Bio",placeholder:"Bio",onChange:Re=>E(Re.target.value)})}),S.jsx("h3",{children:"Avatar:"}),S.jsx("input",{className:"choose-avatar-button",accept:"image/*",id:"contained-button-file",type:"file",onChange:q}),S.jsx("center",{children:S.jsx("button",{className:"submit-changes-button",onClick:()=>{if(A==="")O!==""&&(C[n].name=O),L!==""&&(C[n].bio=L),N!==null&&(C[n].avatar=N);else{Object.keys(C).forEach(G=>{C[G]!==void 0&&C[G].friends!==void 0&&C[G].friends.includes(n)&&(C[G].friends.splice(C[G].friends.indexOf(n),1),C[G].friends.push(A))}),C[A]=C[n],O!==""&&(C[A].name=O),L!==""&&(C[A].bio=L),N!==null&&(C[A].avatar=N),D[M.email].username=A;for(let G=0;G<D.usernames.length;G++)D.usernames[G].username===n&&(D.usernames[G].username=A)}A!==""&&delete C[n];const Re=async()=>{await Rt(Xe(Ve(Fe),"members","member"),C)},Te=async()=>{await Rt(Xe(Ve(Fe),"authentications","auth"),D)},Ne=async()=>{await Rt(Xe(Ve(Fe),"users",M.uid),{username:A})};async function we(){await Re(),await Te(),await Ne(),Se(`/profile/${A}`),window.location.reload()}we()},children:"Submit"})})]})]})})]}))),C[n]!==void 0){e=C[n].name,t=C[n].bio,C[n].avatar,r=C[n].filmsWatched,i=C[n].reviews.length;let Re=0;for(let Te=0;Te<C[n].friends.length;Te++)C[n].friends[Te]!==void 0&&C[n].friends[Te]!==""&&Re++;if(s=Re,C[n].favoriteFilms.length>0&&f.length<C[n].favoriteFilms.length){for(let we=0;we<C[n].favoriteFilms.length;we++)Z.push(fetch("https://api.themoviedb.org/3/movie/"+C[n].favoriteFilms[we].id+"?language=en-US",$1).then(G=>G.json()).then(G=>G));const Te=[],Ne=[];Promise.all(Z).then(we=>{for(let ue=0;ue<we.length;ue++){let re="",oe="https://image.tmdb.org/t/p/original"+we[ue].poster_path;we[ue].release_date!==void 0&&(re=we[ue].release_date.split("-")[0]);for(let ze=0;ze<C[n].favoriteFilms.length;ze++)C[n].favoriteFilms[ze].id===we[ue].id&&C[n].favoriteFilms[ze].poster!==void 0&&(oe=C[n].favoriteFilms[ze].poster);const me={title:we[ue].original_title,page_title:we[ue].original_title.replaceAll(" ","-").toLowerCase()+"-"+re,poster:oe,backdrop:"https://image.tmdb.org/t/p/w1280"+we[ue].backdrop_path};Te.push(me)}const G=Math.floor(Math.random()*Te.length);for(let ue=0;ue<Te.length;ue++){const re=Te[ue];re!==void 0&&(G===ue&&I===""&&b("https://image.tmdb.org/t/p/w1280"+re.backdrop),Ne.push(S.jsx(dt,{to:`/movie/${re.page_title}`,children:S.jsx("img",{className:"poster-sizing",src:re.poster})})))}m(Ne)})}if(g.length===0&&C[n].watchlist.length>0){for(let we=0;we<C[n].watchlist.length;we++)_e.push(fetch("https://api.themoviedb.org/3/movie/"+C[n].watchlist[we].id+"?language=en-US",$1).then(G=>G.json()).then(G=>G));const Te=[],Ne=[];Promise.all(_e).then(we=>{for(let G=0;G<we.length;G++){if(we[G]===void 0||we[G].original_title===void 0)continue;let ue="",re="https://image.tmdb.org/t/p/original"+we[G].poster_path;we[G].release_date!==void 0&&(ue=we[G].release_date.split("-")[0]);for(let me=0;me<C[n].watchlist.length;me++)C[n].watchlist[me].id===we[G].id&&C[n].watchlist[me].poster!==void 0&&(re=C[n].watchlist[me].poster);const oe={title:we[G].original_title,page_title:we[G].original_title.replaceAll(" ","-").toLowerCase()+"-"+ue,poster:re,backdrop:"https://image.tmdb.org/t/p/w1280"+we[G].backdrop_path};Te.push(oe)}for(let G=0;G<5;G++){const ue=Te[G];ue!==void 0&&Ne.push(S.jsx(dt,{to:`/movie/${ue.page_title}`,children:S.jsx("img",{className:"poster-sizing",src:ue.poster})}))}v(Ne)})}}let be=pl();const Se=Re=>{be(Re)};return S.jsxs("div",{className:"profile-page-container",children:[S.jsx("div",{className:"profile-banner",children:S.jsx("div",{className:"movie-banner-image",style:{backgroundImage:"url("+I+")"}})}),S.jsxs("div",{className:"profile-box",children:[S.jsxs("div",{className:"profile-tab",children:[S.jsx("div",{className:"logged-movies-tab",children:S.jsxs("center",{children:[S.jsx("h2",{children:S.jsx(dt,{to:`/profile/${n}/logged`,className:"watch-link",children:"FILMS"})}),S.jsx("p",{style:{fontSize:"30px",color:"grey"},children:r})]})}),S.jsx("div",{className:"friends-tab",children:S.jsxs("center",{children:[S.jsx("h2",{children:S.jsx(dt,{className:"watch-link",onClick:()=>{Se(`/profile/${n}/following`),window.location.reload()},children:"FOLLOWING"})}),S.jsx("p",{style:{fontSize:"30px",color:"grey"},children:s})]})}),S.jsx("div",{className:"reviews-tab",children:S.jsxs("center",{children:[S.jsx("h2",{children:S.jsx(dt,{className:"watch-link",onClick:()=>{Se(`/profile/${n}/reviews`),window.location.reload()},children:"REVIEWS"})}),S.jsx("p",{style:{fontSize:"30px",color:"grey"},children:i})]})})]}),S.jsx("p",{children:"⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯"}),S.jsxs("div",{className:"user-tab",children:[S.jsx("h1",{children:n}),l]}),u,S.jsx("img",{className:"profile-picture",src:F,alt:"Profile Avatar"}),S.jsx("div",{className:"profile-name",children:S.jsx("h1",{children:e})}),S.jsx("div",{className:"profile-description",children:S.jsx("p",{children:t})}),d,S.jsx("div",{className:"profile-favorite-movies-title",children:S.jsx("h3",{children:"Favorite Movies"})}),S.jsx("div",{className:"profile-favorite-movies",children:S.jsx("ol",{children:f})}),S.jsx("div",{className:"watchlist-title",children:S.jsx("h3",{children:S.jsx(dt,{className:"watchlist-link",to:`/profile/${n}/watchlist`,children:"Watchlist"})})}),S.jsx("div",{className:"watchlist-movies",children:S.jsx("ol",{children:g})})]})]})}const o8=()=>{const[n,e]=R.useState(""),[t,r]=R.useState(""),[i,s]=R.useState({});R.useEffect(()=>{(async()=>{tt(Ve(Fe),"authentications"),(await Zt(tt(Ve(Fe),"authentications"))).forEach(g=>{g.data().test===void 0&&s(g.data())})})()},{});let l=pl();const u=f=>{l(f)},d=f=>{f.preventDefault(),dC(na,n,t).then(m=>{i!==void 0&&i[m.user.email]!==void 0&&u(`/profile/${i[m.user.email].username}`),console.log(m)}).catch(m=>{console.log(m)})};return S.jsx("div",{className:"sign-in-container",children:S.jsxs("form",{onSubmit:d,children:[S.jsx("h1",{children:"Log In to your Account"}),S.jsx("div",{className:"emailbox",children:S.jsx("form",{children:S.jsx("input",{className:"login-textbox",fullWidth:!0,label:"Email",id:"custom-css-outlined-input-email",onChange:f=>e(f.target.value),value:n,placeholder:"Enter your email",type:"email"})})}),S.jsx("div",{className:"passwordbox",children:S.jsx("form",{children:S.jsx("input",{className:"login-textbox",fullWidth:!0,label:"Password",id:"custom-css-outlined-input-password",onChange:f=>r(f.target.value),value:t,placeholder:"Enter your password",type:"password"})})}),S.jsx("div",{children:S.jsx(dt,{to:"/signup",className:"link",children:"Don't have an account? Sign Up"})}),S.jsx("center",{children:S.jsx("button",{className:"login-button",type:"submit",children:"Log In"})})]})})},a8=()=>{const[n,e]=R.useState(""),[t,r]=R.useState(""),[i,s]=R.useState(""),[l,u]=R.useState({}),[d,f]=R.useState({});R.useEffect(()=>{(async()=>{tt(Ve(Fe),"authentications"),(await Zt(tt(Ve(Fe),"authentications"))).forEach(C=>{C.data().test===void 0&&u(C.data())})})()},{}),R.useEffect(()=>{(async()=>{tt(Ve(Fe),"members"),(await Zt(tt(Ve(Fe),"members"))).forEach(C=>{C.data().test===void 0&&f(C.data())})})()},{});let m=pl();const g=I=>{m(I)},v=I=>{I.preventDefault();try{if(l!==void 0)if(l[t]===void 0)l.usernames.forEach(b=>{if(b===n)throw alert("Username already taken"),Error("Account with this email already exists.")}),l[t]={username:n,password:i,date:new Date().toLocaleDateString()};else throw alert("Account with this email already exists."),Error("Account with this email already exists.");cC(na,t,i).then(b=>{const C={username:n,uid:b.user.uid};l.usernames.push(C);const x=async()=>{await Rt(Xe(Ve(Fe),"authentications","auth"),l)},D={name:n,bio:"Hello Cinematd!",filmsWatched:0,favoriteFilms:[],films:[],watchlist:[],reviews:[],friends:[]};d[n]=D;const U=async()=>{await Rt(Xe(Ve(Fe),"members","member"),d)},M=async()=>{await Rt(Xe(Ve(Fe),"users",b.user.uid),{username:n})},j=async()=>{await Rt(Xe(Ve(Fe),"userChats",b.user.uid),{other:[],chatID:"0"})};async function A(){await x(),await U(),await M(),await j(),g(`/profile/${n}`),window.location.reload()}A(),console.log(C)}).catch(b=>{console.log(b)})}catch(b){console.log(b)}};return S.jsx("div",{className:"sign-up-container",children:S.jsxs("form",{onSubmit:v,children:[S.jsx("h1",{children:"Create Account"}),S.jsx("div",{className:"userbox",children:S.jsx(im,{className:"textbox",fullWidth:!0,label:"Username",id:"custom-css-outlined-input-user",onChange:I=>e(I.target.value),value:n,placeholder:"Enter your username",type:"username"})}),S.jsx("div",{className:"emailbox",children:S.jsx(im,{className:"textbox",fullWidth:!0,label:"Email",id:"custom-css-outlined-input-email",onChange:I=>r(I.target.value),value:t,placeholder:"Enter your email",type:"email"})}),S.jsx("div",{className:"passwordbox",children:S.jsx(im,{className:"textbox",fullWidth:!0,label:"Password",id:"custom-css-outlined-input-password",onChange:I=>s(I.target.value),value:i,placeholder:"Enter your password",type:"password"})}),S.jsx("div",{children:S.jsx(dt,{to:"/signin",className:"link",children:"Already have an account? Sign in"})}),S.jsx("button",{type:"submit",children:"Sign Up"})]})})};let Vp=new Date().toLocaleDateString().split("/");Vp=[parseInt(Vp[0]),parseInt(Vp[1]),parseInt(Vp[2])];const l8={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxZjhlMDQ4MDIxYjY4YWMzNGI5ZjFmYzk2OGM1YTZkZSIsInN1YiI6IjY1M2ZkZTk5NTkwN2RlMDEzOGUyZGZlOSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.N7DRRuXIDC2GrKKT5ri51E8Cl99Z6qSnECSseLR_RcA"}};function u8(){let n=window.location.href.split("/")[4];const[e,t]=R.useState([]),[r,i]=R.useState({}),s=[];if(R.useEffect(()=>{(async()=>{tt(Ve(Fe),"members"),(await Zt(tt(Ve(Fe),"members"))).forEach(d=>{d.data().test===void 0&&i(d.data())})})()},{}),r[n]!==void 0){for(let d=0;d<r[n].watchlist.length;d++)s.push(fetch("https://api.themoviedb.org/3/movie/"+r[n].watchlist[d].id+"?language=en-US",l8).then(f=>f.json()).then(f=>f));const l=[],u=[];Promise.all(s).then(d=>{for(let f=0;f<d.length;f++){if(d[f]===void 0||d[f].original_title===void 0)continue;let m="",g="https://image.tmdb.org/t/p/original"+d[f].poster_path;d[f].release_date!==void 0&&(m=d[f].release_date.split("-")[0]);for(let I=0;I<r[n].watchlist.length;I++)r[n].watchlist[I].id===d[f].id&&r[n].watchlist[I].poster!==void 0&&(g=r[n].watchlist[I].poster);const v={title:d[f].original_title,release_date:d[f].release_date,page_title:d[f].original_title.replaceAll(" ","-").toLowerCase()+"-"+m,poster:g};l.push(v)}l.sort((f,m)=>{const g=f.release_date.split("-"),v=m.release_date.split("-");return parseInt(g[0])<parseInt(v[0])?1:parseInt(g[0])>parseInt(v[0])?-1:parseInt(g[1])<parseInt(v[1])?1:parseInt(g[1])>parseInt(v[1])?-1:parseInt(g[2])<parseInt(v[2])?1:parseInt(g[2])>parseInt(v[2])?-1:0});for(let f=0;f<l.length;f++){const m=l[f];m!==void 0&&u.push(S.jsx(dt,{to:`/movie/${m.page_title}`,children:S.jsx("img",{className:"poster-sizing",src:m.poster})}))}t(u)})}return S.jsx("div",{className:"watchlist-page-container",children:S.jsxs("div",{className:"watchlist-box",children:[S.jsx("div",{className:"title",children:S.jsx("h1",{children:`${n}'s Watchlist`})}),S.jsx("div",{className:"watchlist-posters",children:S.jsx("ol",{children:e})})]})})}function c8(){return R.useContext(io),S.jsxs("div",{className:"App",children:[S.jsx(f$,{}),S.jsxs(ID,{children:[S.jsx(gn,{path:"/",element:S.jsx(qb,{})}),S.jsx(gn,{path:"/home",element:S.jsx(qb,{})}),S.jsx(gn,{path:"/films",element:S.jsx(Ad,{})}),S.jsx(gn,{path:"/profile/:name",element:S.jsx(s8,{})}),S.jsx(gn,{path:"/profile/:name/logged",element:S.jsx(S5,{})}),S.jsx(gn,{path:"/profile/:name/watchlist",element:S.jsx(u8,{})}),S.jsx(gn,{path:"/profile/:name/reviews",element:S.jsx(Mq,{})}),S.jsx(gn,{path:"/profile/:name/following",element:S.jsx(T5,{})}),S.jsx(gn,{path:"/films/upcoming",element:S.jsx(Ad,{})}),S.jsx(gn,{path:"/films/:genre",element:S.jsx(Ad,{})}),S.jsx(gn,{path:"/films/:genre/:popularity",element:S.jsx(Ad,{})}),S.jsx(gn,{path:"/films/:genre/:popularity/:decade",element:S.jsx(Ad,{})}),S.jsx(gn,{path:"/review/:reviewId",element:S.jsx(Sq,{})}),S.jsx(gn,{path:"/movie/:movieid",element:S.jsx(Dq,{})}),S.jsx(gn,{path:"/moviemap",element:S.jsx(Oq,{})}),S.jsx(gn,{path:"/signin",element:S.jsx(o8,{})}),S.jsx(gn,{path:"/signup",element:S.jsx(a8,{})}),S.jsx(gn,{path:"/signout",element:S.jsx(p$,{})}),S.jsx(gn,{path:"/chat",element:S.jsx(E5,{})}),S.jsx(gn,{path:"/members",element:S.jsx(Tq,{})})]})]})}var Fp={},z1;function d8(){if(z1)return Fp;z1=1;var n=oR();return Fp.createRoot=n.createRoot,Fp.hydrateRoot=n.hydrateRoot,Fp}var h8=d8();const f8=a0(h8),p8=f8.createRoot(document.getElementById("root"));p8.render(S.jsx(h5,{children:S.jsx(HD,{children:S.jsx(c8,{})})}));
